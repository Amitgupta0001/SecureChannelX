/* ========================================
   APP-SPECIFIC STYLES
======================================== */

/* Main App Layout */
.app-container {
  @apply min-h-screen w-full bg-[#0D1117] text-white;
}

/* Chat Layout */
.chat-layout {
  @apply flex h-screen overflow-hidden;
}

.chat-sidebar {
  @apply w-full md:w-[30%] md:min-w-[340px] md:max-w-[450px];
  @apply bg-[#111b21] border-r border-[#202c33];
  @apply flex flex-col h-full z-20;
}

.chat-main {
  @apply flex-1 relative h-full bg-[#0b141a];
}

/* Message Bubbles */
.message-bubble {
  @apply max-w-[65%] rounded-lg px-3 py-2 mb-2;
  @apply break-words shadow-sm;
}

.message-bubble-sent {
  @apply message-bubble bg-[#005c4b] text-white ml-auto;
  @apply rounded-br-none;
}

.message-bubble-received {
  @apply message-bubble bg-[#202c33] text-[#e9edef];
  @apply rounded-bl-none;
}

.message-bubble-system {
  @apply message-bubble bg-[#182229] text-[#8696a0] mx-auto text-center;
  @apply max-w-[80%] text-xs;
}

/* Message Timestamps */
.message-time {
  @apply text-[10px] text-gray-400 mt-1 text-right;
}

/* Typing Indicator */
.typing-indicator {
  @apply flex items-center gap-1 px-3 py-2 bg-[#202c33] rounded-lg;
  @apply max-w-[65%];
}

.typing-dot {
  @apply w-2 h-2 bg-[#8696a0] rounded-full;
  animation: pulse-slow 1.4s infinite;
}

.typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

/* Message Input */
.message-input-container {
  @apply flex items-end gap-2 p-3 bg-[#202c33] border-t border-[#2a3942];
}

.message-input {
  @apply flex-1 bg-[#2a3942] text-white rounded-lg px-4 py-3;
  @apply focus:outline-none resize-none max-h-32;
  @apply placeholder-[#8696a0];
}

.message-input-button {
  @apply p-3 rounded-lg bg-[#00a884] hover:bg-[#00967a];
  @apply text-white transition-colors active:scale-95;
  @apply disabled:opacity-50 disabled:cursor-not-allowed;
}

/* Chat Header */
.chat-header {
  @apply flex items-center justify-between px-4 py-3;
  @apply bg-[#202c33] border-b border-[#2a3942];
}

.chat-header-info {
  @apply flex items-center gap-3;
}

.chat-header-avatar {
  @apply w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-700;
  @apply flex items-center justify-center font-semibold text-lg;
}

.chat-header-actions {
  @apply flex items-center gap-2;
}

/* User List Item */
.user-list-item {
  @apply flex items-center gap-3 p-3 cursor-pointer;
  @apply hover:bg-[#2a3942] transition-colors;
  @apply border-b border-[#2a3942];
}

.user-list-item-active {
  @apply user-list-item bg-[#2a3942];
}

.user-avatar {
  @apply w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-700;
  @apply flex items-center justify-center font-semibold;
  @apply flex-shrink-0;
}

.user-info {
  @apply flex-1 min-w-0;
}

.user-name {
  @apply font-semibold text-white truncate;
}

.user-status {
  @apply text-sm text-[#8696a0] truncate;
}

/* Unread Badge */
.unread-badge {
  @apply bg-[#00a884] text-white rounded-full;
  @apply min-w-[20px] h-5 px-2 flex items-center justify-center;
  @apply text-xs font-semibold;
}

/* Modal Overlay */
.modal-overlay {
  @apply fixed inset-0 bg-black/70 backdrop-blur-sm;
  @apply flex items-center justify-center p-4;
  @apply z-[var(--z-modal-backdrop)];
  animation: fadeIn 0.2s ease-out;
}

.modal-content {
  @apply bg-[#111827] border border-[#1f2937] rounded-2xl;
  @apply max-w-md w-full max-h-[90vh] overflow-y-auto;
  @apply shadow-2xl;
  animation: scaleIn 0.2s ease-out;
}

.modal-header {
  @apply flex items-center justify-between p-6 border-b border-[#1f2937];
}

.modal-title {
  @apply text-xl font-bold;
}

.modal-close {
  @apply p-2 hover:bg-white/10 rounded-lg transition-colors;
}

.modal-body {
  @apply p-6;
}

.modal-footer {
  @apply flex items-center justify-end gap-3 p-6 border-t border-[#1f2937];
}

/* Toast Notifications */
.toast {
  @apply fixed bottom-4 right-4 z-[var(--z-tooltip)];
  @apply px-4 py-3 rounded-lg shadow-xl;
  @apply flex items-center gap-3 max-w-sm;
  animation: slideInRight 0.3s ease-out;
}

.toast-success {
  @apply toast bg-green-600 text-white;
}

.toast-error {
  @apply toast bg-red-600 text-white;
}

.toast-info {
  @apply toast bg-blue-600 text-white;
}

.toast-warning {
  @apply toast bg-yellow-600 text-white;
}

/* Loading Spinner */
.spinner {
  @apply inline-block w-5 h-5 border-2 border-white/30;
  @apply border-t-white rounded-full;
  animation: spin 0.6s linear infinite;
}

.spinner-lg {
  @apply spinner w-10 h-10 border-4;
}

/* Empty State */
.empty-state {
  @apply flex flex-col items-center justify-center;
  @apply text-center text-gray-400 py-12 px-4;
}

.empty-state-icon {
  @apply mb-4 text-gray-500;
}

.empty-state-title {
  @apply text-lg font-semibold text-white mb-2;
}

.empty-state-description {
  @apply text-sm text-gray-400;
}

/* File Preview */
.file-preview {
  @apply relative rounded-lg overflow-hidden;
  @apply border border-[#1f2937] bg-[#111827];
}

.file-preview-image {
  @apply w-full h-auto object-cover;
}

.file-preview-icon {
  @apply flex items-center justify-center h-32;
  @apply text-gray-400;
}

.file-preview-name {
  @apply px-3 py-2 text-sm truncate;
  @apply bg-[#0D1117] border-t border-[#1f2937];
}

/* Search Bar */
.search-bar {
  @apply flex items-center gap-2 px-4 py-3;
  @apply bg-[#202c33] border-b border-[#2a3942];
}

.search-input {
  @apply flex-1 bg-[#2a3942] text-white rounded-lg px-4 py-2;
  @apply focus:outline-none placeholder-[#8696a0];
}

/* Context Menu */
.context-menu {
  @apply absolute bg-[#111827] border border-[#1f2937];
  @apply rounded-lg shadow-xl py-1 min-w-[160px];
  @apply z-[var(--z-dropdown)];
  animation: scaleIn 0.15s ease-out;
}

.context-menu-item {
  @apply px-4 py-2 cursor-pointer;
  @apply hover:bg-[#1f2937] transition-colors;
  @apply text-sm flex items-center gap-2;
}

.context-menu-separator {
  @apply h-px bg-[#1f2937] my-1;
}

/* Status Indicators */
.status-online {
  @apply w-3 h-3 rounded-full bg-green-500;
  @apply border-2 border-[#111827];
}

.status-offline {
  @apply w-3 h-3 rounded-full bg-gray-500;
  @apply border-2 border-[#111827];
}

.status-away {
  @apply w-3 h-3 rounded-full bg-yellow-500;
  @apply border-2 border-[#111827];
}

/* Reaction Picker */
.reaction-picker {
  @apply flex flex-wrap gap-2 p-3;
  @apply bg-[#202c33] rounded-lg;
}

.reaction-emoji {
  @apply w-10 h-10 flex items-center justify-center;
  @apply text-2xl cursor-pointer rounded;
  @apply hover:bg-[#2a3942] transition-colors;
  @apply active:scale-90;
}

/* Message Reactions */
.message-reactions {
  @apply flex flex-wrap gap-1 mt-1;
}

.message-reaction {
  @apply inline-flex items-center gap-1 px-2 py-0.5;
  @apply bg-[#2a3942] rounded-full text-xs;
  @apply cursor-pointer hover:bg-[#374151] transition-colors;
}

/* Video Call UI */
.video-container {
  @apply relative w-full h-full bg-black;
}

.video-local {
  @apply absolute top-4 right-4 w-32 h-24;
  @apply rounded-lg overflow-hidden shadow-xl;
  @apply border-2 border-white/20;
}

.video-remote {
  @apply w-full h-full object-cover;
}

.video-controls {
  @apply absolute bottom-0 left-0 right-0;
  @apply flex items-center justify-center gap-4 p-6;
  @apply bg-gradient-to-t from-black/80 to-transparent;
}

.video-control-btn {
  @apply w-14 h-14 rounded-full flex items-center justify-center;
  @apply transition-all active:scale-90;
}

.video-control-btn-danger {
  @apply video-control-btn bg-red-600 hover:bg-red-700;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .message-bubble {
    @apply max-w-[80%];
  }

  .chat-sidebar {
    @apply fixed inset-0 z-30;
  }

  .modal-content {
    @apply max-w-full m-4;
  }
}

/* Animations for route transitions */
.page-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 300ms, transform 300ms;
}

.page-exit {
  opacity: 1;
}

.page-exit-active {
  opacity: 0;
  transition: opacity 300ms;
}