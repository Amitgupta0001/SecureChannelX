var W0=Object.defineProperty;var K0=(e,t,n)=>t in e?W0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hd=(e,t,n)=>K0(e,typeof t!="symbol"?t+"":t,n);function q0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function G0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ip={exports:{}},Vo={},op={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),Q0=Symbol.for("react.portal"),X0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),ev=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),nv=Symbol.for("react.suspense"),rv=Symbol.for("react.memo"),sv=Symbol.for("react.lazy"),pd=Symbol.iterator;function iv(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,up={};function Or(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||ap}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cp(){}cp.prototype=Or.prototype;function Mu(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||ap}var Vu=Mu.prototype=new cp;Vu.constructor=Mu;lp(Vu,Or.prototype);Vu.isPureReactComponent=!0;var md=Array.isArray,dp=Object.prototype.hasOwnProperty,Fu={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)dp.call(t,r)&&!fp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ks,type:e,key:i,ref:o,props:s,_owner:Fu.current}}function ov(e,t){return{$$typeof:Ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks}function av(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?av(""+e.key):t.toString(36)}function Oi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ks:case Q0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+wa(o,0):r,md(s)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),Oi(s,t,n,"",function(u){return u})):s!=null&&(Bu(s)&&(s=ov(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gd,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",md(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+wa(i,a);o+=Oi(i,t,n,l,s)}else if(l=iv(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+wa(i,a++),o+=Oi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ui(e,t,n){if(e==null)return e;var r=[],s=0;return Oi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},Di={transition:null},uv={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:Di,ReactCurrentOwner:Fu};function pp(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ui,forEach:function(e,t,n){ui(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ui(e,function(){t++}),t},toArray:function(e){return ui(e,function(t){return t})||[]},only:function(e){if(!Bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Or;z.Fragment=X0;z.Profiler=J0;z.PureComponent=Mu;z.StrictMode=Y0;z.Suspense=nv;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uv;z.act=pp;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Fu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dp.call(t,l)&&!fp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ks,type:e.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(e){return e={$$typeof:ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z0,_context:e},e.Consumer=e};z.createElement=hp;z.createFactory=function(e){var t=hp.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:tv,render:e}};z.isValidElement=Bu;z.lazy=function(e){return{$$typeof:sv,_payload:{_status:-1,_result:e},_init:lv}};z.memo=function(e,t){return{$$typeof:rv,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Di.transition;Di.transition={};try{e()}finally{Di.transition=t}};z.unstable_act=pp;z.useCallback=function(e,t){return Oe.current.useCallback(e,t)};z.useContext=function(e){return Oe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};z.useEffect=function(e,t){return Oe.current.useEffect(e,t)};z.useId=function(){return Oe.current.useId()};z.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Oe.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};z.useRef=function(e){return Oe.current.useRef(e)};z.useState=function(e){return Oe.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Oe.current.useTransition()};z.version="18.3.1";op.exports=z;var x=op.exports;const qs=G0(x),cv=q0({__proto__:null,default:qs},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=x,fv=Symbol.for("react.element"),hv=Symbol.for("react.fragment"),pv=Object.prototype.hasOwnProperty,mv=dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gv={key:!0,ref:!0,__self:!0,__source:!0};function mp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)pv.call(t,r)&&!gv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:fv,type:e,key:i,ref:o,props:s,_owner:mv.current}}Vo.Fragment=hv;Vo.jsx=mp;Vo.jsxs=mp;ip.exports=Vo;var f=ip.exports,pl={},gp={exports:{}},Ye={},yp={exports:{}},vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,V){var B=A.length;A.push(V);e:for(;0<B;){var M=B-1>>>1,K=A[M];if(0<s(K,V))A[M]=V,A[B]=K,B=M;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var V=A[0],B=A.pop();if(B!==V){A[0]=B;e:for(var M=0,K=A.length,ut=K>>>1;M<ut;){var Ne=2*(M+1)-1,jt=A[Ne],He=Ne+1,bn=A[He];if(0>s(jt,B))He<K&&0>s(bn,jt)?(A[M]=bn,A[He]=B,M=He):(A[M]=jt,A[Ne]=B,M=Ne);else if(He<K&&0>s(bn,B))A[M]=bn,A[He]=B,M=He;else break e}}return V}function s(A,V){var B=A.sortIndex-V.sortIndex;return B!==0?B:A.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,h=3,y=!1,m=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=A)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function C(A){if(w=!1,g(A),!m)if(n(l)!==null)m=!0,H(k);else{var V=n(u);V!==null&&je(C,V.startTime-A)}}function k(A,V){m=!1,w&&(w=!1,v(T),T=-1),y=!0;var B=h;try{for(g(V),c=n(l);c!==null&&(!(c.expirationTime>V)||A&&!R());){var M=c.callback;if(typeof M=="function"){c.callback=null,h=c.priorityLevel;var K=M(c.expirationTime<=V);V=e.unstable_now(),typeof K=="function"?c.callback=K:c===n(l)&&r(l),g(V)}else r(l);c=n(l)}if(c!==null)var ut=!0;else{var Ne=n(u);Ne!==null&&je(C,Ne.startTime-V),ut=!1}return ut}finally{c=null,h=B,y=!1}}var E=!1,_=null,T=-1,N=5,P=-1;function R(){return!(e.unstable_now()-P<N)}function D(){if(_!==null){var A=e.unstable_now();P=A;var V=!0;try{V=_(!0,A)}finally{V?W():(E=!1,_=null)}}else E=!1}var W;if(typeof p=="function")W=function(){p(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,lt=G.port2;G.port1.onmessage=D,W=function(){lt.postMessage(null)}}else W=function(){S(D,0)};function H(A){_=A,E||(E=!0,W())}function je(A,V){T=S(function(){A(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,H(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var B=h;h=V;try{return A()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=h;h=A;try{return V()}finally{h=B}},e.unstable_scheduleCallback=function(A,V,B){var M=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?M+B:M):B=M,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=B+K,A={id:d++,callback:V,priorityLevel:A,startTime:B,expirationTime:K,sortIndex:-1},B>M?(A.sortIndex=B,t(u,A),n(l)===null&&A===n(u)&&(w?(v(T),T=-1):w=!0,je(C,B-M))):(A.sortIndex=K,t(l,A),m||y||(m=!0,H(k))),A},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(A){var V=h;return function(){var B=h;h=V;try{return A.apply(this,arguments)}finally{h=B}}}})(vp);yp.exports=vp;var yv=yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=x,Qe=yv;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,Es={};function Gn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(Es[e]=t,e=0;e<t.length;e++)xp.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=Object.prototype.hasOwnProperty,xv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},vd={};function wv(e){return ml.call(vd,e)?!0:ml.call(yd,e)?!1:xv.test(e)?vd[e]=!0:(yd[e]=!0,!1)}function Sv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cv(e,t,n,r){if(t===null||typeof t>"u"||Sv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iu,zu);Se[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iu,zu);Se[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iu,zu);Se[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uu(e,t,n,r){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cv(t,n,s,r)&&(n=null),r||s===null?wv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),gl=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),Hu=Symbol.for("react.forward_ref"),yl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Wu=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Cp=Symbol.for("react.offscreen"),xd=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=xd&&e[xd]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Sa;function is(e){if(Sa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sa=t&&t[1]||""}return`
`+Sa+e}var Ca=!1;function ka(e,t){if(!e||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?is(e):""}function kv(e){switch(e.tag){case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case gl:return"Profiler";case $u:return"StrictMode";case yl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case wp:return(e._context.displayName||"Context")+".Provider";case Hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wu:return t=e.displayName||null,t!==null?t:xl(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return xl(e(t))}catch{}}return null}function Ev(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bv(e){var t=kp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){e._valueTracker||(e._valueTracker=bv(e))}function Ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function wd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(e,t){t=t.checked,t!=null&&Uu(e,"checked",t,!1)}function Sl(e,t){bp(e,t);var n=gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cl(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cl(e,t,n){(t!=="number"||to(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var os=Array.isArray;function vr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(os(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function _p(e,t){var n=gn(t.value),r=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fi,Pp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(e){_v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ds[t]=ds[e]})});function jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ds.hasOwnProperty(e)&&ds[e]?(""+t).trim():t+"px"}function Np(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Tv=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if(Tv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=null;function Ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,xr=null,wr=null;function Ed(e){if(e=Xs(e)){if(typeof Pl!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Uo(t),Pl(e.stateNode,e.type,t))}}function Rp(e){xr?wr?wr.push(e):wr=[e]:xr=e}function Ap(){if(xr){var e=xr,t=wr;if(wr=xr=null,Ed(e),t)for(e=0;e<t.length;e++)Ed(t[e])}}function Lp(e,t){return e(t)}function Op(){}var Ea=!1;function Dp(e,t,n){if(Ea)return e(t,n);Ea=!0;try{return Lp(e,t,n)}finally{Ea=!1,(xr!==null||wr!==null)&&(Op(),Ap())}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var r=Uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var jl=!1;if(Ft)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{jl=!1}function Pv(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var fs=!1,no=null,ro=!1,Nl=null,jv={onError:function(e){fs=!0,no=e}};function Nv(e,t,n,r,s,i,o,a,l){fs=!1,no=null,Pv.apply(jv,arguments)}function Rv(e,t,n,r,s,i,o,a,l){if(Nv.apply(this,arguments),fs){if(fs){var u=no;fs=!1,no=null}else throw Error(j(198));ro||(ro=!0,Nl=u)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bd(e){if(Qn(e)!==e)throw Error(j(188))}function Av(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return bd(s),e;if(i===r)return bd(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Vp(e){return e=Av(e),e!==null?Fp(e):null}function Fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fp(e);if(t!==null)return t;e=e.sibling}return null}var Bp=Qe.unstable_scheduleCallback,_d=Qe.unstable_cancelCallback,Lv=Qe.unstable_shouldYield,Ov=Qe.unstable_requestPaint,le=Qe.unstable_now,Dv=Qe.unstable_getCurrentPriorityLevel,qu=Qe.unstable_ImmediatePriority,Ip=Qe.unstable_UserBlockingPriority,so=Qe.unstable_NormalPriority,Mv=Qe.unstable_LowPriority,zp=Qe.unstable_IdlePriority,Fo=null,Et=null;function Vv(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Fo,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Iv,Fv=Math.log,Bv=Math.LN2;function Iv(e){return e>>>=0,e===0?32:31-(Fv(e)/Bv|0)|0}var hi=64,pi=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function io(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=as(a):(i&=o,i!==0&&(r=as(i)))}else o=n&~s,o!==0?r=as(o):i!==0&&(r=as(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),s=1<<n,r|=e[n],t&=~s;return r}function zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=zv(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Up(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function ba(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function $v(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Gu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var q=0;function $p(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hp,Qu,Wp,Kp,qp,Al=!1,mi=[],rn=null,sn=null,on=null,Ts=new Map,Ps=new Map,Jt=[],Hv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function Kr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xs(t),t!==null&&Qu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Wv(e,t,n,r,s){switch(t){case"focusin":return rn=Kr(rn,e,t,n,r,s),!0;case"dragenter":return sn=Kr(sn,e,t,n,r,s),!0;case"mouseover":return on=Kr(on,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ts.set(i,Kr(Ts.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ps.set(i,Kr(Ps.get(i)||null,e,t,n,r,s)),!0}return!1}function Gp(e){var t=Ln(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mp(n),t!==null){e.blockedOn=t,qp(e.priority,function(){Wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tl=r,n.target.dispatchEvent(r),Tl=null}else return t=Xs(n),t!==null&&Qu(t),e.blockedOn=n,!1;t.shift()}return!0}function Pd(e,t,n){Mi(e)&&n.delete(t)}function Kv(){Al=!1,rn!==null&&Mi(rn)&&(rn=null),sn!==null&&Mi(sn)&&(sn=null),on!==null&&Mi(on)&&(on=null),Ts.forEach(Pd),Ps.forEach(Pd)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Al||(Al=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Kv)))}function js(e){function t(s){return qr(s,e)}if(0<mi.length){qr(mi[0],e);for(var n=1;n<mi.length;n++){var r=mi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&qr(rn,e),sn!==null&&qr(sn,e),on!==null&&qr(on,e),Ts.forEach(t),Ps.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&Jt.shift()}var Sr=Ht.ReactCurrentBatchConfig,oo=!0;function qv(e,t,n,r){var s=q,i=Sr.transition;Sr.transition=null;try{q=1,Xu(e,t,n,r)}finally{q=s,Sr.transition=i}}function Gv(e,t,n,r){var s=q,i=Sr.transition;Sr.transition=null;try{q=4,Xu(e,t,n,r)}finally{q=s,Sr.transition=i}}function Xu(e,t,n,r){if(oo){var s=Ll(e,t,n,r);if(s===null)Da(e,t,r,ao,n),Td(e,r);else if(Wv(s,e,t,n,r))r.stopPropagation();else if(Td(e,r),t&4&&-1<Hv.indexOf(e)){for(;s!==null;){var i=Xs(s);if(i!==null&&Hp(i),i=Ll(e,t,n,r),i===null&&Da(e,t,r,ao,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Da(e,t,r,null,n)}}var ao=null;function Ll(e,t,n,r){if(ao=null,e=Ku(r),e=Ln(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ao=e,null}function Qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dv()){case qu:return 1;case Ip:return 4;case so:case Mv:return 16;case zp:return 536870912;default:return 16}default:return 16}}var en=null,Yu=null,Vi=null;function Xp(){if(Vi)return Vi;var e,t=Yu,n=t.length,r,s="value"in en?en.value:en.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Vi=s.slice(e,1<r?1-r:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function jd(){return!1}function Je(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gi:jd,this.isPropagationStopped=jd,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ju=Je(Dr),Qs=oe({},Dr,{view:0,detail:0}),Qv=Je(Qs),_a,Ta,Gr,Bo=oe({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(_a=e.screenX-Gr.screenX,Ta=e.screenY-Gr.screenY):Ta=_a=0,Gr=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Nd=Je(Bo),Xv=oe({},Bo,{dataTransfer:0}),Yv=Je(Xv),Jv=oe({},Qs,{relatedTarget:0}),Pa=Je(Jv),Zv=oe({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=Je(Zv),tx=oe({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nx=Je(tx),rx=oe({},Dr,{data:0}),Rd=Je(rx),sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ox[e])?!!t[e]:!1}function Zu(){return ax}var lx=oe({},Qs,{key:function(e){if(e.key){var t=sx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ix[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ux=Je(lx),cx=oe({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=Je(cx),dx=oe({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),fx=Je(dx),hx=oe({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=Je(hx),mx=oe({},Bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=Je(mx),yx=[9,13,27,32],ec=Ft&&"CompositionEvent"in window,hs=null;Ft&&"documentMode"in document&&(hs=document.documentMode);var vx=Ft&&"TextEvent"in window&&!hs,Yp=Ft&&(!ec||hs&&8<hs&&11>=hs),Ld=" ",Od=!1;function Jp(e,t){switch(e){case"keyup":return yx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function xx(e,t){switch(e){case"compositionend":return Zp(t);case"keypress":return t.which!==32?null:(Od=!0,Ld);case"textInput":return e=t.data,e===Ld&&Od?null:e;default:return null}}function wx(e,t){if(sr)return e==="compositionend"||!ec&&Jp(e,t)?(e=Xp(),Vi=Yu=en=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yp&&t.locale!=="ko"?null:t.data;default:return null}}var Sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sx[e.type]:t==="textarea"}function em(e,t,n,r){Rp(r),t=lo(t,"onChange"),0<t.length&&(n=new Ju("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ps=null,Ns=null;function Cx(e){dm(e,0)}function Io(e){var t=ar(e);if(Ep(t))return e}function kx(e,t){if(e==="change")return t}var tm=!1;if(Ft){var ja;if(Ft){var Na="oninput"in document;if(!Na){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Na=typeof Md.oninput=="function"}ja=Na}else ja=!1;tm=ja&&(!document.documentMode||9<document.documentMode)}function Vd(){ps&&(ps.detachEvent("onpropertychange",nm),Ns=ps=null)}function nm(e){if(e.propertyName==="value"&&Io(Ns)){var t=[];em(t,Ns,e,Ku(e)),Dp(Cx,t)}}function Ex(e,t,n){e==="focusin"?(Vd(),ps=t,Ns=n,ps.attachEvent("onpropertychange",nm)):e==="focusout"&&Vd()}function bx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Io(Ns)}function _x(e,t){if(e==="click")return Io(t)}function Tx(e,t){if(e==="input"||e==="change")return Io(t)}function Px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Px;function Rs(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ml.call(t,s)||!yt(e[s],t[s]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var n=Fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sm(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=to(e.document)}return t}function tc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jx(e){var t=sm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(r!==null&&tc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Bd(n,i);var o=Bd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nx=Ft&&"documentMode"in document&&11>=document.documentMode,ir=null,Ol=null,ms=null,Dl=!1;function Id(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dl||ir==null||ir!==to(r)||(r=ir,"selectionStart"in r&&tc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&Rs(ms,r)||(ms=r,r=lo(Ol,"onSelect"),0<r.length&&(t=new Ju("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var or={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},Ra={},im={};Ft&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function zo(e){if(Ra[e])return Ra[e];if(!or[e])return e;var t=or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in im)return Ra[e]=t[n];return e}var om=zo("animationend"),am=zo("animationiteration"),lm=zo("animationstart"),um=zo("transitionend"),cm=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){cm.set(e,t),Gn(t,[e])}for(var Aa=0;Aa<zd.length;Aa++){var La=zd[Aa],Rx=La.toLowerCase(),Ax=La[0].toUpperCase()+La.slice(1);wn(Rx,"on"+Ax)}wn(om,"onAnimationEnd");wn(am,"onAnimationIteration");wn(lm,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(um,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Ud(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rv(r,t,void 0,e),e.currentTarget=null}function dm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ud(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ud(s,a,u),i=l}}}if(ro)throw e=Nl,ro=!1,Nl=null,e}function Z(e,t){var n=t[Il];n===void 0&&(n=t[Il]=new Set);var r=e+"__bubble";n.has(r)||(fm(t,e,2,!1),n.add(r))}function Oa(e,t,n){var r=0;t&&(r|=4),fm(n,e,r,t)}var vi="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[vi]){e[vi]=!0,xp.forEach(function(n){n!=="selectionchange"&&(Lx.has(n)||Oa(n,!1,e),Oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vi]||(t[vi]=!0,Oa("selectionchange",!1,t))}}function fm(e,t,n,r){switch(Qp(t)){case 1:var s=qv;break;case 4:s=Gv;break;default:s=Xu}n=s.bind(null,t,n,e),s=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Da(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ln(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Dp(function(){var u=i,d=Ku(n),c=[];e:{var h=cm.get(e);if(h!==void 0){var y=Ju,m=e;switch(e){case"keypress":if(Fi(n)===0)break e;case"keydown":case"keyup":y=ux;break;case"focusin":m="focus",y=Pa;break;case"focusout":m="blur",y=Pa;break;case"beforeblur":case"afterblur":y=Pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fx;break;case om:case am:case lm:y=ex;break;case um:y=px;break;case"scroll":y=Qv;break;case"wheel":y=gx;break;case"copy":case"cut":case"paste":y=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ad}var w=(t&4)!==0,S=!w&&e==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,g;p!==null;){g=p;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,v!==null&&(C=_s(p,v),C!=null&&w.push(Ls(p,C,g)))),S)break;p=p.return}0<w.length&&(h=new y(h,m,null,n,d),c.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Tl&&(m=n.relatedTarget||n.fromElement)&&(Ln(m)||m[Bt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=u,m=m?Ln(m):null,m!==null&&(S=Qn(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=u),y!==m)){if(w=Nd,C="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ad,C="onPointerLeave",v="onPointerEnter",p="pointer"),S=y==null?h:ar(y),g=m==null?h:ar(m),h=new w(C,p+"leave",y,n,d),h.target=S,h.relatedTarget=g,C=null,Ln(d)===u&&(w=new w(v,p+"enter",m,n,d),w.target=g,w.relatedTarget=S,C=w),S=C,y&&m)t:{for(w=y,v=m,p=0,g=w;g;g=Jn(g))p++;for(g=0,C=v;C;C=Jn(C))g++;for(;0<p-g;)w=Jn(w),p--;for(;0<g-p;)v=Jn(v),g--;for(;p--;){if(w===v||v!==null&&w===v.alternate)break t;w=Jn(w),v=Jn(v)}w=null}else w=null;y!==null&&$d(c,h,y,w,!1),m!==null&&S!==null&&$d(c,S,m,w,!0)}}e:{if(h=u?ar(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var k=kx;else if(Dd(h))if(tm)k=Tx;else{k=bx;var E=Ex}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=_x);if(k&&(k=k(e,u))){em(c,k,n,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Cl(h,"number",h.value)}switch(E=u?ar(u):window,e){case"focusin":(Dd(E)||E.contentEditable==="true")&&(ir=E,Ol=u,ms=null);break;case"focusout":ms=Ol=ir=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Id(c,n,d);break;case"selectionchange":if(Nx)break;case"keydown":case"keyup":Id(c,n,d)}var _;if(ec)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else sr?Jp(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Yp&&n.locale!=="ko"&&(sr||T!=="onCompositionStart"?T==="onCompositionEnd"&&sr&&(_=Xp()):(en=d,Yu="value"in en?en.value:en.textContent,sr=!0)),E=lo(u,T),0<E.length&&(T=new Rd(T,e,null,n,d),c.push({event:T,listeners:E}),_?T.data=_:(_=Zp(n),_!==null&&(T.data=_)))),(_=vx?xx(e,n):wx(e,n))&&(u=lo(u,"onBeforeInput"),0<u.length&&(d=new Rd("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=_))}dm(c,t)})}function Ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_s(e,n),i!=null&&r.unshift(Ls(e,i,s)),i=_s(e,t),i!=null&&r.push(Ls(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $d(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=_s(n,i),l!=null&&o.unshift(Ls(n,l,a))):s||(l=_s(n,i),l!=null&&o.push(Ls(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ox=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function Hd(e){return(typeof e=="string"?e:""+e).replace(Ox,`
`).replace(Dx,"")}function xi(e,t,n){if(t=Hd(t),Hd(e)!==t&&n)throw Error(j(425))}function uo(){}var Ml=null,Vl=null;function Fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,Mx=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Fx)}:Bl;function Fx(e){setTimeout(function(){throw e})}function Ma(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),js(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);js(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Mr,Os="__reactProps$"+Mr,Bt="__reactContainer$"+Mr,Il="__reactEvents$"+Mr,Bx="__reactListeners$"+Mr,Ix="__reactHandles$"+Mr;function Ln(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kd(e);e!==null;){if(n=e[kt])return n;e=Kd(e)}return t}e=n,n=e.parentNode}return null}function Xs(e){return e=e[kt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Uo(e){return e[Os]||null}var zl=[],lr=-1;function Sn(e){return{current:e}}function ee(e){0>lr||(e.current=zl[lr],zl[lr]=null,lr--)}function Q(e,t){lr++,zl[lr]=e.current,e.current=t}var yn={},Pe=Sn(yn),Fe=Sn(!1),Un=yn;function br(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function co(){ee(Fe),ee(Pe)}function qd(e,t,n){if(Pe.current!==yn)throw Error(j(168));Q(Pe,t),Q(Fe,n)}function hm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Ev(e)||"Unknown",s));return oe({},n,r)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Un=Pe.current,Q(Pe,e),Q(Fe,Fe.current),!0}function Gd(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=hm(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,ee(Fe),ee(Pe),Q(Pe,e)):ee(Fe),Q(Fe,n)}var Rt=null,$o=!1,Va=!1;function pm(e){Rt===null?Rt=[e]:Rt.push(e)}function zx(e){$o=!0,pm(e)}function Cn(){if(!Va&&Rt!==null){Va=!0;var e=0,t=q;try{var n=Rt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,$o=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Bp(qu,Cn),s}finally{q=t,Va=!1}}return null}var ur=[],cr=0,ho=null,po=0,tt=[],nt=0,$n=null,At=1,Lt="";function Pn(e,t){ur[cr++]=po,ur[cr++]=ho,ho=e,po=t}function mm(e,t,n){tt[nt++]=At,tt[nt++]=Lt,tt[nt++]=$n,$n=e;var r=At;e=Lt;var s=32-mt(r)-1;r&=~(1<<s),n+=1;var i=32-mt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,At=1<<32-mt(t)+s|n<<s|r,Lt=i+e}else At=1<<i|n<<s|r,Lt=e}function nc(e){e.return!==null&&(Pn(e,1),mm(e,1,0))}function rc(e){for(;e===ho;)ho=ur[--cr],ur[cr]=null,po=ur[--cr],ur[cr]=null;for(;e===$n;)$n=tt[--nt],tt[nt]=null,Lt=tt[--nt],tt[nt]=null,At=tt[--nt],tt[nt]=null}var Ge=null,qe=null,te=!1,pt=null;function gm(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,qe=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$n!==null?{id:At,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ge=e,qe=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $l(e){if(te){var t=qe;if(t){var n=t;if(!Qd(e,t)){if(Ul(e))throw Error(j(418));t=an(n.nextSibling);var r=Ge;t&&Qd(e,t)?gm(r,n):(e.flags=e.flags&-4097|2,te=!1,Ge=e)}}else{if(Ul(e))throw Error(j(418));e.flags=e.flags&-4097|2,te=!1,Ge=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function wi(e){if(e!==Ge)return!1;if(!te)return Xd(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fl(e.type,e.memoizedProps)),t&&(t=qe)){if(Ul(e))throw ym(),Error(j(418));for(;t;)gm(e,t),t=an(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=an(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ge?an(e.stateNode.nextSibling):null;return!0}function ym(){for(var e=qe;e;)e=an(e.nextSibling)}function _r(){qe=Ge=null,te=!1}function sc(e){pt===null?pt=[e]:pt.push(e)}var Ux=Ht.ReactCurrentBatchConfig;function Qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Si(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yd(e){var t=e._init;return t(e._payload)}function vm(e){function t(v,p){if(e){var g=v.deletions;g===null?(v.deletions=[p],v.flags|=16):g.push(p)}}function n(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=dn(v,p),v.index=0,v.sibling=null,v}function i(v,p,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<p?(v.flags|=2,p):g):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,p,g,C){return p===null||p.tag!==6?(p=Ha(g,v.mode,C),p.return=v,p):(p=s(p,g),p.return=v,p)}function l(v,p,g,C){var k=g.type;return k===rr?d(v,p,g.props.children,C,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qt&&Yd(k)===p.type)?(C=s(p,g.props),C.ref=Qr(v,p,g),C.return=v,C):(C=Wi(g.type,g.key,g.props,null,v.mode,C),C.ref=Qr(v,p,g),C.return=v,C)}function u(v,p,g,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Wa(g,v.mode,C),p.return=v,p):(p=s(p,g.children||[]),p.return=v,p)}function d(v,p,g,C,k){return p===null||p.tag!==7?(p=Bn(g,v.mode,C,k),p.return=v,p):(p=s(p,g),p.return=v,p)}function c(v,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ha(""+p,v.mode,g),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ci:return g=Wi(p.type,p.key,p.props,null,v.mode,g),g.ref=Qr(v,null,p),g.return=v,g;case nr:return p=Wa(p,v.mode,g),p.return=v,p;case Qt:var C=p._init;return c(v,C(p._payload),g)}if(os(p)||Hr(p))return p=Bn(p,v.mode,g,null),p.return=v,p;Si(v,p)}return null}function h(v,p,g,C){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(v,p,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ci:return g.key===k?l(v,p,g,C):null;case nr:return g.key===k?u(v,p,g,C):null;case Qt:return k=g._init,h(v,p,k(g._payload),C)}if(os(g)||Hr(g))return k!==null?null:d(v,p,g,C,null);Si(v,g)}return null}function y(v,p,g,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(g)||null,a(p,v,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ci:return v=v.get(C.key===null?g:C.key)||null,l(p,v,C,k);case nr:return v=v.get(C.key===null?g:C.key)||null,u(p,v,C,k);case Qt:var E=C._init;return y(v,p,g,E(C._payload),k)}if(os(C)||Hr(C))return v=v.get(g)||null,d(p,v,C,k,null);Si(p,C)}return null}function m(v,p,g,C){for(var k=null,E=null,_=p,T=p=0,N=null;_!==null&&T<g.length;T++){_.index>T?(N=_,_=null):N=_.sibling;var P=h(v,_,g[T],C);if(P===null){_===null&&(_=N);break}e&&_&&P.alternate===null&&t(v,_),p=i(P,p,T),E===null?k=P:E.sibling=P,E=P,_=N}if(T===g.length)return n(v,_),te&&Pn(v,T),k;if(_===null){for(;T<g.length;T++)_=c(v,g[T],C),_!==null&&(p=i(_,p,T),E===null?k=_:E.sibling=_,E=_);return te&&Pn(v,T),k}for(_=r(v,_);T<g.length;T++)N=y(_,v,T,g[T],C),N!==null&&(e&&N.alternate!==null&&_.delete(N.key===null?T:N.key),p=i(N,p,T),E===null?k=N:E.sibling=N,E=N);return e&&_.forEach(function(R){return t(v,R)}),te&&Pn(v,T),k}function w(v,p,g,C){var k=Hr(g);if(typeof k!="function")throw Error(j(150));if(g=k.call(g),g==null)throw Error(j(151));for(var E=k=null,_=p,T=p=0,N=null,P=g.next();_!==null&&!P.done;T++,P=g.next()){_.index>T?(N=_,_=null):N=_.sibling;var R=h(v,_,P.value,C);if(R===null){_===null&&(_=N);break}e&&_&&R.alternate===null&&t(v,_),p=i(R,p,T),E===null?k=R:E.sibling=R,E=R,_=N}if(P.done)return n(v,_),te&&Pn(v,T),k;if(_===null){for(;!P.done;T++,P=g.next())P=c(v,P.value,C),P!==null&&(p=i(P,p,T),E===null?k=P:E.sibling=P,E=P);return te&&Pn(v,T),k}for(_=r(v,_);!P.done;T++,P=g.next())P=y(_,v,T,P.value,C),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?T:P.key),p=i(P,p,T),E===null?k=P:E.sibling=P,E=P);return e&&_.forEach(function(D){return t(v,D)}),te&&Pn(v,T),k}function S(v,p,g,C){if(typeof g=="object"&&g!==null&&g.type===rr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ci:e:{for(var k=g.key,E=p;E!==null;){if(E.key===k){if(k=g.type,k===rr){if(E.tag===7){n(v,E.sibling),p=s(E,g.props.children),p.return=v,v=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qt&&Yd(k)===E.type){n(v,E.sibling),p=s(E,g.props),p.ref=Qr(v,E,g),p.return=v,v=p;break e}n(v,E);break}else t(v,E);E=E.sibling}g.type===rr?(p=Bn(g.props.children,v.mode,C,g.key),p.return=v,v=p):(C=Wi(g.type,g.key,g.props,null,v.mode,C),C.ref=Qr(v,p,g),C.return=v,v=C)}return o(v);case nr:e:{for(E=g.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(v,p.sibling),p=s(p,g.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else t(v,p);p=p.sibling}p=Wa(g,v.mode,C),p.return=v,v=p}return o(v);case Qt:return E=g._init,S(v,p,E(g._payload),C)}if(os(g))return m(v,p,g,C);if(Hr(g))return w(v,p,g,C);Si(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(v,p.sibling),p=s(p,g),p.return=v,v=p):(n(v,p),p=Ha(g,v.mode,C),p.return=v,v=p),o(v)):n(v,p)}return S}var Tr=vm(!0),xm=vm(!1),mo=Sn(null),go=null,dr=null,ic=null;function oc(){ic=dr=go=null}function ac(e){var t=mo.current;ee(mo),e._currentValue=t}function Hl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){go=e,ic=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(ic!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(go===null)throw Error(j(308));dr=e,go.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var On=null;function lc(e){On===null?On=[e]:On.push(e)}function wm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,lc(t)):(n.next=s.next,s.next=n),t.interleaved=n,It(e,r)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function uc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,It(e,n)}return s=r.interleaved,s===null?(t.next=t,lc(r)):(t.next=s.next,s.next=t),r.interleaved=t,It(e,n)}function Bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gu(e,n)}}function Jd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yo(e,t,n,r){var s=e.updateQueue;Xt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,w=a;switch(h=t,y=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){c=m.call(y,c,h);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,h=typeof m=="function"?m.call(y,c,h):m,h==null)break e;c=oe({},c,h);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=c):d=d.next=y,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=c}}function Zd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Ys={},bt=Sn(Ys),Ds=Sn(Ys),Ms=Sn(Ys);function Dn(e){if(e===Ys)throw Error(j(174));return e}function cc(e,t){switch(Q(Ms,t),Q(Ds,e),Q(bt,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:El(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=El(t,e)}ee(bt),Q(bt,t)}function Pr(){ee(bt),ee(Ds),ee(Ms)}function Cm(e){Dn(Ms.current);var t=Dn(bt.current),n=El(t,e.type);t!==n&&(Q(Ds,e),Q(bt,n))}function dc(e){Ds.current===e&&(ee(bt),ee(Ds))}var ne=Sn(0);function vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=[];function fc(){for(var e=0;e<Fa.length;e++)Fa[e]._workInProgressVersionPrimary=null;Fa.length=0}var Ii=Ht.ReactCurrentDispatcher,Ba=Ht.ReactCurrentBatchConfig,Hn=0,ie=null,pe=null,ge=null,xo=!1,gs=!1,Vs=0,$x=0;function Ce(){throw Error(j(321))}function hc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function pc(e,t,n,r,s,i){if(Hn=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?qx:Gx,e=n(r,s),gs){i=0;do{if(gs=!1,Vs=0,25<=i)throw Error(j(301));i+=1,ge=pe=null,t.updateQueue=null,Ii.current=Qx,e=n(r,s)}while(gs)}if(Ii.current=wo,t=pe!==null&&pe.next!==null,Hn=0,ge=pe=ie=null,xo=!1,t)throw Error(j(300));return e}function mc(){var e=Vs!==0;return Vs=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ie.memoizedState=ge=e:ge=ge.next=e,ge}function at(){if(pe===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ge===null?ie.memoizedState:ge.next;if(t!==null)ge=t,pe=e;else{if(e===null)throw Error(j(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?ie.memoizedState=ge=e:ge=ge.next=e}return ge}function Fs(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Hn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,ie.lanes|=d,Wn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,yt(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ie.lanes|=i,Wn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function za(e){var t=at(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);yt(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function km(){}function Em(e,t){var n=ie,r=at(),s=t(),i=!yt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ve=!0),r=r.queue,gc(Tm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Bs(9,_m.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(j(349));Hn&30||bm(n,t,s)}return s}function bm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _m(e,t,n,r){t.value=n,t.getSnapshot=r,Pm(t)&&jm(e)}function Tm(e,t,n){return n(function(){Pm(t)&&jm(e)})}function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function jm(e){var t=It(e,1);t!==null&&gt(t,e,1,-1)}function ef(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t.queue=e,e=e.dispatch=Kx.bind(null,ie,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nm(){return at().memoizedState}function zi(e,t,n,r){var s=Ct();ie.flags|=e,s.memoizedState=Bs(1|t,n,void 0,r===void 0?null:r)}function Ho(e,t,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&hc(r,o.deps)){s.memoizedState=Bs(t,n,i,r);return}}ie.flags|=e,s.memoizedState=Bs(1|t,n,i,r)}function tf(e,t){return zi(8390656,8,e,t)}function gc(e,t){return Ho(2048,8,e,t)}function Rm(e,t){return Ho(4,2,e,t)}function Am(e,t){return Ho(4,4,e,t)}function Lm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Om(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4,4,Lm.bind(null,t,e),n)}function yc(){}function Dm(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mm(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vm(e,t,n){return Hn&21?(yt(n,t)||(n=Up(),ie.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function Hx(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=Ba.transition;Ba.transition={};try{e(!1),t()}finally{q=n,Ba.transition=r}}function Fm(){return at().memoizedState}function Wx(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bm(e))Im(t,n);else if(n=wm(e,t,n,r),n!==null){var s=Le();gt(n,e,r,s),zm(n,t,r)}}function Kx(e,t,n){var r=cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bm(e))Im(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yt(a,o)){var l=t.interleaved;l===null?(s.next=s,lc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=wm(e,t,s,r),n!==null&&(s=Le(),gt(n,e,r,s),zm(n,t,r))}}function Bm(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Im(e,t){gs=xo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gu(e,n)}}var wo={readContext:ot,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},qx={readContext:ot,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zi(4194308,4,Lm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return zi(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wx.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:ef,useDebugValue:yc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=ef(!1),t=e[0];return e=Hx.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,s=Ct();if(te){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ye===null)throw Error(j(349));Hn&30||bm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,tf(Tm.bind(null,r,i,e),[e]),r.flags|=2048,Bs(9,_m.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=ye.identifierPrefix;if(te){var n=Lt,r=At;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$x++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gx={readContext:ot,useCallback:Dm,useContext:ot,useEffect:gc,useImperativeHandle:Om,useInsertionEffect:Rm,useLayoutEffect:Am,useMemo:Mm,useReducer:Ia,useRef:Nm,useState:function(){return Ia(Fs)},useDebugValue:yc,useDeferredValue:function(e){var t=at();return Vm(t,pe.memoizedState,e)},useTransition:function(){var e=Ia(Fs)[0],t=at().memoizedState;return[e,t]},useMutableSource:km,useSyncExternalStore:Em,useId:Fm,unstable_isNewReconciler:!1},Qx={readContext:ot,useCallback:Dm,useContext:ot,useEffect:gc,useImperativeHandle:Om,useInsertionEffect:Rm,useLayoutEffect:Am,useMemo:Mm,useReducer:za,useRef:Nm,useState:function(){return za(Fs)},useDebugValue:yc,useDeferredValue:function(e){var t=at();return pe===null?t.memoizedState=e:Vm(t,pe.memoizedState,e)},useTransition:function(){var e=za(Fs)[0],t=at().memoizedState;return[e,t]},useMutableSource:km,useSyncExternalStore:Em,useId:Fm,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),s=cn(e),i=Dt(r,s);i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(gt(t,e,s,r),Bi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),s=cn(e),i=Dt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ln(e,i,s),t!==null&&(gt(t,e,s,r),Bi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=cn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(gt(t,e,r,n),Bi(t,e,r))}};function nf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rs(n,r)||!Rs(s,i):!0}function Um(e,t,n){var r=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Be(t)?Un:Pe.current,r=t.contextTypes,i=(r=r!=null)?br(e,s):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function rf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function Kl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Be(t)?Un:Pe.current,s.context=br(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wo.enqueueReplaceState(s,s.state,null),yo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function jr(e,t){try{var n="",r=t;do n+=kv(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ua(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ql(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function $m(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Co||(Co=!0,ru=r),ql(e,t)},n}function Hm(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ql(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ql(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=c1.bind(null,e,t,n),t.then(e,e))}function of(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Yx=Ht.ReactCurrentOwner,Ve=!1;function Ae(e,t,n,r){t.child=e===null?xm(t,null,n,r):Tr(t,e.child,n,r)}function lf(e,t,n,r,s){n=n.render;var i=t.ref;return Cr(t,s),r=pc(e,t,n,r,i,s),n=mc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(te&&n&&nc(t),t.flags|=1,Ae(e,t,r,s),t.child)}function uf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!bc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Wm(e,t,i,r,s)):(e=Wi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Wm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rs(i,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,zt(e,t,s)}return Gl(e,t,n,r,s)}function Km(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(hr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(hr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(hr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(hr,Ke),Ke|=r;return Ae(e,t,s,n),t.child}function qm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gl(e,t,n,r,s){var i=Be(n)?Un:Pe.current;return i=br(t,i),Cr(t,s),n=pc(e,t,n,r,i,s),r=mc(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(te&&r&&nc(t),t.flags|=1,Ae(e,t,n,s),t.child)}function cf(e,t,n,r,s){if(Be(n)){var i=!0;fo(t)}else i=!1;if(Cr(t,s),t.stateNode===null)Ui(e,t),Um(t,n,r),Kl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Be(n)?Un:Pe.current,u=br(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rf(t,o,r,u),Xt=!1;var h=t.memoizedState;o.state=h,yo(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Fe.current||Xt?(typeof d=="function"&&(Wl(t,n,d,r),l=t.memoizedState),(a=Xt||nf(t,n,a,r,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Sm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dt(t.type,a),o.props=u,c=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=Be(n)?Un:Pe.current,l=br(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||h!==l)&&rf(t,o,r,l),Xt=!1,h=t.memoizedState,o.state=h,yo(t,r,o,s);var m=t.memoizedState;a!==c||h!==m||Fe.current||Xt?(typeof y=="function"&&(Wl(t,n,y,r),m=t.memoizedState),(u=Xt||nf(t,n,u,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ql(e,t,n,r,i,s)}function Ql(e,t,n,r,s,i){qm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Gd(t,n,!1),zt(e,t,i);r=t.stateNode,Yx.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Tr(t,e.child,null,i),t.child=Tr(t,null,a,i)):Ae(e,t,a,i),t.memoizedState=r.state,s&&Gd(t,n,!0),t.child}function Gm(e){var t=e.stateNode;t.pendingContext?qd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qd(e,t.context,!1),cc(e,t.containerInfo)}function df(e,t,n,r,s){return _r(),sc(s),t.flags|=256,Ae(e,t,n,r),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Yl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qm(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ne,s&1),e===null)return $l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Go(o,r,0,null),e=Bn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yl(n),t.memoizedState=Xl,e):vc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Jx(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Bn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Yl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xl,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vc(e,t){return t=Go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ci(e,t,n,r){return r!==null&&sc(r),Tr(t,e.child,null,n),e=vc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jx(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ua(Error(j(422))),Ci(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Go({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Tr(t,e.child,null,o),t.child.memoizedState=Yl(o),t.memoizedState=Xl,i);if(!(t.mode&1))return Ci(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=Ua(i,r,void 0),Ci(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ve||a){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(e,s),gt(r,e,s,-1))}return Ec(),r=Ua(Error(j(421))),Ci(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=d1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=an(s.nextSibling),Ge=t,te=!0,pt=null,e!==null&&(tt[nt++]=At,tt[nt++]=Lt,tt[nt++]=$n,At=e.id,Lt=e.overflow,$n=t),t=vc(t,r.children),t.flags|=4096,t)}function ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hl(e.return,t,n)}function $a(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$a(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$a(t,!0,n,null,i);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zx(e,t,n){switch(t.tag){case 3:Gm(t),_r();break;case 5:Cm(t);break;case 1:Be(t.type)&&fo(t);break;case 4:cc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(mo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?Qm(e,t,n):(Q(ne,ne.current&1),e=zt(e,t,n),e!==null?e.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Km(e,t,n)}return zt(e,t,n)}var Ym,Jl,Jm,Zm;Ym=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jl=function(){};Jm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Dn(bt.current);var i=null;switch(n){case"input":s=wl(e,s),r=wl(e,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=kl(e,s),r=kl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uo)}bl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Zm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function e1(e,t,n){var r=t.pendingProps;switch(rc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Be(t.type)&&co(),ke(t),null;case 3:return r=t.stateNode,Pr(),ee(Fe),ee(Pe),fc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(ou(pt),pt=null))),Jl(e,t),ke(t),null;case 5:dc(t);var s=Dn(Ms.current);if(n=t.type,e!==null&&t.stateNode!=null)Jm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return ke(t),null}if(e=Dn(bt.current),wi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[kt]=t,r[Os]=i,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<ls.length;s++)Z(ls[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":wd(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":Cd(r,i),Z("invalid",r)}bl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xi(r.textContent,a,e),s=["children",""+a]):Es.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":di(r),Sd(r,i,!0);break;case"textarea":di(r),kd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Tp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[kt]=t,e[Os]=r,Ym(e,t,!1,!1),t.stateNode=e;e:{switch(o=_l(n,r),n){case"dialog":Z("cancel",e),Z("close",e),s=r;break;case"iframe":case"object":case"embed":Z("load",e),s=r;break;case"video":case"audio":for(s=0;s<ls.length;s++)Z(ls[s],e);s=r;break;case"source":Z("error",e),s=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=r;break;case"details":Z("toggle",e),s=r;break;case"input":wd(e,r),s=wl(e,r),Z("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Z("invalid",e);break;case"textarea":Cd(e,r),s=kl(e,r),Z("invalid",e);break;default:s=r}bl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Np(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bs(e,l):typeof l=="number"&&bs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Es.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",e):l!=null&&Uu(e,i,l,o))}switch(n){case"input":di(e),Sd(e,r,!1);break;case"textarea":di(e),kd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?vr(e,!!r.multiple,i,!1):r.defaultValue!=null&&vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)Zm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Dn(Ms.current),Dn(bt.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(i=r.nodeValue!==n)&&(e=Ge,e!==null))switch(e.tag){case 3:xi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return ke(t),null;case 13:if(ee(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&qe!==null&&t.mode&1&&!(t.flags&128))ym(),_r(),t.flags|=98560,i=!1;else if(i=wi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[kt]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),i=!1}else pt!==null&&(ou(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?me===0&&(me=3):Ec())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Pr(),Jl(e,t),e===null&&As(t.stateNode.containerInfo),ke(t),null;case 10:return ac(t.type._context),ke(t),null;case 17:return Be(t.type)&&co(),ke(t),null;case 19:if(ee(ne),i=t.memoizedState,i===null)return ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xr(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vo(e),o!==null){for(t.flags|=128,Xr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>Nr&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304)}else{if(!r)if(e=vo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return ke(t),null}else 2*le()-i.renderingStartTime>Nr&&n!==1073741824&&(t.flags|=128,r=!0,Xr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=ne.current,Q(ne,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function t1(e,t){switch(rc(t),t.tag){case 1:return Be(t.type)&&co(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),ee(Fe),ee(Pe),fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(ee(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ne),null;case 4:return Pr(),null;case 10:return ac(t.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var ki=!1,be=!1,n1=typeof WeakSet=="function"?WeakSet:Set,O=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){ae(e,t,r)}}var hf=!1;function r1(e,t){if(Ml=oo,e=sm(),tc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=e,h=null;t:for(;;){for(var y;c!==n||s!==0&&c.nodeType!==3||(a=o+s),c!==i||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(y=c.firstChild)!==null;)h=c,c=y;for(;;){if(c===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(y=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vl={focusedElem:e,selectionRange:n},oo=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,S=m.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:dt(t.type,w),S);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(C){ae(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return m=hf,hf=!1,m}function ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zl(t,n,i)}s=s.next}while(s!==r)}}function Ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eg(e){var t=e.alternate;t!==null&&(e.alternate=null,eg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Os],delete t[Il],delete t[Bx],delete t[Ix])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tg(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uo));else if(r!==4&&(e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nu(e,t,n),e=e.sibling;e!==null;)nu(e,t,n),e=e.sibling}var ve=null,ft=!1;function qt(e,t,n){for(n=n.child;n!==null;)ng(e,t,n),n=n.sibling}function ng(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Fo,n)}catch{}switch(n.tag){case 5:be||fr(n,t);case 6:var r=ve,s=ft;ve=null,qt(e,t,n),ve=r,ft=s,ve!==null&&(ft?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(ft?(e=ve,n=n.stateNode,e.nodeType===8?Ma(e.parentNode,n):e.nodeType===1&&Ma(e,n),js(e)):Ma(ve,n.stateNode));break;case 4:r=ve,s=ft,ve=n.stateNode.containerInfo,ft=!0,qt(e,t,n),ve=r,ft=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zl(n,t,o),s=s.next}while(s!==r)}qt(e,t,n);break;case 1:if(!be&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,qt(e,t,n),be=r):qt(e,t,n);break;default:qt(e,t,n)}}function mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new n1),t.forEach(function(r){var s=f1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,ft=!1;break e;case 3:ve=a.stateNode.containerInfo,ft=!0;break e;case 4:ve=a.stateNode.containerInfo,ft=!0;break e}a=a.return}if(ve===null)throw Error(j(160));ng(i,o,s),ve=null,ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rg(t,e),t=t.sibling}function rg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),wt(e),r&4){try{ys(3,e,e.return),Ko(3,e)}catch(w){ae(e,e.return,w)}try{ys(5,e,e.return)}catch(w){ae(e,e.return,w)}}break;case 1:ct(t,e),wt(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(ct(t,e),wt(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var s=e.stateNode;try{bs(s,"")}catch(w){ae(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bp(s,i),_l(a,o);var u=_l(a,i);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?Np(s,c):d==="dangerouslySetInnerHTML"?Pp(s,c):d==="children"?bs(s,c):Uu(s,d,c,u)}switch(a){case"input":Sl(s,i);break;case"textarea":_p(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?vr(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?vr(s,!!i.multiple,i.defaultValue,!0):vr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Os]=i}catch(w){ae(e,e.return,w)}}break;case 6:if(ct(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ae(e,e.return,w)}}break;case 3:if(ct(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(w){ae(e,e.return,w)}break;case 4:ct(t,e),wt(e);break;case 13:ct(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sc=le())),r&4&&mf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||d,ct(t,e),be=u):ct(t,e),wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(c=O=d;O!==null;){switch(h=O,y=h.child,h.tag){case 0:case 11:case 14:case 15:ys(4,h,h.return);break;case 1:fr(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(w){ae(r,n,w)}}break;case 5:fr(h,h.return);break;case 22:if(h.memoizedState!==null){yf(c);continue}}y!==null?(y.return=h,O=y):yf(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jp("display",o))}catch(w){ae(e,e.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){ae(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ct(t,e),wt(e),r&4&&mf(e);break;case 21:break;default:ct(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tg(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bs(s,""),r.flags&=-33);var i=pf(e);nu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pf(e);tu(e,a,o);break;default:throw Error(j(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s1(e,t,n){O=e,sg(e)}function sg(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ki;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=ki;var u=be;if(ki=o,(be=l)&&!u)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?vf(s):l!==null?(l.return=o,O=l):vf(s);for(;i!==null;)O=i,sg(i),i=i.sibling;O=s,ki=a,be=u}gf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):gf(e)}}function gf(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&js(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}be||t.flags&512&&eu(t)}catch(h){ae(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function yf(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function vf(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ko(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{eu(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{eu(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var i1=Math.ceil,So=Ht.ReactCurrentDispatcher,xc=Ht.ReactCurrentOwner,it=Ht.ReactCurrentBatchConfig,$=0,ye=null,fe=null,we=0,Ke=0,hr=Sn(0),me=0,Is=null,Wn=0,qo=0,wc=0,vs=null,Me=null,Sc=0,Nr=1/0,Nt=null,Co=!1,ru=null,un=null,Ei=!1,tn=null,ko=0,xs=0,su=null,$i=-1,Hi=0;function Le(){return $&6?le():$i!==-1?$i:$i=le()}function cn(e){return e.mode&1?$&2&&we!==0?we&-we:Ux.transition!==null?(Hi===0&&(Hi=Up()),Hi):(e=q,e!==0||(e=window.event,e=e===void 0?16:Qp(e.type)),e):1}function gt(e,t,n,r){if(50<xs)throw xs=0,su=null,Error(j(185));Gs(e,n,r),(!($&2)||e!==ye)&&(e===ye&&(!($&2)&&(qo|=n),me===4&&Zt(e,we)),Ie(e,r),n===1&&$===0&&!(t.mode&1)&&(Nr=le()+500,$o&&Cn()))}function Ie(e,t){var n=e.callbackNode;Uv(e,t);var r=io(e,e===ye?we:0);if(r===0)n!==null&&_d(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_d(n),t===1)e.tag===0?zx(xf.bind(null,e)):pm(xf.bind(null,e)),Vx(function(){!($&6)&&Cn()}),n=null;else{switch($p(r)){case 1:n=qu;break;case 4:n=Ip;break;case 16:n=so;break;case 536870912:n=zp;break;default:n=so}n=fg(n,ig.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ig(e,t){if($i=-1,Hi=0,$&6)throw Error(j(327));var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var r=io(e,e===ye?we:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eo(e,r);else{t=r;var s=$;$|=2;var i=ag();(ye!==e||we!==t)&&(Nt=null,Nr=le()+500,Fn(e,t));do try{l1();break}catch(a){og(e,a)}while(!0);oc(),So.current=i,$=s,fe!==null?t=0:(ye=null,we=0,t=me)}if(t!==0){if(t===2&&(s=Rl(e),s!==0&&(r=s,t=iu(e,s))),t===1)throw n=Is,Fn(e,0),Zt(e,r),Ie(e,le()),n;if(t===6)Zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!o1(s)&&(t=Eo(e,r),t===2&&(i=Rl(e),i!==0&&(r=i,t=iu(e,i))),t===1))throw n=Is,Fn(e,0),Zt(e,r),Ie(e,le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:jn(e,Me,Nt);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Sc+500-le(),10<t)){if(io(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bl(jn.bind(null,e,Me,Nt),t);break}jn(e,Me,Nt);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-mt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i1(r/1960))-r,10<r){e.timeoutHandle=Bl(jn.bind(null,e,Me,Nt),r);break}jn(e,Me,Nt);break;case 5:jn(e,Me,Nt);break;default:throw Error(j(329))}}}return Ie(e,le()),e.callbackNode===n?ig.bind(null,e):null}function iu(e,t){var n=vs;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=Eo(e,t),e!==2&&(t=Me,Me=n,t!==null&&ou(t)),e}function ou(e){Me===null?Me=e:Me.push.apply(Me,e)}function o1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~wc,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function xf(e){if($&6)throw Error(j(327));kr();var t=io(e,0);if(!(t&1))return Ie(e,le()),null;var n=Eo(e,t);if(e.tag!==0&&n===2){var r=Rl(e);r!==0&&(t=r,n=iu(e,r))}if(n===1)throw n=Is,Fn(e,0),Zt(e,t),Ie(e,le()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Me,Nt),Ie(e,le()),null}function Cc(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(Nr=le()+500,$o&&Cn())}}function Kn(e){tn!==null&&tn.tag===0&&!($&6)&&kr();var t=$;$|=1;var n=it.transition,r=q;try{if(it.transition=null,q=1,e)return e()}finally{q=r,it.transition=n,$=t,!($&6)&&Cn()}}function kc(){Ke=hr.current,ee(hr)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mx(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(rc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&co();break;case 3:Pr(),ee(Fe),ee(Pe),fc();break;case 5:dc(r);break;case 4:Pr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:ac(r.type._context);break;case 22:case 23:kc()}n=n.return}if(ye=e,fe=e=dn(e.current,null),we=Ke=t,me=0,Is=null,wc=qo=Wn=0,Me=vs=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return e}function og(e,t){do{var n=fe;try{if(oc(),Ii.current=wo,xo){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xo=!1}if(Hn=0,ge=pe=ie=null,gs=!1,Vs=0,xc.current=null,n===null||n.return===null){me=1,Is=t,fe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=of(o);if(y!==null){y.flags&=-257,af(y,o,a,i,t),y.mode&1&&sf(i,u,t),t=y,l=u;var m=t.updateQueue;if(m===null){var w=new Set;w.add(l),t.updateQueue=w}else m.add(l);break e}else{if(!(t&1)){sf(i,u,t),Ec();break e}l=Error(j(426))}}else if(te&&a.mode&1){var S=of(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),af(S,o,a,i,t),sc(jr(l,a));break e}}i=l=jr(l,a),me!==4&&(me=2),vs===null?vs=[i]:vs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=$m(i,l,t);Jd(i,v);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Hm(i,a,t);Jd(i,C);break e}}i=i.return}while(i!==null)}ug(n)}catch(k){t=k,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function ag(){var e=So.current;return So.current=wo,e===null?wo:e}function Ec(){(me===0||me===3||me===2)&&(me=4),ye===null||!(Wn&268435455)&&!(qo&268435455)||Zt(ye,we)}function Eo(e,t){var n=$;$|=2;var r=ag();(ye!==e||we!==t)&&(Nt=null,Fn(e,t));do try{a1();break}catch(s){og(e,s)}while(!0);if(oc(),$=n,So.current=r,fe!==null)throw Error(j(261));return ye=null,we=0,me}function a1(){for(;fe!==null;)lg(fe)}function l1(){for(;fe!==null&&!Lv();)lg(fe)}function lg(e){var t=dg(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?ug(e):fe=t,xc.current=null}function ug(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t1(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,fe=null;return}}else if(n=e1(n,t,Ke),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);me===0&&(me=5)}function jn(e,t,n){var r=q,s=it.transition;try{it.transition=null,q=1,u1(e,t,n,r)}finally{it.transition=s,q=r}return null}function u1(e,t,n,r){do kr();while(tn!==null);if($&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($v(e,i),e===ye&&(fe=ye=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ei||(Ei=!0,fg(so,function(){return kr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=q;q=1;var a=$;$|=4,xc.current=null,r1(e,n),rg(n,e),jx(Vl),oo=!!Ml,Vl=Ml=null,e.current=n,s1(n),Ov(),$=a,q=o,it.transition=i}else e.current=n;if(Ei&&(Ei=!1,tn=e,ko=s),i=e.pendingLanes,i===0&&(un=null),Vv(n.stateNode),Ie(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Co)throw Co=!1,e=ru,ru=null,e;return ko&1&&e.tag!==0&&kr(),i=e.pendingLanes,i&1?e===su?xs++:(xs=0,su=e):xs=0,Cn(),null}function kr(){if(tn!==null){var e=$p(ko),t=it.transition,n=q;try{if(it.transition=null,q=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,ko=0,$&6)throw Error(j(331));var s=$;for($|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:ys(8,d,i)}var c=d.child;if(c!==null)c.return=d,O=c;else for(;O!==null;){d=O;var h=d.sibling,y=d.return;if(eg(d),d===u){O=null;break}if(h!==null){h.return=y,O=h;break}O=y}}}var m=i.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ys(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,O=v;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=p;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ko(9,a)}}catch(k){ae(a,a.return,k)}if(a===o){O=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,O=C;break e}O=a.return}}if($=s,Cn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Fo,e)}catch{}r=!0}return r}finally{q=n,it.transition=t}}return!1}function wf(e,t,n){t=jr(n,t),t=$m(e,t,1),e=ln(e,t,1),t=Le(),e!==null&&(Gs(e,1,t),Ie(e,t))}function ae(e,t,n){if(e.tag===3)wf(e,e,n);else for(;t!==null;){if(t.tag===3){wf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=jr(n,e),e=Hm(t,e,1),t=ln(t,e,1),e=Le(),t!==null&&(Gs(t,1,e),Ie(t,e));break}}t=t.return}}function c1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(we&n)===n&&(me===4||me===3&&(we&130023424)===we&&500>le()-Sc?Fn(e,0):wc|=n),Ie(e,t)}function cg(e,t){t===0&&(e.mode&1?(t=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):t=1);var n=Le();e=It(e,t),e!==null&&(Gs(e,t,n),Ie(e,n))}function d1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cg(e,n)}function f1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),cg(e,n)}var dg;dg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Zx(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,te&&t.flags&1048576&&mm(t,po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ui(e,t),e=t.pendingProps;var s=br(t,Pe.current);Cr(t,n),s=pc(null,t,r,e,s,n);var i=mc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(r)?(i=!0,fo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uc(t),s.updater=Wo,t.stateNode=s,s._reactInternals=t,Kl(t,r,e,n),t=Ql(null,t,r,!0,i,n)):(t.tag=0,te&&i&&nc(t),Ae(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=p1(r),e=dt(r,e),s){case 0:t=Gl(null,t,r,e,n);break e;case 1:t=cf(null,t,r,e,n);break e;case 11:t=lf(null,t,r,e,n);break e;case 14:t=uf(null,t,r,dt(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Gl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),cf(e,t,r,s,n);case 3:e:{if(Gm(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Sm(e,t),yo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=jr(Error(j(423)),t),t=df(e,t,r,n,s);break e}else if(r!==s){s=jr(Error(j(424)),t),t=df(e,t,r,n,s);break e}else for(qe=an(t.stateNode.containerInfo.firstChild),Ge=t,te=!0,pt=null,n=xm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===s){t=zt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Cm(t),e===null&&$l(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fl(r,s)?o=null:i!==null&&Fl(r,i)&&(t.flags|=32),qm(e,t),Ae(e,t,o,n),t.child;case 6:return e===null&&$l(t),null;case 13:return Qm(e,t,n);case 4:return cc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tr(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),lf(e,t,r,s,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(mo,r._currentValue),r._currentValue=o,i!==null)if(yt(i.value,o)){if(i.children===s.children&&!Fe.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Dt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ae(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=ot(s),r=r(s),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,s=dt(r,t.pendingProps),s=dt(r.type,s),uf(e,t,r,s,n);case 15:return Wm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dt(r,s),Ui(e,t),t.tag=1,Be(r)?(e=!0,fo(t)):e=!1,Cr(t,n),Um(t,r,s),Kl(t,r,s,n),Ql(null,t,r,!0,e,n);case 19:return Xm(e,t,n);case 22:return Km(e,t,n)}throw Error(j(156,t.tag))};function fg(e,t){return Bp(e,t)}function h1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new h1(e,t,n,r)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p1(e){if(typeof e=="function")return bc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hu)return 11;if(e===Wu)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")bc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rr:return Bn(n.children,s,i,t);case $u:o=8,s|=8;break;case gl:return e=st(12,n,t,s|2),e.elementType=gl,e.lanes=i,e;case yl:return e=st(13,n,t,s),e.elementType=yl,e.lanes=i,e;case vl:return e=st(19,n,t,s),e.elementType=vl,e.lanes=i,e;case Cp:return Go(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wp:o=10;break e;case Sp:o=9;break e;case Hu:o=11;break e;case Wu:o=14;break e;case Qt:o=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=st(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Bn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function Go(e,t,n,r){return e=st(22,e,r,t),e.elementType=Cp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ha(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function Wa(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _c(e,t,n,r,s,i,o,a,l){return e=new m1(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(i),e}function g1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hg(e){if(!e)return yn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Be(n))return hm(e,n,t)}return t}function pg(e,t,n,r,s,i,o,a,l){return e=_c(n,r,!0,e,s,i,o,a,l),e.context=hg(null),n=e.current,r=Le(),s=cn(n),i=Dt(r,s),i.callback=t!=null?t:null,ln(n,i,s),e.current.lanes=s,Gs(e,s,r),Ie(e,r),e}function Qo(e,t,n,r){var s=t.current,i=Le(),o=cn(s);return n=hg(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,o),e!==null&&(gt(e,s,o,i),Bi(e,s,o)),o}function bo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tc(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function y1(){return null}var mg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pc(e){this._internalRoot=e}Xo.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Qo(e,t,null,null)};Xo.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Qo(null,e,null,null)}),t[Bt]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&Gp(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cf(){}function v1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bo(o);i.call(u)}}var o=pg(t,r,e,0,null,!1,!1,"",Cf);return e._reactRootContainer=o,e[Bt]=o.current,As(e.nodeType===8?e.parentNode:e),Kn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=bo(l);a.call(u)}}var l=_c(e,0,!1,null,null,!1,!1,"",Cf);return e._reactRootContainer=l,e[Bt]=l.current,As(e.nodeType===8?e.parentNode:e),Kn(function(){Qo(t,l,n,r)}),l}function Jo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bo(o);a.call(l)}}Qo(t,o,e,s)}else o=v1(n,t,e,s,r);return bo(o)}Hp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=as(t.pendingLanes);n!==0&&(Gu(t,n|1),Ie(t,le()),!($&6)&&(Nr=le()+500,Cn()))}break;case 13:Kn(function(){var r=It(e,1);if(r!==null){var s=Le();gt(r,e,1,s)}}),Tc(e,1)}};Qu=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Le();gt(t,e,134217728,n)}Tc(e,134217728)}};Wp=function(e){if(e.tag===13){var t=cn(e),n=It(e,t);if(n!==null){var r=Le();gt(n,e,t,r)}Tc(e,t)}};Kp=function(){return q};qp=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Pl=function(e,t,n){switch(t){case"input":if(Sl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Uo(r);if(!s)throw Error(j(90));Ep(r),Sl(r,s)}}}break;case"textarea":_p(e,n);break;case"select":t=n.value,t!=null&&vr(e,!!n.multiple,t,!1)}};Lp=Cc;Op=Kn;var x1={usingClientEntryPoint:!1,Events:[Xs,ar,Uo,Rp,Ap,Cc]},Yr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w1={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vp(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bi.isDisabled&&bi.supportsFiber)try{Fo=bi.inject(w1),Et=bi}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1;Ye.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(j(200));return g1(e,t,null,n)};Ye.createRoot=function(e,t){if(!jc(e))throw Error(j(299));var n=!1,r="",s=mg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_c(e,1,!1,null,null,n,!1,r,s),e[Bt]=t.current,As(e.nodeType===8?e.parentNode:e),new Pc(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Vp(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return Kn(e)};Ye.hydrate=function(e,t,n){if(!Yo(t))throw Error(j(200));return Jo(null,e,t,!0,n)};Ye.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pg(t,null,e,1,n!=null?n:null,s,!1,i,o),e[Bt]=t.current,As(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xo(t)};Ye.render=function(e,t,n){if(!Yo(t))throw Error(j(200));return Jo(null,e,t,!1,n)};Ye.unmountComponentAtNode=function(e){if(!Yo(e))throw Error(j(40));return e._reactRootContainer?(Kn(function(){Jo(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Cc;Ye.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yo(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Jo(e,t,n,!1,r)};Ye.version="18.3.1-next-f1338f8080-20240426";function gg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gg)}catch(e){console.error(e)}}gg(),gp.exports=Ye;var S1=gp.exports,kf=S1;pl.createRoot=kf.createRoot,pl.hydrateRoot=kf.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Ef="popstate";function C1(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return au("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_o(s)}return E1(t,n,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function k1(){return Math.random().toString(36).substr(2,8)}function bf(e,t){return{usr:e.state,key:e.key,idx:t}}function au(e,t,n,r){return n===void 0&&(n=null),zs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vr(t):t,{state:n,key:t&&t.key||r||k1()})}function _o(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E1(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=nn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(zs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function c(){a=nn.Pop;let S=d(),v=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:v})}function h(S,v){a=nn.Push;let p=au(w.location,S,v);u=d()+1;let g=bf(p,u),C=w.createHref(p);try{o.pushState(g,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}i&&l&&l({action:a,location:w.location,delta:1})}function y(S,v){a=nn.Replace;let p=au(w.location,S,v);u=d();let g=bf(p,u),C=w.createHref(p);o.replaceState(g,"",C),i&&l&&l({action:a,location:w.location,delta:0})}function m(S){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:_o(S);return p=p.replace(/ $/,"%20"),ce(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let w={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ef,c),l=S,()=>{s.removeEventListener(Ef,c),l=null}},createHref(S){return t(s,S)},createURL:m,encodeLocation(S){let v=m(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:y,go(S){return o.go(S)}};return w}var _f;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_f||(_f={}));function b1(e,t,n){return n===void 0&&(n="/"),_1(e,t,n)}function _1(e,t,n,r){let s=typeof t=="string"?Vr(t):t,i=Rc(s.pathname||"/",n);if(i==null)return null;let o=yg(e);T1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=B1(i);a=M1(o[l],u)}return a}function yg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ce(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=fn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yg(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:O1(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of vg(i.path))s(i,o,l)}),t}function vg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vg(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function T1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P1=/^:[\w-]+$/,j1=3,N1=2,R1=1,A1=10,L1=-2,Tf=e=>e==="*";function O1(e,t){let n=e.split("/"),r=n.length;return n.some(Tf)&&(r+=L1),t&&(r+=N1),n.filter(s=>!Tf(s)).reduce((s,i)=>s+(P1.test(i)?j1:i===""?R1:A1),r)}function D1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function M1(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",c=V1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!c)return null;Object.assign(s,c.params),o.push({params:s,pathname:fn([i,c.pathname]),pathnameBase:H1(fn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=fn([i,c.pathnameBase]))}return o}function V1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=a[c]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const m=a[c];return y&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function F1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function B1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z1=e=>I1.test(e);function U1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Vr(e):e,i;if(n)if(z1(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Nc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Pf(n.substring(1),"/"):i=Pf(n,t)}else i=t;return{pathname:i,search:W1(r),hash:K1(s)}}function Pf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ka(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ac(e,t){let n=$1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Vr(e):(s=zs({},e),ce(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let c=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),c-=1;s.pathname=h.join("/")}a=c>=0?t[c]:"/"}let l=U1(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),H1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xg=["post","put","patch","delete"];new Set(xg);const G1=["get",...xg];new Set(G1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(this,arguments)}const Oc=x.createContext(null),Q1=x.createContext(null),kn=x.createContext(null),Zo=x.createContext(null),Wt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),wg=x.createContext(null);function X1(e,t){let{relative:n}=t===void 0?{}:t;Fr()||ce(!1);let{basename:r,navigator:s}=x.useContext(kn),{hash:i,pathname:o,search:a}=Cg(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:fn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Fr(){return x.useContext(Zo)!=null}function Js(){return Fr()||ce(!1),x.useContext(Zo).location}function Sg(e){x.useContext(kn).static||x.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=x.useContext(Wt);return e?uw():Y1()}function Y1(){Fr()||ce(!1);let e=x.useContext(Oc),{basename:t,future:n,navigator:r}=x.useContext(kn),{matches:s}=x.useContext(Wt),{pathname:i}=Js(),o=JSON.stringify(Ac(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return Sg(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let c=Lc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:fn([t,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[t,r,o,i,e])}function ea(){let{matches:e}=x.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function Cg(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(kn),{matches:s}=x.useContext(Wt),{pathname:i}=Js(),o=JSON.stringify(Ac(s,r.v7_relativeSplatPath));return x.useMemo(()=>Lc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function J1(e,t){return Z1(e,t)}function Z1(e,t,n,r){Fr()||ce(!1);let{navigator:s}=x.useContext(kn),{matches:i}=x.useContext(Wt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Js(),d;if(t){var c;let S=typeof t=="string"?Vr(t):t;l==="/"||(c=S.pathname)!=null&&c.startsWith(l)||ce(!1),d=S}else d=u;let h=d.pathname||"/",y=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=b1(e,{pathname:y}),w=sw(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:fn([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:fn([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&w?x.createElement(Zo.Provider,{value:{location:Us({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},w):w}function ew(){let e=lw(),t=q1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,null)}const tw=x.createElement(ew,null);class nw extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Wt.Provider,{value:this.props.routeContext},x.createElement(wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rw(e){let{routeContext:t,match:n,children:r}=e,s=x.useContext(Oc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Wt.Provider,{value:t},r)}function sw(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);d>=0||ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let c=o[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:h,errors:y}=n,m=c.route.loader&&h[c.route.id]===void 0&&(!y||y[c.route.id]===void 0);if(c.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,c,h)=>{let y,m=!1,w=null,S=null;n&&(y=a&&c.route.id?a[c.route.id]:void 0,w=c.route.errorElement||tw,l&&(u<0&&h===0?(cw("route-fallback"),m=!0,S=null):u===h&&(m=!0,S=c.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),p=()=>{let g;return y?g=w:m?g=S:c.route.Component?g=x.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=d,x.createElement(rw,{match:c,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(nw,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var kg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(kg||{}),Eg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Eg||{});function iw(e){let t=x.useContext(Oc);return t||ce(!1),t}function ow(e){let t=x.useContext(Q1);return t||ce(!1),t}function aw(e){let t=x.useContext(Wt);return t||ce(!1),t}function bg(e){let t=aw(),n=t.matches[t.matches.length-1];return n.route.id||ce(!1),n.route.id}function lw(){var e;let t=x.useContext(wg),n=ow(),r=bg();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function uw(){let{router:e}=iw(kg.UseNavigateStable),t=bg(Eg.UseNavigateStable),n=x.useRef(!1);return Sg(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Us({fromRouteId:t},i)))},[e,t])}const jf={};function cw(e,t,n){jf[e]||(jf[e]=!0)}function dw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _g(e){let{to:t,replace:n,state:r,relative:s}=e;Fr()||ce(!1);let{future:i,static:o}=x.useContext(kn),{matches:a}=x.useContext(Wt),{pathname:l}=Js(),u=Br(),d=Lc(t,Ac(a,i.v7_relativeSplatPath),l,s==="path"),c=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:s}),[u,c,s,n,r]),null}function We(e){ce(!1)}function fw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=nn.Pop,navigator:i,static:o=!1,future:a}=e;Fr()&&ce(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:o,future:Us({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Vr(r));let{pathname:d="/",search:c="",hash:h="",state:y=null,key:m="default"}=r,w=x.useMemo(()=>{let S=Rc(d,l);return S==null?null:{location:{pathname:S,search:c,hash:h,state:y,key:m},navigationType:s}},[l,d,c,h,y,m,s]);return w==null?null:x.createElement(kn.Provider,{value:u},x.createElement(Zo.Provider,{children:n,value:w}))}function hw(e){let{children:t,location:n}=e;return J1(lu(t),n)}new Promise(()=>{});function lu(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,lu(r.props.children,i));return}r.type!==We&&ce(!1),!r.props.index||!r.props.children||ce(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu.apply(this,arguments)}function pw(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function mw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gw(e,t){return e.button===0&&(!t||t==="_self")&&!mw(e)}const yw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vw="6";try{window.__reactRouterVersion=vw}catch{}const xw="startTransition",Nf=cv[xw];function ww(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=C1({window:s,v5Compat:!0}));let o=i.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(c=>{u&&Nf?Nf(()=>l(c)):l(c)},[l,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>dw(r),[r]),x.createElement(fw,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=x.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:c}=t,h=pw(t,yw),{basename:y}=x.useContext(kn),m,w=!1;if(typeof u=="string"&&Cw.test(u)&&(m=u,Sw))try{let g=new URL(window.location.href),C=u.startsWith("//")?new URL(g.protocol+u):new URL(u),k=Rc(C.pathname,y);C.origin===g.origin&&k!=null?u=k+C.search+C.hash:w=!0}catch{}let S=X1(u,{relative:s}),v=kw(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:c});function p(g){r&&r(g),g.defaultPrevented||v(g)}return x.createElement("a",uu({},h,{href:m||S,onClick:w||i?r:p,ref:n,target:l}))});var Rf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rf||(Rf={}));var Af;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Af||(Af={}));function kw(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Br(),u=Js(),d=Cg(e,{relative:o});return x.useCallback(c=>{if(gw(c,n)){c.preventDefault();let h=r!==void 0?r:_o(u)===_o(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}function Tg(e,t){return function(){return e.apply(t,arguments)}}var Ew={};const{toString:bw}=Object.prototype,{getPrototypeOf:Dc}=Object,{iterator:ta,toStringTag:Pg}=Symbol,na=(e=>t=>{const n=bw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xt=e=>(e=e.toLowerCase(),t=>na(t)===e),ra=e=>t=>typeof t===e,{isArray:Ir}=Array,Rr=ra("undefined");function Zs(e){return e!==null&&!Rr(e)&&e.constructor!==null&&!Rr(e.constructor)&&ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jg=xt("ArrayBuffer");function _w(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jg(e.buffer),t}const Tw=ra("string"),ze=ra("function"),Ng=ra("number"),ei=e=>e!==null&&typeof e=="object",Pw=e=>e===!0||e===!1,Ki=e=>{if(na(e)!=="object")return!1;const t=Dc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Pg in e)&&!(ta in e)},jw=e=>{if(!ei(e)||Zs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Nw=xt("Date"),Rw=xt("File"),Aw=xt("Blob"),Lw=xt("FileList"),Ow=e=>ei(e)&&ze(e.pipe),Dw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ze(e.append)&&((t=na(e))==="formdata"||t==="object"&&ze(e.toString)&&e.toString()==="[object FormData]"))},Mw=xt("URLSearchParams"),[Vw,Fw,Bw,Iw]=["ReadableStream","Request","Response","Headers"].map(xt),zw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ti(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Ir(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Zs(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Rg(e,t){if(Zs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ew,Ag=e=>!Rr(e)&&e!==Mn;function cu(){const{caseless:e,skipUndefined:t}=Ag(this)&&this||{},n={},r=(s,i)=>{const o=e&&Rg(n,i)||i;Ki(n[o])&&Ki(s)?n[o]=cu(n[o],s):Ki(s)?n[o]=cu({},s):Ir(s)?n[o]=s.slice():(!t||!Rr(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ti(arguments[s],r);return n}const Uw=(e,t,n,{allOwnKeys:r}={})=>(ti(t,(s,i)=>{n&&ze(s)?e[i]=Tg(s,n):e[i]=s},{allOwnKeys:r}),e),$w=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ww=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Dc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Kw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},qw=e=>{if(!e)return null;if(Ir(e))return e;let t=e.length;if(!Ng(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Gw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dc(Uint8Array)),Qw=(e,t)=>{const r=(e&&e[ta]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Xw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Yw=xt("HTMLFormElement"),Jw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Lf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zw=xt("RegExp"),Lg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ti(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},eS=e=>{Lg(e,(t,n)=>{if(ze(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ze(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tS=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ir(e)?r(e):r(String(e).split(t)),n},nS=()=>{},rS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sS(e){return!!(e&&ze(e.append)&&e[Pg]==="FormData"&&e[ta])}const iS=e=>{const t=new Array(10),n=(r,s)=>{if(ei(r)){if(t.indexOf(r)>=0)return;if(Zs(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Ir(r)?[]:{};return ti(r,(o,a)=>{const l=n(o,s+1);!Rr(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},oS=xt("AsyncFunction"),aS=e=>e&&(ei(e)||ze(e))&&ze(e.then)&&ze(e.catch),Og=((e,t)=>e?setImmediate:t?((n,r)=>(Mn.addEventListener("message",({source:s,data:i})=>{s===Mn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Mn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ze(Mn.postMessage)),lS=typeof queueMicrotask<"u"?queueMicrotask.bind(Mn):typeof process<"u"&&process.nextTick||Og,uS=e=>e!=null&&ze(e[ta]),b={isArray:Ir,isArrayBuffer:jg,isBuffer:Zs,isFormData:Dw,isArrayBufferView:_w,isString:Tw,isNumber:Ng,isBoolean:Pw,isObject:ei,isPlainObject:Ki,isEmptyObject:jw,isReadableStream:Vw,isRequest:Fw,isResponse:Bw,isHeaders:Iw,isUndefined:Rr,isDate:Nw,isFile:Rw,isBlob:Aw,isRegExp:Zw,isFunction:ze,isStream:Ow,isURLSearchParams:Mw,isTypedArray:Gw,isFileList:Lw,forEach:ti,merge:cu,extend:Uw,trim:zw,stripBOM:$w,inherits:Hw,toFlatObject:Ww,kindOf:na,kindOfTest:xt,endsWith:Kw,toArray:qw,forEachEntry:Qw,matchAll:Xw,isHTMLForm:Yw,hasOwnProperty:Lf,hasOwnProp:Lf,reduceDescriptors:Lg,freezeMethods:eS,toObjectSet:tS,toCamelCase:Jw,noop:nS,toFiniteNumber:rS,findKey:Rg,global:Mn,isContextDefined:Ag,isSpecCompliantForm:sS,toJSONObject:iS,isAsyncFn:oS,isThenable:aS,setImmediate:Og,asap:lS,isIterable:uS};function I(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}b.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const Dg=I.prototype,Mg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mg[e]={value:e}});Object.defineProperties(I,Mg);Object.defineProperty(Dg,"isAxiosError",{value:!0});I.from=(e,t,n,r,s,i)=>{const o=Object.create(Dg);b.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return I.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const cS=null;function du(e){return b.isPlainObject(e)||b.isArray(e)}function Vg(e){return b.endsWith(e,"[]")?e.slice(0,-2):e}function Of(e,t,n){return e?e.concat(t).map(function(s,i){return s=Vg(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function dS(e){return b.isArray(e)&&!e.some(du)}const fS=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function sa(e,t,n){if(!b.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!b.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(t);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(b.isDate(m))return m.toISOString();if(b.isBoolean(m))return m.toString();if(!l&&b.isBlob(m))throw new I("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(m)||b.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,w,S){let v=m;if(m&&!S&&typeof m=="object"){if(b.endsWith(w,"{}"))w=r?w:w.slice(0,-2),m=JSON.stringify(m);else if(b.isArray(m)&&dS(m)||(b.isFileList(m)||b.endsWith(w,"[]"))&&(v=b.toArray(m)))return w=Vg(w),v.forEach(function(g,C){!(b.isUndefined(g)||g===null)&&t.append(o===!0?Of([w],C,i):o===null?w:w+"[]",u(g))}),!1}return du(m)?!0:(t.append(Of(S,w,i),u(m)),!1)}const c=[],h=Object.assign(fS,{defaultVisitor:d,convertValue:u,isVisitable:du});function y(m,w){if(!b.isUndefined(m)){if(c.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));c.push(m),b.forEach(m,function(v,p){(!(b.isUndefined(v)||v===null)&&s.call(t,v,b.isString(p)?p.trim():p,w,h))===!0&&y(v,w?w.concat(p):[p])}),c.pop()}}if(!b.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Df(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mc(e,t){this._pairs=[],e&&sa(e,this,t)}const Fg=Mc.prototype;Fg.append=function(t,n){this._pairs.push([t,n])};Fg.toString=function(t){const n=t?function(r){return t.call(this,r,Df)}:Df;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function hS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bg(e,t,n){if(!t)return e;const r=n&&n.encode||hS;b.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=b.isURLSearchParams(t)?t.toString():new Mc(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Mf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){b.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ig={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pS=typeof URLSearchParams<"u"?URLSearchParams:Mc,mS=typeof FormData<"u"?FormData:null,gS=typeof Blob<"u"?Blob:null,yS={isBrowser:!0,classes:{URLSearchParams:pS,FormData:mS,Blob:gS},protocols:["http","https","file","blob","url","data"]},Vc=typeof window<"u"&&typeof document<"u",fu=typeof navigator=="object"&&navigator||void 0,vS=Vc&&(!fu||["ReactNative","NativeScript","NS"].indexOf(fu.product)<0),xS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wS=Vc&&window.location.href||"http://localhost",SS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vc,hasStandardBrowserEnv:vS,hasStandardBrowserWebWorkerEnv:xS,navigator:fu,origin:wS},Symbol.toStringTag,{value:"Module"})),Te={...SS,...yS};function CS(e,t){return sa(e,new Te.classes.URLSearchParams,{visitor:function(n,r,s,i){return Te.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kS(e){return b.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ES(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function zg(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&b.isArray(s)?s.length:o,l?(b.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!b.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&b.isArray(s[o])&&(s[o]=ES(s[o])),!a)}if(b.isFormData(e)&&b.isFunction(e.entries)){const n={};return b.forEachEntry(e,(r,s)=>{t(kS(r),s,n,0)}),n}return null}function bS(e,t,n){if(b.isString(e))try{return(t||JSON.parse)(e),b.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ni={transitional:Ig,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=b.isObject(t);if(i&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return s?JSON.stringify(zg(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t)||b.isReadableStream(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return CS(t,this.formSerializer).toString();if((a=b.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return sa(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),bS(t)):t}],transformResponse:[function(t){const n=this.transitional||ni.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(b.isResponse(t)||b.isReadableStream(t))return t;if(t&&b.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?I.from(a,I.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],e=>{ni.headers[e]={}});const _S=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TS=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&_S[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Vf=Symbol("internals");function Jr(e){return e&&String(e).trim().toLowerCase()}function qi(e){return e===!1||e==null?e:b.isArray(e)?e.map(qi):String(e)}function PS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const jS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qa(e,t,n,r,s){if(b.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!b.isString(t)){if(b.isString(r))return t.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(t)}}function NS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function RS(e,t){const n=b.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let Ue=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const d=Jr(l);if(!d)throw new Error("header name must be a non-empty string");const c=b.findKey(s,d);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||l]=qi(a))}const o=(a,l)=>b.forEach(a,(u,d)=>i(u,d,l));if(b.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(b.isString(t)&&(t=t.trim())&&!jS(t))o(TS(t),n);else if(b.isObject(t)&&b.isIterable(t)){let a={},l,u;for(const d of t){if(!b.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?b.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Jr(t),t){const r=b.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return PS(s);if(b.isFunction(n))return n.call(this,s,r);if(b.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Jr(t),t){const r=b.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||qa(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Jr(o),o){const a=b.findKey(r,o);a&&(!n||qa(r,r[a],a,n))&&(delete r[a],s=!0)}}return b.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||qa(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return b.forEach(this,(s,i)=>{const o=b.findKey(r,i);if(o){n[o]=qi(s),delete n[i];return}const a=t?NS(i):String(i).trim();a!==i&&delete n[i],n[a]=qi(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return b.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Vf]=this[Vf]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Jr(o);r[a]||(RS(s,o),r[a]=!0)}return b.isArray(t)?t.forEach(i):i(t),this}};Ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(Ue.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});b.freezeMethods(Ue);function Ga(e,t){const n=this||ni,r=t||n,s=Ue.from(r.headers);let i=r.data;return b.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Ug(e){return!!(e&&e.__CANCEL__)}function zr(e,t,n){I.call(this,e==null?"canceled":e,I.ERR_CANCELED,t,n),this.name="CanceledError"}b.inherits(zr,I,{__CANCEL__:!0});function $g(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new I("Request failed with status code "+n.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function AS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];o||(o=u),n[s]=l,r[s]=u;let c=i,h=0;for(;c!==s;)h+=n[c++],c=c%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const y=d&&u-d;return y?Math.round(h*1e3/y):void 0}}function OS(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),c=d-n;c>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-c)))},()=>s&&o(s)]}const To=(e,t,n=3)=>{let r=0;const s=LS(50,250);return OS(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(c)},n)},Ff=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Bf=e=>(...t)=>b.asap(()=>e(...t)),DS=Te.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Te.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Te.origin),Te.navigator&&/(msie|trident)/i.test(Te.navigator.userAgent)):()=>!0,MS=Te.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];b.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),b.isString(r)&&a.push(`path=${r}`),b.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function VS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hg(e,t,n){let r=!VS(t);return e&&(r||n==!1)?FS(e,t):t}const If=e=>e instanceof Ue?{...e}:e;function qn(e,t){t=t||{};const n={};function r(u,d,c,h){return b.isPlainObject(u)&&b.isPlainObject(d)?b.merge.call({caseless:h},u,d):b.isPlainObject(d)?b.merge({},d):b.isArray(d)?d.slice():d}function s(u,d,c,h){if(b.isUndefined(d)){if(!b.isUndefined(u))return r(void 0,u,c,h)}else return r(u,d,c,h)}function i(u,d){if(!b.isUndefined(d))return r(void 0,d)}function o(u,d){if(b.isUndefined(d)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in t)return r(u,d);if(c in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>s(If(u),If(d),c,!0)};return b.forEach(Object.keys({...e,...t}),function(d){const c=l[d]||s,h=c(e[d],t[d],d);b.isUndefined(h)&&c!==a||(n[d]=h)}),n}const Wg=e=>{const t=qn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=Ue.from(o),t.url=Bg(Hg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(n)){if(Te.hasStandardBrowserEnv||Te.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,c])=>{u.includes(d.toLowerCase())&&o.set(d,c)})}}if(Te.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(t)),r||r!==!1&&DS(t.url))){const l=s&&i&&MS.read(i);l&&o.set(s,l)}return t},BS=typeof XMLHttpRequest<"u",IS=BS&&function(e){return new Promise(function(n,r){const s=Wg(e);let i=s.data;const o=Ue.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,c,h,y,m;function w(){y&&y(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function v(){if(!S)return;const g=Ue.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:g,config:e,request:S};$g(function(_){n(_),w()},function(_){r(_),w()},k),S=null}"onloadend"in S?S.onloadend=v:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(v)},S.onabort=function(){S&&(r(new I("Request aborted",I.ECONNABORTED,e,S)),S=null)},S.onerror=function(C){const k=C&&C.message?C.message:"Network Error",E=new I(k,I.ERR_NETWORK,e,S);E.event=C||null,r(E),S=null},S.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Ig;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new I(C,k.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&b.forEach(o.toJSON(),function(C,k){S.setRequestHeader(k,C)}),b.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([h,m]=To(u,!0),S.addEventListener("progress",h)),l&&S.upload&&([c,y]=To(l),S.upload.addEventListener("progress",c),S.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=g=>{S&&(r(!g||g.type?new zr(null,e,S):g),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const p=AS(s.url);if(p&&Te.protocols.indexOf(p)===-1){r(new I("Unsupported protocol "+p+":",I.ERR_BAD_REQUEST,e));return}S.send(i||null)})},zS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof I?d:new zr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new I(`timeout ${t} of ms exceeded`,I.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>b.asap(a),l}},US=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},$S=async function*(e,t){for await(const n of HS(e))yield*US(n,t)},HS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},zf=(e,t,n,r)=>{const s=$S(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let c=d.byteLength;if(n){let h=i+=c;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Uf=64*1024,{isFunction:_i}=b,WS=(({Request:e,Response:t})=>({Request:e,Response:t}))(b.global),{ReadableStream:$f,TextEncoder:Hf}=b.global,Wf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KS=e=>{e=b.merge.call({skipUndefined:!0},WS,e);const{fetch:t,Request:n,Response:r}=e,s=t?_i(t):typeof fetch=="function",i=_i(n),o=_i(r);if(!s)return!1;const a=s&&_i($f),l=s&&(typeof Hf=="function"?(m=>w=>m.encode(w))(new Hf):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=i&&a&&Wf(()=>{let m=!1;const w=new n(Te.origin,{body:new $f,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),d=o&&a&&Wf(()=>b.isReadableStream(new r("").body)),c={stream:d&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!c[m]&&(c[m]=(w,S)=>{let v=w&&w[m];if(v)return v.call(w);throw new I(`Response type '${m}' is not supported`,I.ERR_NOT_SUPPORT,S)})});const h=async m=>{if(m==null)return 0;if(b.isBlob(m))return m.size;if(b.isSpecCompliantForm(m))return(await new n(Te.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(b.isArrayBufferView(m)||b.isArrayBuffer(m))return m.byteLength;if(b.isURLSearchParams(m)&&(m=m+""),b.isString(m))return(await l(m)).byteLength},y=async(m,w)=>{const S=b.toFiniteNumber(m.getContentLength());return S==null?h(w):S};return async m=>{let{url:w,method:S,data:v,signal:p,cancelToken:g,timeout:C,onDownloadProgress:k,onUploadProgress:E,responseType:_,headers:T,withCredentials:N="same-origin",fetchOptions:P}=Wg(m),R=t||fetch;_=_?(_+"").toLowerCase():"text";let D=zS([p,g&&g.toAbortSignal()],C),W=null;const G=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let lt;try{if(E&&u&&S!=="get"&&S!=="head"&&(lt=await y(T,v))!==0){let M=new n(w,{method:"POST",body:v,duplex:"half"}),K;if(b.isFormData(v)&&(K=M.headers.get("content-type"))&&T.setContentType(K),M.body){const[ut,Ne]=Ff(lt,To(Bf(E)));v=zf(M.body,Uf,ut,Ne)}}b.isString(N)||(N=N?"include":"omit");const H=i&&"credentials"in n.prototype,je={...P,signal:D,method:S.toUpperCase(),headers:T.normalize().toJSON(),body:v,duplex:"half",credentials:H?N:void 0};W=i&&new n(w,je);let A=await(i?R(W,P):R(w,je));const V=d&&(_==="stream"||_==="response");if(d&&(k||V&&G)){const M={};["status","statusText","headers"].forEach(jt=>{M[jt]=A[jt]});const K=b.toFiniteNumber(A.headers.get("content-length")),[ut,Ne]=k&&Ff(K,To(Bf(k),!0))||[];A=new r(zf(A.body,Uf,ut,()=>{Ne&&Ne(),G&&G()}),M)}_=_||"text";let B=await c[b.findKey(c,_)||"text"](A,m);return!V&&G&&G(),await new Promise((M,K)=>{$g(M,K,{data:B,headers:Ue.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:W})})}catch(H){throw G&&G(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new I("Network Error",I.ERR_NETWORK,m,W),{cause:H.cause||H}):I.from(H,H&&H.code,m,W)}}},qS=new Map,Kg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,u,d=qS;for(;a--;)l=i[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:KS(t)),d=u;return u};Kg();const Fc={http:cS,xhr:IS,fetch:{get:Kg}};b.forEach(Fc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kf=e=>`- ${e}`,GS=e=>b.isFunction(e)||e===null||e===!1;function QS(e,t){e=b.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!GS(r)&&(s=Fc[(a=String(r)).toLowerCase()],s===void 0))throw new I(`Unknown adapter '${a}'`);if(s&&(b.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Kf).join(`
`):" "+Kf(o[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const qg={getAdapter:QS,adapters:Fc};function Qa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zr(null,e)}function qf(e){return Qa(e),e.headers=Ue.from(e.headers),e.data=Ga.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qg.getAdapter(e.adapter||ni.adapter,e)(e).then(function(r){return Qa(e),r.data=Ga.call(e,e.transformResponse,r),r.headers=Ue.from(r.headers),r},function(r){return Ug(r)||(Qa(e),r&&r.response&&(r.response.data=Ga.call(e,e.transformResponse,r.response),r.response.headers=Ue.from(r.response.headers))),Promise.reject(r)})}const Gg="1.13.2",ia={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ia[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Gf={};ia.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Gg+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new I(s(o," has been removed"+(n?" in "+n:"")),I.ERR_DEPRECATED);return n&&!Gf[o]&&(Gf[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};ia.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function XS(e,t,n){if(typeof e!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new I("option "+i+" must be "+l,I.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new I("Unknown option "+i,I.ERR_BAD_OPTION)}}const Gi={assertOptions:XS,validators:ia},St=Gi.validators;let In=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Mf,response:new Mf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Gi.assertOptions(r,{silentJSONParsing:St.transitional(St.boolean),forcedJSONParsing:St.transitional(St.boolean),clarifyTimeoutError:St.transitional(St.boolean)},!1),s!=null&&(b.isFunction(s)?n.paramsSerializer={serialize:s}:Gi.assertOptions(s,{encode:St.function,serialize:St.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Gi.assertOptions(n,{baseUrl:St.spelling("baseURL"),withXsrfToken:St.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Ue.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,c=0,h;if(!l){const m=[qf.bind(this),void 0];for(m.unshift(...a),m.push(...u),h=m.length,d=Promise.resolve(n);c<h;)d=d.then(m[c++],m[c++]);return d}h=a.length;let y=n;for(;c<h;){const m=a[c++],w=a[c++];try{y=m(y)}catch(S){w.call(this,S);break}}try{d=qf.call(this,y)}catch(m){return Promise.reject(m)}for(c=0,h=u.length;c<h;)d=d.then(u[c++],u[c++]);return d}getUri(t){t=qn(this.defaults,t);const n=Hg(t.baseURL,t.url,t.allowAbsoluteUrls);return Bg(n,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){In.prototype[t]=function(n,r){return this.request(qn(r||{},{method:t,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(qn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}In.prototype[t]=n(),In.prototype[t+"Form"]=n(!0)});let YS=class Qg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new zr(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qg(function(s){t=s}),cancel:t}}};function JS(e){return function(n){return e.apply(null,n)}}function ZS(e){return b.isObject(e)&&e.isAxiosError===!0}const hu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hu).forEach(([e,t])=>{hu[t]=e});function Xg(e){const t=new In(e),n=Tg(In.prototype.request,t);return b.extend(n,In.prototype,t,{allOwnKeys:!0}),b.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Xg(qn(e,s))},n}const L=Xg(ni);L.Axios=In;L.CanceledError=zr;L.CancelToken=YS;L.isCancel=Ug;L.VERSION=Gg;L.toFormData=sa;L.AxiosError=I;L.Cancel=L.CanceledError;L.all=function(t){return Promise.all(t)};L.spread=JS;L.isAxiosError=ZS;L.mergeConfig=qn;L.AxiosHeaders=Ue;L.formToJSON=e=>zg(b.isHTMLForm(e)?new FormData(e):e);L.getAdapter=qg.getAdapter;L.HttpStatusCode=hu;L.default=L;const{Axios:FT,AxiosError:BT,CanceledError:IT,isCancel:zT,CancelToken:UT,VERSION:$T,all:HT,Cancel:WT,isAxiosError:KT,spread:qT,toFormData:GT,AxiosHeaders:QT,HttpStatusCode:XT,formToJSON:YT,getAdapter:JT,mergeConfig:ZT}=L,Zr="http://localhost:5050",oa=x.createContext(null),vt=()=>{const e=x.useContext(oa);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e},e2=({children:e})=>{const[t,n]=x.useState(null),[r,s]=x.useState(null),[i,o]=x.useState(!0),[a,l]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{const S=localStorage.getItem("access_token"),v=localStorage.getItem("user_data");if(S&&v){s(S);try{n(JSON.parse(v))}catch{console.error("Invalid user_data in localStorage"),localStorage.removeItem("access_token"),localStorage.removeItem("user_data")}}o(!1)},[]);const c=(S,v)=>{console.log(" saveSession called:",{jwt:(S==null?void 0:S.substring(0,20))+"...",user:v}),localStorage.setItem("access_token",S),localStorage.setItem("user_data",JSON.stringify(v)),s(S),n(v),console.log(" User state updated:",v)},h=async(S,v)=>{var p,g;try{console.log(" AuthContext.login called",{username:S,API:Zr});const C=await L.post(`${Zr}/api/auth/login`,{username:S,password:v});console.log(" Login API response:",C.data);const k=C.data.data;if(console.log(" Response data:",k),k.two_factor_required)return l(!0),d(k.temp_token),{requires2FA:!0};const E=k.access_token,_=k.user_id,T=k.username;if(!E||!_||!T)return console.error(" Invalid server response:",k),{error:"Invalid server response"};const N={id:_,username:T};return console.log(" Saving session with user:",N),c(E,N),{success:!0}}catch(C){return console.error(" Login API error:",C),{error:((g=(p=C.response)==null?void 0:p.data)==null?void 0:g.error)||"Login failed"}}},y=async S=>{var v,p;try{const C=(await L.post(`${Zr}/api/security/verify-2fa`,{temp_token:u,code:S})).data.data;return c(C.access_token,C.user),l(!1),d(null),{success:!0}}catch(g){return{error:((p=(v=g.response)==null?void 0:v.data)==null?void 0:p.error)||"Invalid code"}}},m=async(S,v,p)=>{var g,C;try{return{success:!0,message:(await L.post(`${Zr}/api/auth/register`,{username:S,email:v,password:p})).data.message}}catch(k){return{error:((C=(g=k.response)==null?void 0:g.data)==null?void 0:C.error)||"Registration failed"}}},w=async()=>{try{r&&await L.post(`${Zr}/api/security/logout`,{},{headers:{Authorization:`Bearer ${r}`}})}catch(S){console.error("Logout failed:",S)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("user_data"),n(null),s(null),l(!1),d(null)}};return f.jsx(oa.Provider,{value:{user:t,token:r,loading:i,login:h,verify2FA:y,register:m,logout:w,requires2FA:a,tempToken:u},children:e})},Pt=Object.create(null);Pt.open="0";Pt.close="1";Pt.ping="2";Pt.pong="3";Pt.message="4";Pt.upgrade="5";Pt.noop="6";const Qi=Object.create(null);Object.keys(Pt).forEach(e=>{Qi[Pt[e]]=e});const pu={type:"error",data:"parser error"},Yg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Jg=typeof ArrayBuffer=="function",Zg=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Bc=({type:e,data:t},n,r)=>Yg&&t instanceof Blob?n?r(t):Qf(t,r):Jg&&(t instanceof ArrayBuffer||Zg(t))?n?r(t):Qf(new Blob([t]),r):r(Pt[e]+(t||"")),Qf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Xf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Xa;function t2(e,t){if(Yg&&e.data instanceof Blob)return e.data.arrayBuffer().then(Xf).then(t);if(Jg&&(e.data instanceof ArrayBuffer||Zg(e.data)))return t(Xf(e.data));Bc(e,!1,n=>{Xa||(Xa=new TextEncoder),t(Xa.encode(n))})}const Yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",us=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Yf.length;e++)us[Yf.charCodeAt(e)]=e;const n2=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=us[e.charCodeAt(r)],o=us[e.charCodeAt(r+1)],a=us[e.charCodeAt(r+2)],l=us[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return u},r2=typeof ArrayBuffer=="function",Ic=(e,t)=>{if(typeof e!="string")return{type:"message",data:ey(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:s2(e.substring(1),t)}:Qi[n]?e.length>1?{type:Qi[n],data:e.substring(1)}:{type:Qi[n]}:pu},s2=(e,t)=>{if(r2){const n=n2(e);return ey(n,t)}else return{base64:!0,data:e}},ey=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ty="",i2=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Bc(i,!1,a=>{r[o]=a,++s===n&&t(r.join(ty))})})},o2=(e,t)=>{const n=e.split(ty),r=[];for(let s=0;s<n.length;s++){const i=Ic(n[s],t);if(r.push(i),i.type==="error")break}return r};function a2(){return new TransformStream({transform(e,t){t2(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ya;function Ti(e){return e.reduce((t,n)=>t+n.length,0)}function Pi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function l2(e,t){Ya||(Ya=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Ti(n)<1)break;const l=Pi(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ti(n)<2)break;const l=Pi(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ti(n)<8)break;const l=Pi(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(pu);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Ti(n)<s)break;const l=Pi(n,s);a.enqueue(Ic(i?l:Ya.decode(l),t)),r=0}if(s===0||s>e){a.enqueue(pu);break}}}})}const ny=4;function he(e){if(e)return u2(e)}function u2(e){for(var t in he.prototype)e[t]=he.prototype[t];return e}he.prototype.on=he.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};he.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};he.prototype.off=he.prototype.removeListener=he.prototype.removeAllListeners=he.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};he.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};he.prototype.emitReserved=he.prototype.emit;he.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};he.prototype.hasListeners=function(e){return!!this.listeners(e).length};const aa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),rt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),c2="arraybuffer";function ry(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const d2=rt.setTimeout,f2=rt.clearTimeout;function la(e,t){t.useNativeTimers?(e.setTimeoutFn=d2.bind(rt),e.clearTimeoutFn=f2.bind(rt)):(e.setTimeoutFn=rt.setTimeout.bind(rt),e.clearTimeoutFn=rt.clearTimeout.bind(rt))}const h2=1.33;function p2(e){return typeof e=="string"?m2(e):Math.ceil((e.byteLength||e.size)*h2)}function m2(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function sy(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function g2(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function y2(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class v2 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class zc extends he{constructor(t){super(),this.writable=!1,la(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new v2(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ic(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=g2(t);return n.length?"?"+n:""}}class x2 extends zc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};o2(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,i2(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=sy()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let iy=!1;try{iy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const w2=iy;function S2(){}class C2 extends x2{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class _t extends he{constructor(t,n,r){super(),this.createRequest=t,la(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=ry(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=_t.requestsCount++,_t.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=S2,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _t.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_t.requestsCount=0;_t.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Jf);else if(typeof addEventListener=="function"){const e="onpagehide"in rt?"pagehide":"unload";addEventListener(e,Jf,!1)}}function Jf(){for(let e in _t.requests)_t.requests.hasOwnProperty(e)&&_t.requests[e].abort()}const k2=function(){const e=oy({xdomain:!1});return e&&e.responseType!==null}();class E2 extends C2{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=k2&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new _t(oy,this.uri(),t)}}function oy(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||w2))return new XMLHttpRequest}catch{}if(!t)try{return new rt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ay=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class b2 extends zc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=ay?{}:ry(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Bc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&aa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=sy()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ja=rt.WebSocket||rt.MozWebSocket;class _2 extends b2{createSocket(t,n,r){return ay?new Ja(t,n,r):n?new Ja(t,n):new Ja(t)}doWrite(t,n){this.ws.send(n)}}class T2 extends zc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=l2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=a2();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&aa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const P2={websocket:_2,webtransport:T2,polling:E2},j2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,N2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function mu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=j2.exec(e||""),i={},o=14;for(;o--;)i[N2[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=R2(i,i.path),i.queryKey=A2(i,i.query),i}function R2(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function A2(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const gu=typeof addEventListener=="function"&&typeof removeEventListener=="function",Xi=[];gu&&addEventListener("offline",()=>{Xi.forEach(e=>e())},!1);class pn extends he{constructor(t,n){if(super(),this.binaryType=c2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=mu(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=mu(n.host).host);la(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=y2(this.opts.query)),gu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Xi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ny,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&pn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",pn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=p2(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,aa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(pn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),gu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Xi.indexOf(this._offlineEventListener);r!==-1&&Xi.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}pn.protocol=ny;class L2 extends pn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;pn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;pn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=c=>{const h=new Error("probe error: "+c);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function u(c){n&&c.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let O2=class extends L2{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>P2[s]).filter(s=>!!s)),super(t,r)}};function D2(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=mu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const M2=typeof ArrayBuffer=="function",V2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ly=Object.prototype.toString,F2=typeof Blob=="function"||typeof Blob<"u"&&ly.call(Blob)==="[object BlobConstructor]",B2=typeof File=="function"||typeof File<"u"&&ly.call(File)==="[object FileConstructor]";function Uc(e){return M2&&(e instanceof ArrayBuffer||V2(e))||F2&&e instanceof Blob||B2&&e instanceof File}function Yi(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Yi(e[n]))return!0;return!1}if(Uc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Yi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Yi(e[n]))return!0;return!1}function I2(e){const t=[],n=e.data,r=e;return r.data=yu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function yu(e,t){if(!e)return e;if(Uc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=yu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=yu(e[r],t));return n}return e}function z2(e,t){return e.data=vu(e.data,t),delete e.attachments,e}function vu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=vu(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=vu(e[n],t));return e}const U2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$2=5;var U;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(U||(U={}));class H2{constructor(t){this.replacer=t}encode(t){return(t.type===U.EVENT||t.type===U.ACK)&&Yi(t)?this.encodeAsBinary({type:t.type===U.EVENT?U.BINARY_EVENT:U.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===U.BINARY_EVENT||t.type===U.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=I2(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Zf(e){return Object.prototype.toString.call(e)==="[object Object]"}class $c extends he{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===U.BINARY_EVENT;r||n.type===U.BINARY_ACK?(n.type=r?U.EVENT:U.ACK,this.reconstructor=new W2(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Uc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(U[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===U.BINARY_EVENT||r.type===U.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if($c.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case U.CONNECT:return Zf(n);case U.DISCONNECT:return n===void 0;case U.CONNECT_ERROR:return typeof n=="string"||Zf(n);case U.EVENT:case U.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&U2.indexOf(n[0])===-1);case U.ACK:case U.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class W2{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=z2(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const K2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$c,Encoder:H2,get PacketType(){return U},protocol:$2},Symbol.toStringTag,{value:"Module"}));function ht(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const q2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class uy extends he{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ht(t,"open",this.onopen.bind(this)),ht(t,"packet",this.onpacket.bind(this)),ht(t,"error",this.onerror.bind(this)),ht(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(q2.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:U.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,c=n.pop();this._registerAckCallback(d,c),o.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:U.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case U.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case U.EVENT:case U.BINARY_EVENT:this.onevent(t);break;case U.ACK:case U.BINARY_ACK:this.onack(t);break;case U.DISCONNECT:this.ondisconnect();break;case U.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:U.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:U.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ur(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ur.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ur.prototype.reset=function(){this.attempts=0};Ur.prototype.setMin=function(e){this.ms=e};Ur.prototype.setMax=function(e){this.max=e};Ur.prototype.setJitter=function(e){this.jitter=e};class xu extends he{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,la(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ur({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||K2;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new O2(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ht(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=ht(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ht(t,"ping",this.onping.bind(this)),ht(t,"data",this.ondata.bind(this)),ht(t,"error",this.onerror.bind(this)),ht(t,"close",this.onclose.bind(this)),ht(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){aa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new uy(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const es={};function Ji(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=D2(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=es[s]&&i in es[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new xu(r,t):(es[s]||(es[s]=new xu(r,t)),l=es[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Ji,{Manager:xu,Socket:uy,io:Ji,connect:Ji});const cy=x.createContext(null),$r=()=>{const e=x.useContext(cy);if(!e)throw new Error("useSocket must be used inside SocketProvider");return e},G2=({children:e})=>{const{user:t,token:n}=vt(),[r,s]=x.useState(null),[i,o]=x.useState(!1),[a,l]=x.useState(null),u=x.useCallback((d,c={})=>{if(!r||!i){console.warn("Emit skipped  socket not ready:",d);return}try{r.emit(d,c)}catch(h){console.error("safeEmit error:",d,c,h)}},[r,i]);return x.useEffect(()=>{if(!t||!n){r&&r.disconnect(),s(null),o(!1);return}const d=Ji("http://localhost:5050",{auth:{token:n},transports:["websocket"],reconnection:!0,reconnectionAttempts:15,reconnectionDelay:800,timeout:2e4});return d.on("connect",()=>{console.log(" SecureChannelX WebSocket Connected"),o(!0)}),d.on("disconnect",()=>{console.log(" Socket Disconnected"),o(!1)}),d.on("error",c=>{console.error(" Socket Error:",c)}),d.on("unauthorized",()=>{console.error(" Invalid token - forcing logout")}),d.on("session_key",({key:c})=>{console.log(" Session key received"),l(c)}),d.on("session_key_rotated",({new_key:c})=>{console.log(" Session key rotated"),l(c)}),s(d),()=>{d.disconnect(),s(null),o(!1)}},[t,n]),f.jsx(cy.Provider,{value:{socket:r,isConnected:i,sessionKey:a,safeEmit:u},children:e})},dy=x.createContext(null),Q2=()=>{const e=x.useContext(dy);if(!e)throw new Error("useEncryption must be used inside EncryptionProvider");return e};async function X2(){return await window.crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function Y2(e,t){return await window.crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function J2(e,t){const n=new TextEncoder,r=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,n.encode(t));return{ciphertext:btoa(String.fromCharCode(...new Uint8Array(s))),iv:btoa(String.fromCharCode(...r))}}async function Z2(e,t,n){const r=new TextDecoder,s=Uint8Array.from(atob(n),a=>a.charCodeAt(0)),i=Uint8Array.from(atob(t),a=>a.charCodeAt(0)),o=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},e,i);return r.decode(o)}const eC=({children:e})=>{const{user:t}=vt(),[n,r]=x.useState({privateKey:null,publicKey:null}),[s,i]=x.useState({}),[o,a]=x.useState(!1);x.useEffect(()=>{if(!t){r({privateKey:null,publicKey:null}),i({}),a(!1);return}(async()=>{let c=localStorage.getItem(`scx_keypair_${t.id}`);if(c){const h=JSON.parse(c),y=await crypto.subtle.importKey("jwk",h.priv,{name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),m=await crypto.subtle.importKey("jwk",h.pub,{name:"ECDH",namedCurve:"P-256"},!0,[]);r({privateKey:y,publicKey:m})}else{const h=await X2(),y=await crypto.subtle.exportKey("jwk",h.publicKey),m=await crypto.subtle.exportKey("jwk",h.privateKey);localStorage.setItem(`scx_keypair_${t.id}`,JSON.stringify({pub:y,priv:m})),r({privateKey:h.privateKey,publicKey:h.publicKey})}a(!0)})()},[t]);const l=async(c,h)=>{if(!n.privateKey)return;const y=await crypto.subtle.importKey("jwk",h,{name:"ECDH",namedCurve:"P-256"},!0,[]),m=await Y2(n.privateKey,y);i(w=>({...w,[c]:m}))},u=async(c,h)=>{const y=s[c];if(!y)throw new Error("Chat session key not initialized");return await J2(y,h)},d=async(c,h)=>{const y=s[c];if(!y)throw new Error("Chat session key not initialized");return await Z2(y,h.ciphertext,h.iv)};return f.jsx(dy.Provider,{value:{ready:o,publicKey:n.publicKey,initChatSession:l,encrypt:u,decrypt:d,sessionKeys:s},children:e})},re="http://localhost:5050",tC={async createChat(e,t,n,r){const s={chat_type:e,participants:t};return e==="group"&&n&&(s.title=n),(await L.post(`${re}/api/chats/create`,s,{headers:{Authorization:`Bearer ${r}`}})).data.data},async listChats(e){return(await L.get(`${re}/api/chats/list`,{headers:{Authorization:`Bearer ${e}`}})).data.data},async getAllChats(e){return await this.listChats(e)},async getChat(e,t){return(await L.get(`${re}/api/chats/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.data},joinChat(e,t,n){e.emit("join_chat",{chat_id:t,user_id:n})},leaveChat(e,t,n){e.emit("leave_chat",{chat_id:t,user_id:n})},sendMessage(e,t,n,r,s="text",i={}){e.emit("message:send",{chat_id:t,message:{sender_id:n,content:r,message_type:s,extra:i}})},async markSeen(e,t,n){return(await L.post(`${re}/api/chats/mark_seen`,{message_id:e,chat_id:t},{headers:{Authorization:`Bearer ${n}`}})).data.data}},Ut={async getMessages(e,t,n=1,r=50){return(await L.get(`${re}/api/messages/${e}?page=${n}&per_page=${r}`,{headers:{Authorization:`Bearer ${t}`}})).data.data},async searchMessages(e,t,n){return(await L.get(`${re}/api/messages/search`,{params:{q:e,room_id:t},headers:{Authorization:`Bearer ${n}`}})).data.data},async editMessage(e,t,n){return(await L.put(`${re}/api/messages/${e}`,{content:t},{headers:{Authorization:`Bearer ${n}`}})).data.data},async deleteMessage(e,t){return(await L.delete(`${re}/api/messages/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.data},async createThreadMessage(e,t,n){return(await L.post(`${re}/api/messages/${e}/thread`,{content:t},{headers:{Authorization:`Bearer ${n}`}})).data.data},async getThreadMessages(e,t){return(await L.get(`${re}/api/messages/${e}/thread`,{headers:{Authorization:`Bearer ${t}`}})).data.data},async addReaction(e,t,n){return(await L.post(`${re}/api/reactions/add`,{message_id:e,emoji:t},{headers:{Authorization:`Bearer ${n}`}})).data.data},async markSeen(e,t,n){return(await L.post(`${re}/api/read/mark_seen`,{message_id:e,chat_id:t},{headers:{Authorization:`Bearer ${n}`}})).data.data},sendMessageSocket(e,t,n,r,s="text",i={}){e.emit("message:send",{chat_id:t,message:{sender_id:n,content:r,message_type:s,extra:i}})},onMessageNew(e,t){e.on("message:new",t)},onMessageEdited(e,t){e.on("message_edited",t)},onMessageDeleted(e,t){e.on("message_deleted",t)},onThreadMessage(e,t){e.on("thread_message",t)},onReactionAdded(e,t){e.on("reaction:added",t)}};function nC(e,{onNewMessage:t,onTypingStart:n,onTypingStop:r,onMessageSeen:s,onReactionAdded:i,onChatCreated:o,onChatUpdated:a,onChatDeleted:l,onGroupMemberAdded:u,onGroupMemberRemoved:d}){e&&(e.on("message:new",c=>{console.log(" message:new",c),t&&t(c.message)}),e.on("typing:started",c=>{console.log(" typing:started",c),n&&n(c)}),e.on("typing:stopped",c=>{console.log(" typing:stopped",c),r&&r(c)}),e.on("message:seen",c=>{console.log(" message:seen",c),s&&s(c)}),e.on("reaction:added",c=>{console.log(" reaction:added",c),i&&i(c)}),e.on("chat:created",c=>{console.log(" chat:created",c),o&&o(c.chat)}),e.on("chat:updated",c=>{console.log(" chat:updated",c),a&&a(c.chat)}),e.on("chat:deleted",c=>{console.log(" chat:deleted",c),l&&l(c.chat_id)}),e.on("group:member_added",c=>{console.log(" group:member_added",c),u&&u(c)}),e.on("group:member_removed",c=>{console.log(" group:member_removed",c),d&&d(c)}))}const rC={sendMessage(e,t){e.emit("message:send",t)},startTyping(e,t,n){e.emit("typing:start",{chat_id:t,user_id:n})},stopTyping(e,t,n){e.emit("typing:stop",{chat_id:t,user_id:n})},markSeen(e,t,n,r){e.emit("message:mark_seen",{chat_id:t,message_id:n,user_id:r})},addReaction(e,t,n,r){e.emit("reaction:add",{message_id:t,emoji:n,user_id:r})},joinChat(e,t,n){e.emit("join_chat",{chat_id:t,user_id:n})}};function sC(e,{onTypingStart:t,onTypingStop:n}){e&&(e.on("typing:started",r=>{console.log(" typing:started",r),t&&t(r)}),e.on("typing:stopped",r=>{console.log(" typing:stopped",r),n&&n(r)}))}const iC={startTyping(e,t,n){e.emit("typing:start",{chat_id:t,user_id:n})},stopTyping(e,t,n){e.emit("typing:stop",{chat_id:t,user_id:n})}},fy=x.createContext(),ua=()=>x.useContext(fy),oC=({children:e})=>{const[t,n]=x.useState([]),[r,s]=x.useState(null),[i,o]=x.useState([]),[a,l]=x.useState(!1),[u,d]=x.useState([]),{socket:c,safeEmit:h}=$r(),{user:y}=vt(),m=(y==null?void 0:y.access_token)||localStorage.getItem("access_token")||null,w=x.useCallback(async()=>{try{if(!m)return console.warn("No token available to load chats");const N=await tC.getAllChats(m);n(N.chats||[])}catch(N){console.warn("Failed to load chats:",N)}},[m]),S=x.useCallback(async N=>{l(!0);try{if(!m)return;const P=await Ut.getMessages(N,m);o(P.messages||[])}finally{l(!1)}},[m]),v=x.useCallback(N=>{s(N),S(N),c&&h("join_chat",{chat_id:N,user_id:y==null?void 0:y.id})},[c,y,S,h]),p=async(N,P)=>{try{if(!m)return console.error("Missing token for sendMessage");const R=await Ut.sendMessage(N,P,m);R!=null&&R.message&&o(D=>[...D,R.message])}catch(R){console.error("Send message failed:",R)}},g=N=>{N.chat_id===r&&o(P=>[...P,N]),w()},C=({message_id:N,emoji:P,user_id:R})=>{o(D=>D.map(W=>W._id===N?{...W,reactions:[...W.reactions||[],{emoji:P,user_id:R}]}:W))},k=({message_id:N,user_id:P})=>{o(R=>R.map(D=>D._id===N?{...D,seen_by:[...new Set([...D.seen_by||[],P])]}:D))},E=({chat_id:N,user_id:P})=>{N===r&&d(R=>R.includes(P)?R:[...R,P])},_=({chat_id:N,user_id:P})=>{N===r&&d(R=>R.filter(D=>D!==P))};x.useEffect(()=>{c&&(nC(c,{onNewMessage:g,onTypingStart:E,onTypingStop:_,onMessageSeen:k,onReactionAdded:C}),sC(c,{onTypingStart:E,onTypingStop:_}))},[c,r]);const{access_token:T}=vt();return x.useEffect(()=>{m&&w()},[m,w]),f.jsx(fy.Provider,{value:{chats:t,activeChatId:r,messages:i,typingUsers:u,loadingMessages:a,openChat:v,sendMessage:p,reloadChats:w,TypingEmit:iC,ChatEmit:rC},children:e})},Za={async createGroup(e,t,n,r=null){return(await L.post(`${re}/api/groups/create`,{title:e,members:t,description:r},{headers:{Authorization:`Bearer ${n}`}})).data.data},async addMember(e,t,n){return(await L.post(`${re}/api/groups/${e}/add`,{member_id:t},{headers:{Authorization:`Bearer ${n}`}})).data.data},async getAllGroups(e){return(await L.get(`${re}/api/groups/list`,{headers:{Authorization:`Bearer ${e}`}})).data.data},joinGroupRoom(e,t,n){e.emit("join_chat",{chat_id:t,user_id:n})},leaveGroupRoom(e,t,n){e.emit("leave_chat",{chat_id:t,user_id:n})},createGroupViaSocket(e,t,n,r,s=""){e.emit("group:create",{title:t,members:n,created_by:r,description:s})},addMemberViaSocket(e,t,n,r){e.emit("group:add_member",{group_id:t,member_id:n,added_by:r})},onGroupCreated(e,t){e.on("group:created",t)},onGroupInvited(e,t){e.on("group:invited",t)},onGroupMemberAdded(e,t){e.on("group:member_added",t)}},hy=x.createContext(),py=()=>x.useContext(hy),aC=({children:e})=>{const[t,n]=x.useState([]),[r,s]=x.useState(null),{socket:i}=$r(),{token:o}=vt(),a=x.useCallback(async()=>{const d=localStorage.getItem("access_token");if(!d){console.warn(" No token found  skipping group load");return}try{const c=await Za.getAllGroups(d);n(c.groups||[])}catch(c){console.error("Failed loading groups:",c)}},[]),l=async({title:d,members:c,description:h})=>{const y=localStorage.getItem("access_token");if(y)try{const m=await Za.createGroup(d,c,y,h);return m.group&&n(w=>[...w,m.group]),m.group}catch(m){throw console.error("Create group error:",m),m}},u=async(d,c)=>{const h=localStorage.getItem("access_token");if(h)try{await Za.addMember(d,c,h),n(y=>y.map(m=>m._id===d?{...m,members:[...m.members,c]}:m))}catch(y){console.error("Add member error:",y)}};return x.useEffect(()=>{if(i)return i.on("group:created",({group:d})=>{n(c=>[...c,d])}),i.on("group:member_added",({group_id:d,member_id:c})=>{n(h=>h.map(y=>y._id===d?{...y,members:[...y.members,c]}:y))}),()=>{i.off("group:created"),i.off("group:member_added")}},[i]),x.useEffect(()=>{o&&a()},[o,a]),f.jsx(hy.Provider,{value:{groups:t,activeGroupId:r,setActiveGroupId:s,reloadGroups:a,createGroup:l,addMember:u},children:e})},ji=re,_e={async startCall(e,t,n,r){return(await L.post(`${ji}/api/calls/start`,{chat_id:e,receiver_id:t,call_type:n},{headers:{Authorization:`Bearer ${r}`}})).data},async getCallHistory(e,t){return(await L.get(`${ji}/api/calls/history/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async initiateWebRTCCall(e,t,n){return(await L.post(`${ji}/api/calls/initiate`,{callee_id:e,type:t},{headers:{Authorization:`Bearer ${n}`}})).data},async getWebRTCCallStatus(e,t){return(await L.get(`${ji}/api/calls/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data},async acceptCallViaSocket(e,t){e.emit("call_accepted",{call_id:t})},async rejectCallViaSocket(e,t,n="User rejected call"){e.emit("call_rejected",{call_id:t,reason:n})},async endCallViaSocket(e,t,n="call_ended"){e.emit("end_call",{call_id:t,reason:n})},async sendWebRTCOffer(e,t,n){e.emit("webrtc_offer",{call_id:t,offer:n})},async sendWebRTCAnswer(e,t,n){e.emit("webrtc_answer",{call_id:t,answer:n})},async sendICECandidate(e,t,n){e.emit("webrtc_ice_candidate",{call_id:t,candidate:n})}},my=x.createContext(),lC=()=>x.useContext(my),uC=({children:e})=>{const{socket:t}=$r(),n=localStorage.getItem("access_token"),[r,s]=x.useState(!1),[i,o]=x.useState("idle"),[a,l]=x.useState(null),[u,d]=x.useState(null),c=x.useRef(null),h=x.useRef(null),y=x.useRef(null),m=x.useRef(null),w=async(g,C,k="video")=>{try{const E=await _e.startCall(g,C,k,n);l(E.call),s(!0),o("connecting"),createPeerConnection(),await setupLocalStream(k),await createOffer()}catch(E){console.error("Call start failed:",E)}},S=async()=>{u&&(s(!0),o("connecting"),l(u),createPeerConnection(),await setupLocalStream(u.call_type),await createAnswer(u.sdp),await _e.acceptCallViaSocket(t,u.call_id),d(null))},v=async()=>{u&&(await _e.rejectCallViaSocket(t,u.call_id),d(null),o("idle"))},p=async()=>{a&&await _e.endCallViaSocket(t,a.call_id),s(!1),o("ended"),y.current&&y.current.close(),m.current&&m.current.getTracks().forEach(g=>g.stop()),setTimeout(()=>{o("idle"),l(null)},300)};return f.jsx(my.Provider,{value:{inCall:r,callState:i,callInfo:a,incomingCall:u,startCall:w,acceptCall:S,rejectCall:v,endCall:p,localVideoRef:c,remoteVideoRef:h},children:e})};function cC(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),{login:l,requires2FA:u,user:d}=vt(),c=Br();x.useEffect(()=>{console.log(" Login.jsx useEffect - user:",d),d&&(console.log(" User is logged in, navigating to /"),c("/"))},[d,c]);const h=async y=>{y.preventDefault(),console.log(" Login form submitted",{username:e,password:"***"}),i(""),a(!0);try{console.log(" Calling login function...");const m=await l(e,n);if(console.log(" Login response:",m),m!=null&&m.requires2FA)return console.log(" 2FA required, redirecting to /2fa"),c("/2fa");if(m!=null&&m.success)return console.log(" Login successful, redirecting to /"),c("/");console.log(" Login failed:",m.error),i(m.error||"Invalid username or password.")}catch(m){console.error(" Login error:",m),i("An unexpected error occurred.")}finally{a(!1)}};return f.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center gradient-bg px-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse-slow"}),f.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"1s"}}),f.jsxs("div",{className:"glass-strong p-6 rounded-2xl w-full max-w-md shadow-2xl shadow-blue-500/10 animate-slide-up relative z-10",children:[f.jsxs("div",{className:"mb-6 text-center",children:[f.jsx("div",{className:"inline-block mb-3",children:f.jsx("div",{className:"w-12 h-12 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-glow-md",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),f.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent mb-1",children:"SecureChannelX"}),f.jsx("p",{className:"text-gray-400 text-xs",children:"Military-Grade Encrypted Messaging"})]}),s&&f.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsx("p",{className:"text-xs text-red-300",children:s})]})}),f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{className:"group",children:[f.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-300",children:"Username"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx("svg",{className:"w-4 h-4 text-gray-500 group-focus-within:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),f.jsx("input",{type:"text",className:`w-full pl-9 pr-3 py-2.5 bg-dark-bg border border-dark-border rounded-lg \r
                         focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 \r
                         outline-none transition-all duration-300 text-sm text-white placeholder-gray-500`,placeholder:"Enter your username",value:e,onChange:y=>t(y.target.value),required:!0,autoComplete:"username"})]})]}),f.jsxs("div",{className:"group",children:[f.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-300",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx("svg",{className:"w-4 h-4 text-gray-500 group-focus-within:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),f.jsx("input",{type:"password",className:`w-full pl-9 pr-3 py-2.5 bg-dark-bg border border-dark-border rounded-lg \r
                         focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 \r
                         outline-none transition-all duration-300 text-sm text-white placeholder-gray-500`,placeholder:"Enter your password",value:n,onChange:y=>r(y.target.value),required:!0,autoComplete:"current-password"})]})]}),f.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 \r
                     rounded-lg font-semibold text-sm text-white shadow-lg shadow-blue-500/30\r
                     transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]\r
                     btn-ripple relative overflow-hidden`,children:f.jsx("span",{className:"relative z-10",children:o?"Logging in...":"Log In"})})]}),f.jsxs("div",{className:"mt-5 flex justify-between items-center text-xs",children:[f.jsx(hn,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors hover-lift",children:"Forgot Password?"}),f.jsx(hn,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors hover-lift font-medium",children:"Create Account "})]}),f.jsx("div",{className:"mt-6 pt-5 border-t border-gray-700/50",children:f.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-gray-400 hover:text-gray-300 transition-colors group",children:[f.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:f.jsx("span",{className:"text-base",children:""})}),f.jsx("span",{children:"End-to-End Encryption"})]}),f.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-gray-400 hover:text-gray-300 transition-colors group",children:[f.jsx("div",{className:"w-7 h-7 rounded-lg bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:f.jsx("span",{className:"text-base",children:""})}),f.jsx("span",{children:"Real-time Messaging"})]}),f.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-gray-400 hover:text-gray-300 transition-colors group",children:[f.jsx("div",{className:"w-7 h-7 rounded-lg bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:f.jsx("span",{className:"text-base",children:""})}),f.jsx("span",{children:"Military-Grade Security"})]})]})})]})]})}function dC(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(""),[d,c]=x.useState(!1),{register:h,user:y}=vt(),m=Br();x.useEffect(()=>{y&&m("/chat")},[y,m]);const w=async S=>{if(S.preventDefault(),u(""),s!==o){u("Passwords do not match.");return}c(!0);const v=await h(e,n,s);c(!1),v!=null&&v.success?m("/login"):u((v==null?void 0:v.error)||"Registration failed.")};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0D1117] text-white px-4",children:f.jsxs("div",{className:"bg-[#111827] p-8 rounded-2xl w-full max-w-md border border-[#1f2937] shadow-xl",children:[f.jsxs("div",{className:"mb-6 text-center",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Create Account"}),f.jsx("p",{className:"text-gray-400",children:"Join SecureChannelX"})]}),l&&f.jsx("div",{className:"mb-4 p-3 text-sm rounded-lg bg-red-600/20 text-red-400 border border-red-600/30",children:l}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1",htmlFor:"username",children:"Username"}),f.jsx("input",{type:"text",id:"username",placeholder:"Choose a username",className:"w-full px-4 py-2 bg-[#0D1117] border border-[#1f2937] rounded-lg focus:ring-1 focus:ring-blue-500 outline-none",value:e,onChange:S=>t(S.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1",htmlFor:"email",children:"Email address"}),f.jsx("input",{type:"email",id:"email",placeholder:"your@email.com",className:"w-full px-4 py-2 bg-[#0D1117] border border-[#1f2937] rounded-lg focus:ring-1 focus:ring-blue-500 outline-none",value:n,onChange:S=>r(S.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1",htmlFor:"password",children:"Password"}),f.jsx("input",{type:"password",id:"password",placeholder:"Enter a strong password",className:"w-full px-4 py-2 bg-[#0D1117] border border-[#1f2937] rounded-lg focus:ring-1 focus:ring-blue-500 outline-none",value:s,onChange:S=>i(S.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1",htmlFor:"confirmPassword",children:"Confirm password"}),f.jsx("input",{type:"password",id:"confirmPassword",placeholder:"Re-enter your password",className:"w-full px-4 py-2 bg-[#0D1117] border border-[#1f2937] rounded-lg focus:ring-1 focus:ring-blue-500 outline-none",value:o,onChange:S=>a(S.target.value),required:!0})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold active:scale-95 transition",children:d?"Creating Account...":"Create Account"})]}),f.jsxs("div",{className:"mt-6 flex justify-between text-sm text-gray-400",children:[f.jsx("span",{children:"Already have an account?"}),f.jsx(hn,{to:"/login",className:"text-blue-400 hover:underline",children:"Login"})]}),f.jsxs("div",{className:"mt-8 space-y-1 text-sm text-gray-400",children:[f.jsx("div",{className:"flex items-center gap-2",children:" Secure password hashing"}),f.jsx("div",{className:"flex items-center gap-2",children:" End-to-end encryption built-in"}),f.jsx("div",{className:"flex items-center gap-2",children:" Zero-knowledge user data design"})]})]})})}function fC(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(!1),{verify2FA:o,requires2FA:a,tempToken:l,user:u}=vt(),d=Br();x.useEffect(()=>{u&&d("/")},[u,d]),x.useEffect(()=>{(!a||!l)&&d("/login")},[a,l,d]);const c=async h=>{if(h.preventDefault(),r(""),e.length!==6){r("Enter a valid 6-digit code.");return}i(!0);const y=await o(e);i(!1),y!=null&&y.success?d("/"):r((y==null?void 0:y.error)||"Invalid verification code.")};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0D1117] text-white px-4",children:f.jsxs("div",{className:"bg-[#111827] p-8 rounded-2xl w-full max-w-md border border-[#1f2937] shadow-xl",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Two-Factor Authentication"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Enter the 6-digit code from your authenticator app"})]}),n&&f.jsx("div",{className:"mb-4 p-3 text-sm rounded-lg bg-red-600/20 text-red-400 border border-red-600/30",children:n}),f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm mb-1",htmlFor:"code",children:"Verification Code"}),f.jsx("input",{type:"text",id:"code",inputMode:"numeric",maxLength:6,className:"w-full px-4 py-2 bg-[#0D1117] border border-[#1f2937] rounded-lg text-center text-xl tracking-widest focus:ring-1 focus:ring-blue-500 outline-none",value:e,onChange:h=>t(h.target.value.replace(/\D/g,"")),placeholder:"",required:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition active:scale-95",children:s?"Verifying...":"Verify Code"})]}),f.jsxs("div",{className:"mt-8 space-y-1 text-sm text-gray-400",children:[f.jsx("div",{className:"flex items-center gap-2",children:" Strong Account Security"}),f.jsx("div",{className:"flex items-center gap-2",children:" Works with any Authenticator App"}),f.jsx("div",{className:"flex items-center gap-2",children:" Zero-Knowledge 2FA Flow"})]})]})})}const ts=`${re}/api/auth`,gy={async register({username:e,email:t,password:n}){return(await L.post(`${ts}/register`,{username:e,email:t,password:n})).data},async login(e,t){return(await L.post(`${ts}/login`,{username:e,password:t})).data},async getProfile(e){return(await L.get(`${ts}/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data},async logout(e){return(await L.post(`${re}/api/security/logout`,{},{headers:{Authorization:`Bearer ${e}`}})).data},async forgotPassword(e){return(await L.post(`${ts}/forgot-password`,{email:e})).data},async resetPassword(e,t){return(await L.post(`${ts}/reset-password`,{token:e,password:t})).data}};function hC(){const[e,t]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(!1),l=async u=>{var d,c;u.preventDefault(),a(!0),r(""),i("");try{const h=await gy.forgotPassword(e);h.success?r(h.message):i(h.message||"Failed to send reset link")}catch(h){i(((c=(d=h.response)==null?void 0:d.data)==null?void 0:c.message)||"An error occurred")}finally{a(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white p-4",children:f.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg shadow-xl p-8 border border-gray-700",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Forgot Password"}),n&&f.jsx("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500 text-green-200 rounded text-center",children:n}),s&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 text-red-200 rounded text-center",children:s}),f.jsxs("form",{onSubmit:l,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]}),f.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg font-semibold shadow-lg transform transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Sending...":"Send Reset Link"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx(hn,{to:"/login",className:"text-gray-400 hover:text-white transition-colors text-sm",children:" Back to Login"})})]})})}function pC(){const{token:e}=ea(),t=Br(),[n,r]=x.useState(""),[s,i]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(""),[d,c]=x.useState(!1),h=async y=>{var m,w;if(y.preventDefault(),n!==s)return u("Passwords do not match");c(!0),a(""),u("");try{const S=await gy.resetPassword(e,n);S.success?(a("Password reset successfully! Redirecting to login..."),setTimeout(()=>t("/login"),3e3)):u(S.message||"Failed to reset password")}catch(S){u(((w=(m=S.response)==null?void 0:m.data)==null?void 0:w.message)||"Invalid or expired token")}finally{c(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white p-4",children:f.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg shadow-xl p-8 border border-gray-700",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Reset Password"}),o&&f.jsx("div",{className:"mb-4 p-3 bg-green-500/20 border border-green-500 text-green-200 rounded text-center",children:o}),l&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 text-red-200 rounded text-center",children:l}),f.jsxs("form",{onSubmit:h,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"New Password"}),f.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter new password",value:n,onChange:y=>r(y.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Confirm Password"}),f.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Confirm new password",value:s,onChange:y=>i(y.target.value)})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-lg font-semibold shadow-lg transform transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Resetting...":"Reset Password"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx(hn,{to:"/login",className:"text-gray-400 hover:text-white transition-colors text-sm",children:" Back to Login"})})]})})}function ca(){const{chats:e,activeChatId:t,messages:n,loadingMessages:r,openChat:s,sendMessage:i,reloadChats:o,typingUsers:a}=ua(),{groups:l}=py(),u=x.useMemo(()=>e?[...e].sort((S,v)=>{var C,k;const p=new Date(((C=S.last_message)==null?void 0:C.timestamp)||0).getTime();return new Date(((k=v.last_message)==null?void 0:k.timestamp)||0).getTime()-p}):[],[e]),d=x.useMemo(()=>e.find(S=>S._id===t)||null,[e,t]),c=x.useMemo(()=>u.map(S=>{const v=S.is_group&&l.find(p=>p._id===S._id);return{...S,group:v||null}}),[u,l]),h=S=>{const v=e.find(p=>p._id===S);return(v==null?void 0:v.unread_count)||0},y=S=>{if(!(S!=null&&S.last_message))return"No messages yet";const v=S.last_message;return v.message_type==="file"?" File":v.message_type==="image"?" Image":v.message_type==="audio"?" Audio":v.message_type==="video"?" Video":v.message_type==="poll"?" Poll":v.encrypted_content&&!v.content?" Encrypted message":v.content||"Unsupported message"},m=S=>a.length>0&&t===S,w=x.useMemo(()=>c.map(S=>({...S,unread:h(S._id),lastMessage:y(S),typing:m(S._id)})),[c,h,m]);return{chats:e,sidebarChats:w,sortedChats:u,activeChat:d,activeChatId:t,messages:n,loadingMessages:r,openChat:s,sendMessage:i,reloadChats:o,typingUsers:a,unreadCount:h}}function mC(e){const{ready:t,encrypt:n,decrypt:r,initChatSession:s,sessionKeys:i,publicKey:o}=Q2();return{ready:t,encryptMessage:a=>n(e,a),decryptMessage:a=>r(e,a),initChatSession:s,hasSessionKey:!!i[e],publicKey:o}}function gC(e){const{user:t}=vt(),{messages:n,sendMessage:r,openChat:s}=ua(),{socket:i,safeEmit:o}=$r(),{encryptMessage:a,hasSessionKey:l}=mC(e),[u,d]=x.useState(!1),c=x.useMemo(()=>n.map(p=>{if(p.encrypted_content&&p.iv)try{return{...p,decrypted:!0,content:" Decrypted Message",_plaintext:null}}catch{return{...p,decrypted:!1}}return p}),[n]),h=x.useCallback(async p=>{if(p.trim())try{if(d(!0),!l){console.warn("Session key missing  run chat handshake");return}const g=await a(p);o("message:send",{chat_id:e,message:{message_type:"text",encrypted_content:g.ciphertext,iv:g.iv,sender_id:t.id||t.user_id}})}finally{d(!1)}},[e,a,o,l,t]),y=x.useCallback(async p=>{if(!p)return;const g=new FormData;g.append("file",p);const C=await Ut.sendFile(e,g);C!=null&&C.message&&r(e,C.message)},[e,r]),m=async(p,g)=>{const C=await Ut.sendPoll(e,{question:p,options:g});C!=null&&C.message&&r(e,C.message)},w=(p,g)=>{o("reaction:add",{chat_id:e,message_id:p,emoji:g,user_id:t.id||t.user_id})},S=x.useCallback(()=>{o("message:seen",{chat_id:e,user_id:t.id||t.user_id})},[e,o,t]);return{decryptedMessages:c,messages:n,sendText:h,sendFile:y,sendPoll:m,sendReaction:w,markAsSeen:S,sending:u,isSender:p=>p.sender_id===t.id||p.user_id===t.user_id}}const yy=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),da=x.createContext({}),fa=x.createContext(null),ha=typeof document<"u",Hc=ha?x.useLayoutEffect:x.useEffect,vy=x.createContext({strict:!1}),Wc=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),yC="framerAppearId",xy="data-"+Wc(yC);function vC(e,t,n,r){const{visualElement:s}=x.useContext(da),i=x.useContext(vy),o=x.useContext(fa),a=x.useContext(yy).reducedMotion,l=x.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;x.useInsertionEffect(()=>{u&&u.update(n,o)});const d=x.useRef(!!(n[xy]&&!window.HandoffComplete));return Hc(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function pr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xC(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pr(n)&&(n.current=r))},[t])}function $s(e){return typeof e=="string"||Array.isArray(e)}function pa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Kc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qc=["initial",...Kc];function ma(e){return pa(e.animate)||qc.some(t=>$s(e[t]))}function wy(e){return!!(ma(e)||e.variants)}function wC(e,t){if(ma(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$s(n)?n:void 0,animate:$s(r)?r:void 0}}return e.inherit!==!1?t:{}}function SC(e){const{initial:t,animate:n}=wC(e,x.useContext(da));return x.useMemo(()=>({initial:t,animate:n}),[eh(t),eh(n)])}function eh(e){return Array.isArray(e)?e.join(" "):e}const th={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hs={};for(const e in th)Hs[e]={isEnabled:t=>th[e].some(n=>!!t[n])};function CC(e){for(const t in e)Hs[t]={...Hs[t],...e[t]}}const Gc=x.createContext({}),Sy=x.createContext({}),kC=Symbol.for("motionComponentSymbol");function EC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&CC(e);function i(a,l){let u;const d={...x.useContext(yy),...a,layoutId:bC(a)},{isStatic:c}=d,h=SC(a),y=r(a,c);if(!c&&ha){h.visualElement=vC(s,y,d,t);const m=x.useContext(Sy),w=x.useContext(vy).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,w,e,m))}return x.createElement(da.Provider,{value:h},u&&h.visualElement?x.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,a,xC(y,h.visualElement,l),y,c,h.visualElement))}const o=x.forwardRef(i);return o[kC]=s,o}function bC({layoutId:e}){const t=x.useContext(Gc).id;return t&&e!==void 0?t+"-"+e:e}function _C(e){function t(r,s={}){return EC(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const TC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qc(e){return typeof e!="string"||e.includes("-")?!1:!!(TC.indexOf(e)>-1||/[A-Z]/.test(e))}const Po={};function PC(e){Object.assign(Po,e)}const ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xn=new Set(ri);function Cy(e,{layout:t,layoutId:n}){return Xn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Po[e]||e==="opacity")}const $e=e=>!!(e&&e.getVelocity),jC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NC=ri.length;function RC(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<NC;o++){const a=ri[o];if(e[a]!==void 0){const l=jC[a]||a;i+=`${l}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const ky=e=>t=>typeof t=="string"&&t.startsWith(e),Ey=ky("--"),wu=ky("var(--"),AC=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,LC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,vn=(e,t,n)=>Math.min(Math.max(n,e),t),Yn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ws={...Yn,transform:e=>vn(0,1,e)},Ni={...Yn,default:1},Ss=e=>Math.round(e*1e5)/1e5,ga=/(-)?([\d]*\.?[\d])+/g,by=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OC=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function si(e){return typeof e=="string"}const ii=e=>({test:t=>si(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Gt=ii("deg"),Tt=ii("%"),F=ii("px"),DC=ii("vh"),MC=ii("vw"),nh={...Tt,parse:e=>Tt.parse(e)/100,transform:e=>Tt.transform(e*100)},rh={...Yn,transform:Math.round},_y={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,size:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,rotate:Gt,rotateX:Gt,rotateY:Gt,rotateZ:Gt,scale:Ni,scaleX:Ni,scaleY:Ni,scaleZ:Ni,skew:Gt,skewX:Gt,skewY:Gt,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:ws,originX:nh,originY:nh,originZ:F,zIndex:rh,fillOpacity:ws,strokeOpacity:ws,numOctaves:rh};function Xc(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let l=!1,u=!1,d=!0;for(const c in t){const h=t[c];if(Ey(c)){i[c]=h;continue}const y=_y[c],m=LC(h,y);if(Xn.has(c)){if(l=!0,o[c]=m,!d)continue;h!==(y.default||0)&&(d=!1)}else c.startsWith("origin")?(u=!0,a[c]=m):s[c]=m}if(t.transform||(l||r?s.transform=RC(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:c="50%",originY:h="50%",originZ:y=0}=a;s.transformOrigin=`${c} ${h} ${y}`}}const Yc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ty(e,t,n){for(const r in t)!$e(t[r])&&!Cy(r,n)&&(e[r]=t[r])}function VC({transformTemplate:e},t,n){return x.useMemo(()=>{const r=Yc();return Xc(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function FC(e,t,n){const r=e.style||{},s={};return Ty(s,r,e),Object.assign(s,VC(e,t,n)),e.transformValues?e.transformValues(s):s}function BC(e,t,n){const r={},s=FC(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const IC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||IC.has(e)}let Py=e=>!jo(e);function zC(e){e&&(Py=t=>t.startsWith("on")?!jo(t):e(t))}try{zC(require("@emotion/is-prop-valid").default)}catch{}function UC(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Py(s)||n===!0&&jo(s)||!t&&!jo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function sh(e,t,n){return typeof e=="string"?e:F.transform(t+n*e)}function $C(e,t,n){const r=sh(t,e.x,e.width),s=sh(n,e.y,e.height);return`${r} ${s}`}const HC={offset:"stroke-dashoffset",array:"stroke-dasharray"},WC={offset:"strokeDashoffset",array:"strokeDasharray"};function KC(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?HC:WC;e[i.offset]=F.transform(-r);const o=F.transform(t),a=F.transform(n);e[i.array]=`${o} ${a}`}function Jc(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,c,h){if(Xc(e,u,d,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:m,dimensions:w}=e;y.transform&&(w&&(m.transform=y.transform),delete y.transform),w&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=$C(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&KC(y,o,a,l,!1)}const jy=()=>({...Yc(),attrs:{}}),Zc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function qC(e,t,n,r){const s=x.useMemo(()=>{const i=jy();return Jc(i,t,{enableHardwareAcceleration:!1},Zc(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ty(i,e.style,e),s.style={...i,...s.style}}return s}function GC(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Qc(n)?qC:BC)(r,i,o,n),d={...UC(r,typeof n=="string",e),...l,ref:s},{children:c}=r,h=x.useMemo(()=>$e(c)?c.get():c,[c]);return x.createElement(n,{...d,children:h})}}function Ny(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Ry=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ay(e,t,n,r){Ny(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Ry.has(s)?s:Wc(s),t.attrs[s])}function ed(e,t){const{style:n}=e,r={};for(const s in n)($e(n[s])||t.style&&$e(t.style[s])||Cy(s,e))&&(r[s]=n[s]);return r}function Ly(e,t){const n=ed(e,t);for(const r in e)if($e(e[r])||$e(t[r])){const s=ri.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function td(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function Oy(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const No=e=>Array.isArray(e),QC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),XC=e=>No(e)?e[e.length-1]||0:e;function Zi(e){const t=$e(e)?e.get():e;return QC(t)?t.toValue():t}function YC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:JC(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Dy=e=>(t,n)=>{const r=x.useContext(da),s=x.useContext(fa),i=()=>YC(e,t,r,s);return n?i():Oy(i)};function JC(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Zi(i[h]);let{initial:o,animate:a}=e;const l=ma(e),u=wy(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const c=d?a:o;return c&&typeof c!="boolean"&&!pa(c)&&(Array.isArray(c)?c:[c]).forEach(y=>{const m=td(e,y);if(!m)return;const{transitionEnd:w,transition:S,...v}=m;for(const p in v){let g=v[p];if(Array.isArray(g)){const C=d?g.length-1:0;g=g[C]}g!==null&&(s[p]=g)}for(const p in w)s[p]=w[p]}),s}const ue=e=>e;class ih{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ZC(e){let t=new ih,n=new ih,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const c=d&&s,h=c?t:n;return u&&o.add(l),h.add(l)&&c&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(l))}};return a}const Ri=["prepare","read","update","preRender","render","postRender"],ek=40;function tk(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ri.reduce((c,h)=>(c[h]=ZC(()=>n=!0),c),{}),o=c=>i[c].process(s),a=()=>{const c=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(c-s.timestamp,ek),1),s.timestamp=c,s.isProcessing=!0,Ri.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Ri.reduce((c,h)=>{const y=i[h];return c[h]=(m,w=!1,S=!1)=>(n||l(),y.schedule(m,w,S)),c},{}),cancel:c=>Ri.forEach(h=>i[h].cancel(c)),state:s,steps:i}}const{schedule:X,cancel:$t,state:Ee,steps:el}=tk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ue,!0),nk={useVisualState:Dy({scrapeMotionValuesFromProps:Ly,createRenderState:jy,onMount:(e,t,{renderState:n,latestValues:r})=>{X.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),X.render(()=>{Jc(n,r,{enableHardwareAcceleration:!1},Zc(t.tagName),e.transformTemplate),Ay(t,n)})}})},rk={useVisualState:Dy({scrapeMotionValuesFromProps:ed,createRenderState:Yc})};function sk(e,{forwardMotionProps:t=!1},n,r){return{...Qc(e)?nk:rk,preloadedFeatures:n,useRender:GC(t),createVisualElement:r,Component:e}}function Ot(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const My=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ya(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ik=e=>t=>My(t)&&e(t,ya(t));function Mt(e,t,n,r){return Ot(e,t,ik(n),r)}const ok=(e,t)=>n=>t(e(n)),mn=(...e)=>e.reduce(ok);function Vy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const oh=Vy("dragHorizontal"),ah=Vy("dragVertical");function Fy(e){let t=!1;if(e==="y")t=ah();else if(e==="x")t=oh();else{const n=oh(),r=ah();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function By(){const e=Fy(!0);return e?(e(),!1):!0}class En{constructor(t){this.isMounted=!1,this.node=t}update(){}}function lh(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||By())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&X.update(()=>a[r](i,o))};return Mt(e.current,n,s,{passive:!e.getProps()[r]})}class ak extends En{mount(){this.unmount=mn(lh(this.node,!0),lh(this.node,!1))}unmount(){}}class lk extends En{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mn(Ot(this.node.current,"focus",()=>this.onFocus()),Ot(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Iy=(e,t)=>t?e===t?!0:Iy(e,t.parentElement):!1;function tl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ya(n))}class uk extends En{constructor(){super(...arguments),this.removeStartListeners=ue,this.removeEndListeners=ue,this.removeAccessibleListeners=ue,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Mt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:c}=this.node.getProps();X.update(()=>{!c&&!Iy(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Mt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||tl("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&X.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ot(this.node.current,"keyup",o),tl("down",(a,l)=>{this.startPress(a,l)})},n=Ot(this.node.current,"keydown",t),r=()=>{this.isPressing&&tl("cancel",(i,o)=>this.cancelPress(i,o))},s=Ot(this.node.current,"blur",r);this.removeAccessibleListeners=mn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&X.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!By()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&X.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Mt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Ot(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Su=new WeakMap,nl=new WeakMap,ck=e=>{const t=Su.get(e.target);t&&t(e)},dk=e=>{e.forEach(ck)};function fk({root:e,...t}){const n=e||document;nl.has(n)||nl.set(n,{});const r=nl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(dk,{root:e,...t})),r[s]}function hk(e,t,n){const r=fk(t);return Su.set(e,n),r.observe(e),()=>{Su.delete(e),r.unobserve(e)}}const pk={some:0,all:1};class mk extends En{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pk[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:c}=this.node.getProps(),h=u?d:c;h&&h(l)};return hk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gk(t,n))&&this.startObserver()}unmount(){}}function gk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yk={inView:{Feature:mk},tap:{Feature:uk},focus:{Feature:lk},hover:{Feature:ak}};function zy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function xk(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function va(e,t,n){const r=e.getProps();return td(r,t,n!==void 0?n:r.custom,vk(e),xk(e))}let nd=ue;const zn=e=>e*1e3,Vt=e=>e/1e3,wk={current:!1},Uy=e=>Array.isArray(e)&&typeof e[0]=="number";function $y(e){return!!(!e||typeof e=="string"&&Hy[e]||Uy(e)||Array.isArray(e)&&e.every($y))}const cs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Hy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cs([0,.65,.55,1]),circOut:cs([.55,0,1,.45]),backIn:cs([.31,.01,.66,-.59]),backOut:cs([.33,1.53,.69,.99])};function Wy(e){if(e)return Uy(e)?cs(e):Array.isArray(e)?e.map(Wy):Hy[e]}function Sk(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Wy(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Ck(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Ky=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kk=1e-7,Ek=12;function bk(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Ky(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>kk&&++a<Ek);return o}function oi(e,t,n,r){if(e===t&&n===r)return ue;const s=i=>bk(i,0,1,e,n);return i=>i===0||i===1?i:Ky(s(i),t,r)}const _k=oi(.42,0,1,1),Tk=oi(0,0,.58,1),qy=oi(.42,0,.58,1),Pk=e=>Array.isArray(e)&&typeof e[0]!="number",Gy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qy=e=>t=>1-e(1-t),rd=e=>1-Math.sin(Math.acos(e)),Xy=Qy(rd),jk=Gy(rd),Yy=oi(.33,1.53,.69,.99),sd=Qy(Yy),Nk=Gy(sd),Rk=e=>(e*=2)<1?.5*sd(e):.5*(2-Math.pow(2,-10*(e-1))),Ak={linear:ue,easeIn:_k,easeInOut:qy,easeOut:Tk,circIn:rd,circInOut:jk,circOut:Xy,backIn:sd,backInOut:Nk,backOut:Yy,anticipate:Rk},uh=e=>{if(Array.isArray(e)){nd(e.length===4);const[t,n,r,s]=e;return oi(t,n,r,s)}else if(typeof e=="string")return Ak[e];return e},id=(e,t)=>n=>!!(si(n)&&OC.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Jy=(e,t,n)=>r=>{if(!si(r))return r;const[s,i,o,a]=r.match(ga);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Lk=e=>vn(0,255,e),rl={...Yn,transform:e=>Math.round(Lk(e))},Vn={test:id("rgb","red"),parse:Jy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+rl.transform(e)+", "+rl.transform(t)+", "+rl.transform(n)+", "+Ss(ws.transform(r))+")"};function Ok(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cu={test:id("#"),parse:Ok,transform:Vn.transform},mr={test:id("hsl","hue"),parse:Jy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Tt.transform(Ss(t))+", "+Tt.transform(Ss(n))+", "+Ss(ws.transform(r))+")"},Re={test:e=>Vn.test(e)||Cu.test(e)||mr.test(e),parse:e=>Vn.test(e)?Vn.parse(e):mr.test(e)?mr.parse(e):Cu.parse(e),transform:e=>si(e)?e:e.hasOwnProperty("red")?Vn.transform(e):mr.transform(e)},se=(e,t,n)=>-n*e+n*t+e;function sl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Dk({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=sl(l,a,e+1/3),i=sl(l,a,e),o=sl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const il=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Mk=[Cu,Vn,mr],Vk=e=>Mk.find(t=>t.test(e));function ch(e){const t=Vk(e);let n=t.parse(e);return t===mr&&(n=Dk(n)),n}const Zy=(e,t)=>{const n=ch(e),r=ch(t),s={...n};return i=>(s.red=il(n.red,r.red,i),s.green=il(n.green,r.green,i),s.blue=il(n.blue,r.blue,i),s.alpha=se(n.alpha,r.alpha,i),Vn.transform(s))};function Fk(e){var t,n;return isNaN(e)&&si(e)&&(((t=e.match(ga))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(by))===null||n===void 0?void 0:n.length)||0)>0}const e0={regex:AC,countKey:"Vars",token:"${v}",parse:ue},t0={regex:by,countKey:"Colors",token:"${c}",parse:Re.parse},n0={regex:ga,countKey:"Numbers",token:"${n}",parse:Yn.parse};function ol(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Ro(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ol(n,e0),ol(n,t0),ol(n,n0),n}function r0(e){return Ro(e).values}function s0(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Ro(e),i=t.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(e0.token,o[l]):l<r+n?a=a.replace(t0.token,Re.transform(o[l])):a=a.replace(n0.token,Ss(o[l]));return a}}const Bk=e=>typeof e=="number"?0:e;function Ik(e){const t=r0(e);return s0(e)(t.map(Bk))}const xn={test:Fk,parse:r0,createTransformer:s0,getAnimatableNone:Ik},i0=(e,t)=>n=>`${n>0?t:e}`;function o0(e,t){return typeof e=="number"?n=>se(e,t,n):Re.test(e)?Zy(e,t):e.startsWith("var(")?i0(e,t):l0(e,t)}const a0=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>o0(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},zk=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=o0(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},l0=(e,t)=>{const n=xn.createTransformer(t),r=Ro(e),s=Ro(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?mn(a0(r.values,s.values),n):i0(e,t)},Ws=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dh=(e,t)=>n=>se(e,t,n);function Uk(e){return typeof e=="number"?dh:typeof e=="string"?Re.test(e)?Zy:l0:Array.isArray(e)?a0:typeof e=="object"?zk:dh}function $k(e,t,n){const r=[],s=n||Uk(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ue:t;a=mn(l,a)}r.push(a)}return r}function u0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(nd(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=$k(t,r,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const c=Ws(e[d],e[d+1],u);return o[d](c)};return n?u=>l(vn(e[0],e[i-1],u)):l}function Hk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ws(0,t,r);e.push(se(n,1,s))}}function Wk(e){const t=[0];return Hk(t,e.length-1),t}function Kk(e,t){return e.map(n=>n*t)}function qk(e,t){return e.map(()=>t||qy).splice(0,e.length-1)}function Ao({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Pk(r)?r.map(uh):uh(r),i={done:!1,value:t[0]},o=Kk(n&&n.length===t.length?n:Wk(t),e),a=u0(o,t,{ease:Array.isArray(s)?s:qk(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}function c0(e,t){return t?e*(1e3/t):0}const Gk=5;function d0(e,t,n){const r=Math.max(t-Gk,0);return c0(n-e(r),t-r)}const al=.001,Qk=.01,Xk=10,Yk=.05,Jk=1;function Zk({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=vn(Yk,Jk,o),e=vn(Qk,Xk,Vt(e)),o<1?(s=u=>{const d=u*o,c=d*e,h=d-n,y=ku(u,o),m=Math.exp(-c);return al-h/y*m},i=u=>{const c=u*o*e,h=c*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-c),w=ku(Math.pow(u,2),o);return(-s(u)+al>0?-1:1)*((h-y)*m)/w}):(s=u=>{const d=Math.exp(-u*e),c=(u-n)*e+1;return-al+d*c},i=u=>{const d=Math.exp(-u*e),c=(n-u)*(e*e);return d*c});const a=5/e,l=tE(s,i,a);if(e=zn(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const eE=12;function tE(e,t,n){let r=n;for(let s=1;s<eE;s++)r=r-e(r)/t(r);return r}function ku(e,t){return e*Math.sqrt(1-t*t)}const nE=["duration","bounce"],rE=["stiffness","damping","mass"];function fh(e,t){return t.some(n=>e[n]!==void 0)}function sE(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!fh(e,rE)&&fh(e,nE)){const n=Zk(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function f0({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:c,isResolvedFromDuration:h}=sE({...r,velocity:-Vt(r.velocity||0)}),y=c||0,m=l/(2*Math.sqrt(a*u)),w=i-s,S=Vt(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let p;if(m<1){const g=ku(S,m);p=C=>{const k=Math.exp(-m*S*C);return i-k*((y+m*S*w)/g*Math.sin(g*C)+w*Math.cos(g*C))}}else if(m===1)p=g=>i-Math.exp(-S*g)*(w+(y+S*w)*g);else{const g=S*Math.sqrt(m*m-1);p=C=>{const k=Math.exp(-m*S*C),E=Math.min(g*C,300);return i-k*((y+m*S*w)*Math.sinh(E)+g*w*Math.cosh(E))/g}}return{calculatedDuration:h&&d||null,next:g=>{const C=p(g);if(h)o.done=g>=d;else{let k=y;g!==0&&(m<1?k=d0(p,g,C):k=0);const E=Math.abs(k)<=n,_=Math.abs(i-C)<=t;o.done=E&&_}return o.value=o.done?i:C,o}}}function hh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const c=e[0],h={done:!1,value:c},y=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*t;const S=c+w,v=o===void 0?S:o(S);v!==S&&(w=v-c);const p=T=>-w*Math.exp(-T/r),g=T=>v+p(T),C=T=>{const N=p(T),P=g(T);h.done=Math.abs(N)<=u,h.value=h.done?v:P};let k,E;const _=T=>{y(h.value)&&(k=T,E=f0({keyframes:[h.value,m(h.value)],velocity:d0(g,T,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:T=>{let N=!1;return!E&&k===void 0&&(N=!0,C(T),_(T)),k!==void 0&&T>k?E.next(T-k):(!N&&C(T),h)}}}const iE=e=>{const t=({timestamp:n})=>e(n);return{start:()=>X.update(t,!0),stop:()=>$t(t),now:()=>Ee.isProcessing?Ee.timestamp:performance.now()}},ph=2e4;function mh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ph;)t+=n,r=e.next(t);return t>=ph?1/0:t}const oE={decay:hh,inertia:hh,tween:Ao,keyframes:Ao,spring:f0};function Lo({autoplay:e=!0,delay:t=0,driver:n=iE,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:c,...h}){let y=1,m=!1,w,S;const v=()=>{S=new Promise(M=>{w=M})};v();let p;const g=oE[s]||Ao;let C;g!==Ao&&typeof r[0]!="number"&&(C=u0([0,100],r,{clamp:!1}),r=[0,100]);const k=g({...h,keyframes:r});let E;a==="mirror"&&(E=g({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",T=null,N=null,P=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=mh(k));const{calculatedDuration:R}=k;let D=1/0,W=1/0;R!==null&&(D=R+o,W=D*(i+1)-o);let G=0;const lt=M=>{if(N===null)return;y>0&&(N=Math.min(N,M)),y<0&&(N=Math.min(M-W/y,N)),T!==null?G=T:G=Math.round(M-N)*y;const K=G-t*(y>=0?1:-1),ut=y>=0?K<0:K>W;G=Math.max(K,0),_==="finished"&&T===null&&(G=W);let Ne=G,jt=k;if(i){const xa=Math.min(G,W)/D;let li=Math.floor(xa),_n=xa%1;!_n&&xa>=1&&(_n=1),_n===1&&li--,li=Math.min(li,i+1),!!(li%2)&&(a==="reverse"?(_n=1-_n,o&&(_n-=o/D)):a==="mirror"&&(jt=E)),Ne=vn(0,1,_n)*D}const He=ut?{done:!1,value:r[0]}:jt.next(Ne);C&&(He.value=C(He.value));let{done:bn}=He;!ut&&R!==null&&(bn=y>=0?G>=W:G<=0);const H0=T===null&&(_==="finished"||_==="running"&&bn);return c&&c(He.value),H0&&A(),He},H=()=>{p&&p.stop(),p=void 0},je=()=>{_="idle",H(),w(),v(),N=P=null},A=()=>{_="finished",d&&d(),H(),w()},V=()=>{if(m)return;p||(p=n(lt));const M=p.now();l&&l(),T!==null?N=M-T:(!N||_==="finished")&&(N=M),_==="finished"&&v(),P=N,T=null,_="running",p.start()};e&&V();const B={then(M,K){return S.then(M,K)},get time(){return Vt(G)},set time(M){M=zn(M),G=M,T!==null||!p||y===0?T=M:N=p.now()-M/y},get duration(){const M=k.calculatedDuration===null?mh(k):k.calculatedDuration;return Vt(M)},get speed(){return y},set speed(M){M===y||!p||(y=M,B.time=Vt(G))},get state(){return _},play:V,pause:()=>{_="paused",T=G},stop:()=>{m=!0,_!=="idle"&&(_="idle",u&&u(),je())},cancel:()=>{P!==null&&lt(P),je()},complete:()=>{_="finished"},sample:M=>(N=0,lt(M))};return B}function aE(e){let t;return()=>(t===void 0&&(t=e()),t)}const lE=aE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uE=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ai=10,cE=2e4,dE=(e,t)=>t.type==="spring"||e==="backgroundColor"||!$y(t.ease);function fE(e,t,{onUpdate:n,onComplete:r,...s}){if(!(lE()&&uE.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(g=>{a=g})};d();let{keyframes:c,duration:h=300,ease:y,times:m}=s;if(dE(t,s)){const g=Lo({...s,repeat:0,delay:0});let C={done:!1,value:c[0]};const k=[];let E=0;for(;!C.done&&E<cE;)C=g.sample(E),k.push(C.value),E+=Ai;m=void 0,c=k,h=E-Ai,y="linear"}const w=Sk(e.owner.current,t,c,{...s,duration:h,ease:y,times:m}),S=()=>{u=!1,w.cancel()},v=()=>{u=!0,X.update(S),a(),d()};return w.onfinish=()=>{u||(e.set(Ck(c,s)),r&&r(),v())},{then(g,C){return l.then(g,C)},attachTimeline(g){return w.timeline=g,w.onfinish=null,ue},get time(){return Vt(w.currentTime||0)},set time(g){w.currentTime=zn(g)},get speed(){return w.playbackRate},set speed(g){w.playbackRate=g},get duration(){return Vt(h)},play:()=>{o||(w.play(),$t(S))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:g}=w;if(g){const C=Lo({...s,autoplay:!1});e.setWithVelocity(C.sample(g-Ai).value,C.sample(g).value,Ai)}v()},complete:()=>{u||w.finish()},cancel:v}}function hE({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ue,pause:ue,stop:ue,then:i=>(i(),Promise.resolve()),cancel:ue,complete:ue});return t?Lo({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const pE={type:"spring",stiffness:500,damping:25,restSpeed:10},mE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gE={type:"keyframes",duration:.8},yE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vE=(e,{keyframes:t})=>t.length>2?gE:Xn.has(e)?e.startsWith("scale")?mE(t[1]):pE:yE,Eu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xn.test(t)||t==="0")&&!t.startsWith("url(")),xE=new Set(["brightness","contrast","saturate","opacity"]);function wE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ga)||[];if(!r)return e;const s=n.replace(r,"");let i=xE.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const SE=/([a-z-]*)\(.*?\)/g,bu={...xn,getAnimatableNone:e=>{const t=e.match(SE);return t?t.map(wE).join(" "):e}},CE={..._y,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:bu,WebkitFilter:bu},od=e=>CE[e];function h0(e,t){let n=od(e);return n!==bu&&(n=xn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const p0=e=>/^0[^.\s]+$/.test(e);function kE(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||p0(e)}function EE(e,t,n,r){const s=Eu(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),kE(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];i[d]=h0(t,a)}return i}function bE({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function ad(e,t){return e[t]||e.default||e}const _E={skipAnimations:!1},ld=(e,t,n,r={})=>s=>{const i=ad(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-zn(o);const l=EE(t,e,n,i),u=l[0],d=l[l.length-1],c=Eu(e,u),h=Eu(e,d);let y={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:m=>{t.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(bE(i)||(y={...y,...vE(e,y)}),y.duration&&(y.duration=zn(y.duration)),y.repeatDelay&&(y.repeatDelay=zn(y.repeatDelay)),!c||!h||wk.current||i.type===!1||_E.skipAnimations)return hE(y);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=fE(t,e,y);if(m)return m}return Lo(y)};function Oo(e){return!!($e(e)&&e.add)}const m0=e=>/^\-?\d*\.?\d+$/.test(e);function ud(e,t){e.indexOf(t)===-1&&e.push(t)}function cd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dd{constructor(){this.subscriptions=[]}add(t){return ud(this.subscriptions,t),()=>cd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TE=e=>!isNaN(parseFloat(e));class PE{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ee;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,X.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>X.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=TE(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dd);const r=this.events[t].add(n);return t==="change"?()=>{r(),X.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?c0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ar(e,t){return new PE(e,t)}const g0=e=>t=>t.test(e),jE={test:e=>e==="auto",parse:e=>e},y0=[Yn,F,Tt,Gt,MC,DC,jE],ns=e=>y0.find(g0(e)),NE=[...y0,Re,xn],RE=e=>NE.find(g0(e));function AE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ar(n))}function LE(e,t){const n=va(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=XC(i[o]);AE(e,o,a)}}function OE(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&s!==void 0?s:t[l]),d!=null&&(typeof d=="string"&&(m0(d)||p0(d))?d=parseFloat(d):!RE(d)&&xn.test(u)&&(d=h0(l,u)),e.addValue(l,Ar(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function DE(e,t){return t?(t[e]||t.default||t).from:void 0}function ME(e,t,n){const r={};for(const s in e){const i=DE(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function VE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function FE(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function v0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const h=e.getValue(c),y=a[c];if(!h||y===void 0||d&&VE(d,c))continue;const m={delay:n,elapsed:0,...ad(i||{},c)};if(window.HandoffAppearAnimations){const v=e.getProps()[xy];if(v){const p=window.HandoffAppearAnimations(v,c,h,X);p!==null&&(m.elapsed=p,m.isHandoff=!0)}}let w=!m.isHandoff&&!FE(h,y);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(w=!1),h.animation&&(w=!1),w)continue;h.start(ld(c,h,y,e.shouldReduceMotion&&Xn.has(c)?{type:!1}:m));const S=h.animation;Oo(l)&&(l.add(c),S.then(()=>l.remove(c))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&LE(e,o)}),u}function _u(e,t,n={}){const r=va(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(v0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:c}=s;return BE(e,t,u+l,d,c,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function BE(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(IE).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(_u(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function IE(e,t){return e.sortNodePosition(t)}function zE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>_u(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=_u(e,t,n);else{const s=typeof t=="function"?va(e,t,n.custom):t;r=Promise.all(v0(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const UE=[...Kc].reverse(),$E=Kc.length;function HE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zE(e,n,r)))}function WE(e){let t=HE(e);const n=qE();let r=!0;const s=(l,u)=>{const d=va(e,u);if(d){const{transition:c,transitionEnd:h,...y}=d;l={...l,...y,...h}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),c=e.getVariantContext(!0)||{},h=[],y=new Set;let m={},w=1/0;for(let v=0;v<$E;v++){const p=UE[v],g=n[p],C=d[p]!==void 0?d[p]:c[p],k=$s(C),E=p===u?g.isActive:null;E===!1&&(w=v);let _=C===c[p]&&C!==d[p]&&k;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),g.protectedKeys={...m},!g.isActive&&E===null||!C&&!g.prevProp||pa(C)||typeof C=="boolean")continue;let N=KE(g.prevProp,C)||p===u&&g.isActive&&!_&&k||v>w&&k,P=!1;const R=Array.isArray(C)?C:[C];let D=R.reduce(s,{});E===!1&&(D={});const{prevResolvedValues:W={}}=g,G={...W,...D},lt=H=>{N=!0,y.has(H)&&(P=!0,y.delete(H)),g.needsAnimating[H]=!0};for(const H in G){const je=D[H],A=W[H];if(m.hasOwnProperty(H))continue;let V=!1;No(je)&&No(A)?V=!zy(je,A):V=je!==A,V?je!==void 0?lt(H):y.add(H):je!==void 0&&y.has(H)?lt(H):g.protectedKeys[H]=!0}g.prevProp=C,g.prevResolvedValues=D,g.isActive&&(m={...m,...D}),r&&e.blockInitialAnimation&&(N=!1),N&&(!_||P)&&h.push(...R.map(H=>({animation:H,options:{type:p,...l}})))}if(y.size){const v={};y.forEach(p=>{const g=e.getBaseTarget(p);g!==void 0&&(v[p]=g)}),h.push({animation:v})}let S=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function a(l,u,d){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(y=>{var m;return(m=y.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(d,l);for(const y in n)n[y].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function KE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zy(t,e):!1}function Tn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qE(){return{animate:Tn(!0),whileInView:Tn(),whileHover:Tn(),whileTap:Tn(),whileDrag:Tn(),whileFocus:Tn(),exit:Tn()}}class GE extends En{constructor(t){super(t),t.animationState||(t.animationState=WE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),pa(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let QE=0;class XE extends En{constructor(){super(...arguments),this.id=QE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r!=null?r:this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const YE={animation:{Feature:GE},exit:{Feature:XE}},gh=(e,t)=>Math.abs(e-t);function JE(e,t){const n=gh(e.x,t.x),r=gh(e.y,t.y);return Math.sqrt(n**2+r**2)}class x0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=ul(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=JE(c.offset,{x:0,y:0})>=3;if(!h&&!y)return;const{point:m}=c,{timestamp:w}=Ee;this.history.push({...m,timestamp:w});const{onStart:S,onMove:v}=this.handlers;h||(S&&S(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=ll(h,this.transformPagePoint),X.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ul(c.type==="pointercancel"?this.lastMoveEventInfo:ll(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(c,S),m&&m(c,S)},!My(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ya(t),a=ll(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ee;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ul(a,this.history)),this.removeListeners=mn(Mt(this.contextWindow,"pointermove",this.handlePointerMove),Mt(this.contextWindow,"pointerup",this.handlePointerUp),Mt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$t(this.updatePoint)}}function ll(e,t){return t?{point:t(e.point)}:e}function yh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ul({point:e},t){return{point:e,delta:yh(e,w0(t)),offset:yh(e,ZE(t)),velocity:eb(t,.1)}}function ZE(e){return e[0]}function w0(e){return e[e.length-1]}function eb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=w0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>zn(t)));)n--;if(!r)return{x:0,y:0};const i=Vt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Xe(e){return e.max-e.min}function Tu(e,t=0,n=.01){return Math.abs(e-t)<=n}function vh(e,t,n,r=.5){e.origin=r,e.originPoint=se(t.min,t.max,e.origin),e.scale=Xe(n)/Xe(t),(Tu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=se(n.min,n.max,e.origin)-e.originPoint,(Tu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Cs(e,t,n,r){vh(e.x,t.x,n.x,r?r.originX:void 0),vh(e.y,t.y,n.y,r?r.originY:void 0)}function xh(e,t,n){e.min=n.min+t.min,e.max=e.min+Xe(t)}function tb(e,t,n){xh(e.x,t.x,n.x),xh(e.y,t.y,n.y)}function wh(e,t,n){e.min=t.min-n.min,e.max=e.min+Xe(t)}function ks(e,t,n){wh(e.x,t.x,n.x),wh(e.y,t.y,n.y)}function nb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?se(n,e,r.max):Math.min(e,n)),e}function Sh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rb(e,{top:t,left:n,bottom:r,right:s}){return{x:Sh(e.x,n,s),y:Sh(e.y,t,r)}}function Ch(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function sb(e,t){return{x:Ch(e.x,t.x),y:Ch(e.y,t.y)}}function ib(e,t){let n=.5;const r=Xe(e),s=Xe(t);return s>r?n=Ws(t.min,t.max-r,e.min):r>s&&(n=Ws(e.min,e.max-s,t.min)),vn(0,1,n)}function ob(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pu=.35;function ab(e=Pu){return e===!1?e=0:e===!0&&(e=Pu),{x:kh(e,"left","right"),y:kh(e,"top","bottom")}}function kh(e,t,n){return{min:Eh(e,t),max:Eh(e,n)}}function Eh(e,t){return typeof e=="number"?e:e[t]||0}const bh=()=>({translate:0,scale:1,origin:0,originPoint:0}),gr=()=>({x:bh(),y:bh()}),_h=()=>({min:0,max:0}),de=()=>({x:_h(),y:_h()});function et(e){return[e("x"),e("y")]}function S0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function lb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ub(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cl(e){return e===void 0||e===1}function ju({scale:e,scaleX:t,scaleY:n}){return!cl(e)||!cl(t)||!cl(n)}function Nn(e){return ju(e)||C0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function C0(e){return Th(e.x)||Th(e.y)}function Th(e){return e&&e!=="0%"}function Do(e,t,n){const r=e-n,s=t*r;return n+s}function Ph(e,t,n,r,s){return s!==void 0&&(e=Do(e,s,r)),Do(e,n,r)+t}function Nu(e,t=0,n=1,r,s){e.min=Ph(e.min,t,n,r,s),e.max=Ph(e.max,t,n,r,s)}function k0(e,{x:t,y:n}){Nu(e.x,t.translate,t.scale,t.originPoint),Nu(e.y,n.translate,n.scale,n.originPoint)}function cb(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&yr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,k0(e,o)),r&&Nn(i.latestValues)&&yr(e,i.latestValues))}t.x=jh(t.x),t.y=jh(t.y)}function jh(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Yt(e,t){e.min=e.min+t,e.max=e.max+t}function Nh(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=se(e.min,e.max,i);Nu(e,t[n],t[r],o,t.scale)}const db=["x","scaleX","originX"],fb=["y","scaleY","originY"];function yr(e,t){Nh(e.x,t,db),Nh(e.y,t,fb)}function E0(e,t){return S0(ub(e.getBoundingClientRect(),t))}function hb(e,t,n){const r=E0(e,n),{scroll:s}=t;return s&&(Yt(r.x,s.offset.x),Yt(r.y,s.offset.y)),r}const b0=({current:e})=>e?e.ownerDocument.defaultView:null,pb=new WeakMap;class mb{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ya(d,"page").point)},i=(d,c)=>{const{drag:h,dragPropagation:y,onDragStart:m}=this.getProps();if(h&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fy(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),et(S=>{let v=this.getAxisMotionValue(S).get()||0;if(Tt.test(v)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[S];g&&(v=Xe(g)*(parseFloat(v)/100))}}this.originPoint[S]=v}),m&&X.update(()=>m(d,c),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,c)=>{const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:m,onDrag:w}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:S}=c;if(y&&this.currentDirection===null){this.currentDirection=gb(S),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",c.point,S),this.updateAxis("y",c.point,S),this.visualElement.render(),w&&w(d,c)},a=(d,c)=>this.stop(d,c),l=()=>et(d=>{var c;return this.getAnimationState(d)==="paused"&&((c=this.getAxisMotionValue(d).animation)===null||c===void 0?void 0:c.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new x0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:b0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&X.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Li(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=nb(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&pr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=rb(s.layoutBox,n):this.constraints=!1,this.elastic=ab(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&et(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=ob(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=hb(r,s.root,this.visualElement.getTransformPagePoint());let o=sb(s.layout.layoutBox,i);if(n){const a=n(lb(o));this.hasMutatedConstraints=!!a,a&&(o=S0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=et(d=>{if(!Li(d,n,this.currentDirection))return;let c=l&&l[d]||{};o&&(c={min:0,max:0});const h=s?200:1e6,y=s?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(ld(t,r,0,n))}stopAnimation(){et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){et(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){et(n=>{const{drag:r}=this.getProps();if(!Li(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-se(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};et(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=ib({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),et(o=>{if(!Li(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(se(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;pb.set(this.visualElement,this);const t=this.visualElement.current,n=Mt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Ot(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(et(d=>{const c=this.getAxisMotionValue(d);c&&(this.originPoint[d]+=l[d].translate,c.set(c.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Pu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Li(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gb(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class yb extends En{constructor(t){super(t),this.removeGroupControls=ue,this.removeListeners=ue,this.controls=new mb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rh=e=>(t,n)=>{e&&X.update(()=>e(t,n))};class vb extends En{constructor(){super(...arguments),this.removePointerDownListener=ue}onPointerDown(t){this.session=new x0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rh(t),onStart:Rh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&X.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Mt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xb(){const e=x.useContext(fa);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=x.useId();return x.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const eo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ah(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const n=Ah(e,t.target.x),r=Ah(e,t.target.y);return`${n}% ${r}%`}},wb={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=xn.parse(e);if(s.length>5)return r;const i=xn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=se(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Sb extends qs.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;PC(Cb),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||X.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _0(e){const[t,n]=xb(),r=x.useContext(Gc);return qs.createElement(Sb,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(Sy),isPresent:t,safeToRemove:n})}const Cb={borderRadius:{...rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rs,borderTopRightRadius:rs,borderBottomLeftRadius:rs,borderBottomRightRadius:rs,boxShadow:wb},T0=["TopLeft","TopRight","BottomLeft","BottomRight"],kb=T0.length,Lh=e=>typeof e=="string"?parseFloat(e):e,Oh=e=>typeof e=="number"||F.test(e);function Eb(e,t,n,r,s,i){s?(e.opacity=se(0,n.opacity!==void 0?n.opacity:1,bb(r)),e.opacityExit=se(t.opacity!==void 0?t.opacity:1,0,_b(r))):i&&(e.opacity=se(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<kb;o++){const a=`border${T0[o]}Radius`;let l=Dh(t,a),u=Dh(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Oh(l)===Oh(u)?(e[a]=Math.max(se(Lh(l),Lh(u),r),0),(Tt.test(u)||Tt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=se(t.rotate||0,n.rotate||0,r))}function Dh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bb=P0(0,.5,Xy),_b=P0(.5,.95,ue);function P0(e,t,n){return r=>r<e?0:r>t?1:n(Ws(e,t,r))}function Mh(e,t){e.min=t.min,e.max=t.max}function Ze(e,t){Mh(e.x,t.x),Mh(e.y,t.y)}function Vh(e,t,n,r,s){return e-=t,e=Do(e,1/n,r),s!==void 0&&(e=Do(e,1/s,r)),e}function Tb(e,t=0,n=1,r=.5,s,i=e,o=e){if(Tt.test(t)&&(t=parseFloat(t),t=se(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=se(i.min,i.max,r);e===i&&(a-=t),e.min=Vh(e.min,t,n,a,s),e.max=Vh(e.max,t,n,a,s)}function Fh(e,t,[n,r,s],i,o){Tb(e,t[n],t[r],t[s],t.scale,i,o)}const Pb=["x","scaleX","originX"],jb=["y","scaleY","originY"];function Bh(e,t,n,r){Fh(e.x,t,Pb,n?n.x:void 0,r?r.x:void 0),Fh(e.y,t,jb,n?n.y:void 0,r?r.y:void 0)}function Ih(e){return e.translate===0&&e.scale===1}function j0(e){return Ih(e.x)&&Ih(e.y)}function Nb(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function N0(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zh(e){return Xe(e.x)/Xe(e.y)}class Rb{constructor(){this.members=[]}add(t){ud(this.members,t),t.scheduleRender()}remove(t){if(cd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uh(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Ab=(e,t)=>e.depth-t.depth;class Lb{constructor(){this.children=[],this.isDirty=!1}add(t){ud(this.children,t),this.isDirty=!0}remove(t){cd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ab),this.isDirty=!1,this.children.forEach(t)}}function Ob(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&($t(r),e(i-t))};return X.read(r,!0),()=>$t(r)}function Db(e){window.MotionDebug&&window.MotionDebug.record(e)}function Mb(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Vb(e,t,n){const r=$e(e)?e:Ar(e);return r.start(ld("",r,t,n)),r.animation}const $h=["","X","Y","Z"],Fb={visibility:"hidden"},Hh=1e3;let Bb=0;const Rn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function R0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Bb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rn.totalNodes=Rn.resolvedTargetDeltas=Rn.recalculatedProjection=0,this.nodes.forEach(Ub),this.nodes.forEach(qb),this.nodes.forEach(Gb),this.nodes.forEach($b),Db(Rn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lb)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Mb(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let c;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=Ob(h,250),eo.hasAnimatedSinceResize&&(eo.hasAnimatedSinceResize=!1,this.nodes.forEach(Kh))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeTargetChanged:y,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Zb,{onLayoutAnimationStart:S,onLayoutAnimationComplete:v}=d.getProps(),p=!this.targetLayout||!N0(this.targetLayout,m)||y,g=!h&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(c,g);const C={...ad(w,"layout"),onPlay:S,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||Kh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$t(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qb),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const c=this.path[d];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wh);return}this.isUpdating||this.nodes.forEach(Wb),this.isUpdating=!1,this.nodes.forEach(Kb),this.nodes.forEach(Ib),this.nodes.forEach(zb),this.clearAllSnapshots();const a=performance.now();Ee.delta=vn(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,el.update.process(Ee),el.preRender.process(Ee),el.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Hb),this.sharedNodes.forEach(Xb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,X.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){X.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!j0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Nn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),e_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return de();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Yt(a.x,l.offset.x),Yt(a.y,l.offset.y)),a}removeElementScroll(o){const a=de();Ze(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:c}=u;if(u!==this.root&&d&&c.layoutScroll){if(d.isRoot){Ze(a,o);const{scroll:h}=this.root;h&&(Yt(a.x,-h.offset.x),Yt(a.y,-h.offset.y))}Yt(a.x,d.offset.x),Yt(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=de();Ze(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Nn(d.latestValues)&&yr(l,d.latestValues)}return Nn(this.latestValues)&&yr(l,this.latestValues),l}removeTransform(o){const a=de();Ze(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Nn(u.latestValues))continue;ju(u.latestValues)&&u.updateSnapshot();const d=de(),c=u.measurePageBox();Ze(d,c),Bh(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Nn(this.latestValues)&&Bh(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),ks(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ze(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ze(this.target,this.layout.layoutBox),k0(this.target,this.targetDelta)):Ze(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),ks(this.relativeTargetOrigin,this.target,y.target),Ze(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ju(this.parent.latestValues)||C0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;const{layout:d,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||c))return;Ze(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;cb(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=gr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=gr(),this.projectionDeltaWithTransform=gr());const w=this.projectionTransform;Cs(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Uh(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==h||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Rn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},c=gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=de(),y=l?l.source:void 0,m=this.layout?this.layout.source:void 0,w=y!==m,S=this.getStack(),v=!S||S.members.length<=1,p=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(Jb));this.animationProgress=0;let g;this.mixTargetDelta=C=>{const k=C/1e3;qh(c.x,o.x,k),qh(c.y,o.y,k),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ks(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yb(this.relativeTarget,this.relativeTargetOrigin,h,k),g&&Nb(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=de()),Ze(g,this.relativeTarget)),w&&(this.animationValues=d,Eb(d,u,this.latestValues,k,p,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($t(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=X.update(()=>{eo.hasAnimatedSinceResize=!0,this.currentAnimation=Vb(0,Hh,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&A0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||de();const c=Xe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+c;const h=Xe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Ze(a,l),yr(a,d),Cs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rb),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<$h.length;d++){const c="rotate"+$h[d];l[c]&&(u[c]=l[c],o.setStaticValue(c,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Fb;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Zi(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Zi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Nn(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const h=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=Uh(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:y,y:m}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${m.origin*100}% 0`,c.animationValues?u.opacity=c===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Po){if(h[w]===void 0)continue;const{correct:S,applyTo:v}=Po[w],p=u.transform==="none"?h[w]:S(h[w],c);if(v){const g=v.length;for(let C=0;C<g;C++)u[v[C]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=c===this?Zi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wh),this.root.sharedNodes.clear()}}}function Ib(e){e.updateLayout()}function zb(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?et(c=>{const h=o?n.measuredBox[c]:n.layoutBox[c],y=Xe(h);h.min=r[c].min,h.max=h.min+y}):A0(i,n.layoutBox,r)&&et(c=>{const h=o?n.measuredBox[c]:n.layoutBox[c],y=Xe(r[c]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+y)});const a=gr();Cs(a,r,n.layoutBox);const l=gr();o?Cs(l,e.applyTransform(s,!0),n.measuredBox):Cs(l,r,n.layoutBox);const u=!j0(a);let d=!1;if(!e.resumeFrom){const c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:h,layout:y}=c;if(h&&y){const m=de();ks(m,n.layoutBox,h.layoutBox);const w=de();ks(w,r,y.layoutBox),N0(m,w)||(d=!0),c.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=m,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Ub(e){Rn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $b(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hb(e){e.clearSnapshot()}function Wh(e){e.clearMeasurements()}function Wb(e){e.isLayoutDirty=!1}function Kb(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Kh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qb(e){e.resolveTargetDelta()}function Gb(e){e.calcProjection()}function Qb(e){e.resetRotation()}function Xb(e){e.removeLeadSnapshot()}function qh(e,t,n){e.translate=se(t.translate,0,n),e.scale=se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Gh(e,t,n,r){e.min=se(t.min,n.min,r),e.max=se(t.max,n.max,r)}function Yb(e,t,n,r){Gh(e.x,t.x,n.x,r),Gh(e.y,t.y,n.y,r)}function Jb(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zb={duration:.45,ease:[.4,0,.1,1]},Qh=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xh=Qh("applewebkit/")&&!Qh("chrome/")?Math.round:ue;function Yh(e){e.min=Xh(e.min),e.max=Xh(e.max)}function e_(e){Yh(e.x),Yh(e.y)}function A0(e,t,n){return e==="position"||e==="preserve-aspect"&&!Tu(zh(t),zh(n),.2)}const t_=R0({attachResizeListener:(e,t)=>Ot(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dl={current:void 0},L0=R0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dl.current){const e=new t_({});e.mount(window),e.setOptions({layoutScroll:!0}),dl.current=e}return dl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),n_={pan:{Feature:vb},drag:{Feature:yb,ProjectionNode:L0,MeasureLayout:_0}},r_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function s_(e){const t=r_.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Ru(e,t,n=1){const[r,s]=s_(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return m0(o)?parseFloat(o):o}else return wu(s)?Ru(s,t,n+1):s}function i_(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!wu(i))return;const o=Ru(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!wu(i))continue;const o=Ru(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const o_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),O0=e=>o_.has(e),a_=e=>Object.keys(e).some(O0),Jh=e=>e===Yn||e===F,Zh=(e,t)=>parseFloat(e.split(", ")[t]),ep=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Zh(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Zh(i[1],e):0}},l_=new Set(["x","y","z"]),u_=ri.filter(e=>!l_.has(e));function c_(e){const t=[];return u_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Lr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ep(4,13),y:ep(5,14)};Lr.translateX=Lr.x;Lr.translateY=Lr.y;const d_=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Lr[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Lr[u](l,i)}),e},f_=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(O0);let i=[],o=!1;const a=[];if(s.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],c=ns(d);const h=t[l];let y;if(No(h)){const m=h.length,w=h[0]===null?1:0;d=h[w],c=ns(d);for(let S=w;S<m&&h[S]!==null;S++)y?nd(ns(h[S])===y):y=ns(h[S])}else y=ns(h);if(c!==y)if(Jh(c)&&Jh(y)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&y===F&&(t[l]=h.map(parseFloat))}else c!=null&&c.transform&&(y!=null&&y.transform)&&(d===0||h===0)?d===0?u.set(y.transform(d)):t[l]=c.transform(h):(o||(i=c_(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=d_(t,e,a);return i.length&&i.forEach(([d,c])=>{e.getValue(d).set(c)}),e.render(),ha&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function h_(e,t,n,r){return a_(t)?f_(e,t,n,r):{target:t,transitionEnd:r}}const p_=(e,t,n,r)=>{const s=i_(e,t,r);return t=s.target,r=s.transitionEnd,h_(e,t,n,r)},Au={current:null},D0={current:!1};function m_(){if(D0.current=!0,!!ha)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Au.current=e.matches;e.addListener(t),t()}else Au.current=!1}function g_(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if($e(i))e.addValue(s,i),Oo(r)&&r.add(s);else if($e(o))e.addValue(s,Ar(i,{owner:e})),Oo(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Ar(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const tp=new WeakMap,M0=Object.keys(Hs),y_=M0.length,np=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],v_=qc.length;class x_{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>X.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ma(n),this.isVariantNode=wy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const c in d){const h=d[c];a[c]!==void 0&&$e(h)&&(h.set(a[c],!1),Oo(u)&&u.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,tp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),D0.current||m_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Au.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tp.delete(this.current),this.projection&&this.projection.unmount(),$t(this.notifyUpdate),$t(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Xn.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&X.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let l=0;l<y_;l++){const u=M0[l],{isEnabled:d,Feature:c,ProjectionNode:h,MeasureLayout:y}=Hs[u];h&&(o=h),d(n)&&(!this.features[u]&&c&&(this.features[u]=new c(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:c,layoutScroll:h,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||c&&pr(c),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:y})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<np.length;r++){const s=np[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=g_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<v_;r++){const s=qc[r],i=this.props[s];($s(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ar(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=td(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!$e(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class V0 extends x_{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=ME(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){OE(this,r,o);const a=p_(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function w_(e){return window.getComputedStyle(e)}class S_ extends V0{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Xn.has(n)){const r=od(n);return r&&r.default||0}else{const r=w_(t),s=(Ey(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return E0(t,n)}build(t,n,r,s){Xc(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ed(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){Ny(t,n,r,s)}}class C_ extends V0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xn.has(n)){const r=od(n);return r&&r.default||0}return n=Ry.has(n)?n:Wc(n),t.getAttribute(n)}measureInstanceViewportBox(){return de()}scrapeMotionValuesFromProps(t,n){return Ly(t,n)}build(t,n,r,s){Jc(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){Ay(t,n,r,s)}mount(t){this.isSVGTag=Zc(t.tagName),super.mount(t)}}const k_=(e,t)=>Qc(e)?new C_(t,{enableHardwareAcceleration:!1}):new S_(t,{enableHardwareAcceleration:!0}),E_={layout:{ProjectionNode:L0,MeasureLayout:_0}},b_={...YE,...yk,...n_,...E_},Y=_C((e,t)=>sk(e,t,b_,k_));function F0(){const e=x.useRef(!1);return Hc(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function __(){const e=F0(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>X.postRender(r),[r]),t]}class T_ extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function P_({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),s=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),x.createElement(T_,{isPresent:t,childRef:r,sizeRef:s},x.cloneElement(e,{ref:r}))}const fl=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Oy(j_),l=x.useId(),u=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const c of a.values())if(!c)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return x.useMemo(()=>{a.forEach((d,c)=>a.set(c,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=x.createElement(P_,{isPresent:n},e)),x.createElement(fa.Provider,{value:u},e)};function j_(){return new Map}function N_(e){return x.useEffect(()=>()=>e(),[])}const An=e=>e.key||"";function R_(e,t){e.forEach(n=>{const r=An(n);t.set(r,n)})}function A_(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Kt=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=x.useContext(Gc).forceRender||__()[0],l=F0(),u=A_(e);let d=u;const c=x.useRef(new Map).current,h=x.useRef(d),y=x.useRef(new Map).current,m=x.useRef(!0);if(Hc(()=>{m.current=!1,R_(u,y),h.current=d}),N_(()=>{m.current=!0,y.clear(),c.clear()}),m.current)return x.createElement(x.Fragment,null,d.map(p=>x.createElement(fl,{key:An(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},p)));d=[...d];const w=h.current.map(An),S=u.map(An),v=w.length;for(let p=0;p<v;p++){const g=w[p];S.indexOf(g)===-1&&!c.has(g)&&c.set(g,void 0)}return o==="wait"&&c.size&&(d=[]),c.forEach((p,g)=>{if(S.indexOf(g)!==-1)return;const C=y.get(g);if(!C)return;const k=w.indexOf(g);let E=p;if(!E){const _=()=>{c.delete(g);const T=Array.from(y.keys()).filter(N=>!S.includes(N));if(T.forEach(N=>y.delete(N)),h.current=u.filter(N=>{const P=An(N);return P===g||T.includes(P)}),!c.size){if(l.current===!1)return;a(),r&&r()}};E=x.createElement(fl,{key:An(C),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:i,mode:o},C),c.set(g,E)}d.splice(k,0,E)}),d=d.map(p=>{const g=p.key;return c.has(g)?p:x.createElement(fl,{key:An(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),x.createElement(x.Fragment,null,c.size?d:d.map(p=>x.cloneElement(p)))};function L_({chats:e,onSelect:t,activeChatId:n}){return f.jsxs("div",{className:"h-full w-full bg-[#0D1117] text-white overflow-y-auto select-none",children:[f.jsxs("div",{className:"p-4 backdrop-blur-md sticky top-0 bg-[#0d1117cc] z-20 border-b border-[#1f2937] flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold tracking-wide",children:"Chats"}),f.jsx("button",{className:"px-3 py-1.5 text-sm bg-[#1f6feb] rounded-lg hover:bg-[#2563eb] transition",children:"+"})]}),f.jsxs("div",{className:"mt-2",children:[e.length===0&&f.jsx("div",{className:"p-6 text-center text-gray-400",children:"No chats yet. Start messaging!"}),e.map((r,s)=>{const i=n===r._id;return f.jsxs(Y.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:s*.04},onClick:()=>t(r),className:`flex gap-3 px-4 py-3 cursor-pointer transition-all
              border-b border-[#1f2937] 
              ${i?"bg-[#1e293b]":"hover:bg-[#111827]"}
            `,children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#1f6feb] to-[#3b82f6] rounded-full flex items-center justify-center text-lg font-bold shadow-lg",children:(r.title||"D")[0]}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"font-medium text-[16px] truncate",children:r.title||"Direct Chat"}),r.last_message_at&&f.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:new Date(r.last_message_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),f.jsx("p",{className:"text-sm text-gray-400 truncate mt-0.5",children:r.last_message_preview||"No messages yet"})]}),r.unreadCount>0&&f.jsx("div",{className:"w-6 h-6 bg-[#1f6feb] rounded-full flex items-center justify-center text-xs font-semibold",children:r.unreadCount})]},r._id)})]})]})}const O_="http://localhost:5050",D_={async uploadFile(e,t,n){const r=new FormData;return r.append("chat_id",e),r.append("file",t),(await L.post(`${O_}/upload/file`,r,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}})).data}};let xe=null;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>x.createElement("svg",{ref:d,...M_,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${V_(e)}`,a].join(" "),...u},[...t.map(([c,h])=>x.createElement(c,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=J("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=J("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=J("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=J("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=J("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=J("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=J("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=J("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=J("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=J("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=J("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=J("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sT({msg:e,isSent:t,encrypted:n}){return f.jsx(Y.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:80},className:`flex flex-col max-w-[78%] ${t?"items-end ml-auto":"items-start"}`,children:f.jsxs("div",{className:`relative px-4 py-2 rounded-2xl shadow-md text-sm break-words 
          ${t?"bg-[#1f6feb] text-white rounded-br-none":"bg-[#111827] text-gray-200 rounded-bl-none"}
        `,children:[n?f.jsxs("div",{className:"flex items-center gap-2 opacity-80 italic",children:[f.jsx(G_,{className:"w-4 h-4 text-blue-300"}),f.jsx("span",{children:"Encrypted Message"})]}):f.jsx("span",{children:e.content}),f.jsx("div",{className:"text-[10px] opacity-60 mt-1 text-right",children:new Date(e.timestamp||e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),e.reactions&&e.reactions.length>0&&f.jsx("div",{className:"absolute -bottom-3 right-2 flex gap-1 bg-[#0d1117] border border-[#1f2937] px-2 py-0.5 rounded-full shadow-lg",children:e.reactions.map((r,s)=>f.jsx("span",{className:"text-sm",children:r.emoji},s))})]})})}function iT({isTyping:e}){return f.jsx(Kt,{children:e&&f.jsxs(Y.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},transition:{duration:.2},className:"flex items-center gap-1 px-3 py-2 my-1 ml-3 w-fit rounded-xl bg-[#111827] border border-[#1f2937] shadow text-gray-300",children:[f.jsx(Y.span,{className:"w-2 h-2 rounded-full bg-gray-400",animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:0}}),f.jsx(Y.span,{className:"w-2 h-2 rounded-full bg-gray-400",animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.15}}),f.jsx(Y.span,{className:"w-2 h-2 rounded-full bg-gray-400",animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.3}})]})})}const oT=["","","","","","",""];function aT({messageId:e,chatId:t,token:n,currentUserId:r,existingReactions:s=[],onReact:i}){const[o,a]=x.useState(!1),l=x.useRef(null);x.useEffect(()=>{function c(h){l.current&&!l.current.contains(h.target)&&a(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const u=async c=>{a(!1),await Ut.addReaction(e,c,n),i&&i(c),xe.emit("reaction:add",{message_id:e,emoji:c,user_id:r,chat_id:t})},d={};return s.forEach(c=>{d[c.emoji]||(d[c.emoji]=0),d[c.emoji]+=1}),f.jsxs("div",{className:"relative flex items-center gap-2 mt-1 select-none",ref:l,children:[f.jsx("div",{className:"flex gap-1",children:Object.entries(d).map(([c,h])=>f.jsxs(Y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-[#0b1220] border border-[#1f2937] text-sm shadow",children:[c,f.jsx("span",{className:"text-xs opacity-70",children:h})]},c))}),f.jsx("button",{onClick:()=>a(c=>!c),className:"text-gray-400 hover:text-white px-2",children:""}),f.jsx(Kt,{children:o&&f.jsx(Y.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15},className:"absolute bottom-8 left-0 bg-[#0d1117] border border-[#1f2937] p-2 rounded-xl shadow-xl flex gap-2",children:oT.map(c=>f.jsx("button",{onClick:()=>u(c),className:"text-xl hover:scale-125 transition-transform",children:c},c))})})]})}const ss="http://localhost:5050",Du={async analyzeSentiment(e,t){return(await L.post(`${ss}/api/chat/analyze-sentiment`,{message:e},{headers:{Authorization:`Bearer ${t}`}})).data},async translateMessage(e,t,n){return(await L.post(`${ss}/api/chat/translate`,{message:e,target_language:t},{headers:{Authorization:`Bearer ${n}`}})).data},async getSmartReplies(e,t){return(await L.post(`${ss}/api/chat/smart-replies`,{conversation_context:e},{headers:{Authorization:`Bearer ${t}`}})).data},async createPoll(e,t,n,r,s,i){return(await L.post(`${ss}/api/chat/polls`,{question:e,options:t,room_id:n,is_anonymous:r,allows_multiple:s},{headers:{Authorization:`Bearer ${i}`}})).data},async votePoll(e,t,n){return(await L.post(`${ss}/api/chat/polls/${e}/vote`,{option_index:t},{headers:{Authorization:`Bearer ${n}`}})).data}};function lT({contextMessages:e=[],token:t,onSelectReply:n}){const[r,s]=x.useState([]),[i,o]=x.useState(!1);return x.useEffect(()=>{if(!e||e.length===0)return;const a=e.slice(-5).map(l=>l.content).filter(Boolean);a.length!==0&&(o(!0),Du.getSmartReplies(a,t).then(l=>{s(l.suggestions||[]),o(!1)}).catch(()=>{s([]),o(!1)}))},[e,t]),!r.length&&!i?null:f.jsx(Kt,{children:f.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.15},className:"flex gap-2 px-3 py-2 bg-[#0d1117] border-t border-[#1f2937] overflow-x-auto scrollbar-thin",children:i?f.jsx("div",{className:"text-gray-400 text-sm italic",children:"Thinking"}):r.map((a,l)=>f.jsx(Y.button,{whileTap:{scale:.92},className:"px-4 py-1.5 bg-[#111827] text-gray-200 text-sm rounded-full border border-[#1f2937] hover:bg-[#1f2937] transition whitespace-nowrap",onClick:()=>n(a),children:a},l))})})}function uT({poll:e,token:t,onClose:n,currentUserId:r}){const[s,i]=x.useState(e),[o,a]=x.useState(e.allows_multiple?[]:null),[l,u]=x.useState(!1),[d,c]=x.useState(null),h=x.useMemo(()=>{const v=(s.options||[]).map(()=>0),p=s.votes||{};Object.values(p).forEach(C=>{Array.isArray(C)?C.forEach(k=>{typeof k=="number"&&v[k]!==void 0&&(v[k]+=1)}):typeof C=="number"&&v[C]!==void 0&&(v[C]+=1)});const g=v.reduce((C,k)=>C+k,0);return{counts:v,total:g}},[s]),y=x.useMemo(()=>{const p=(s.votes||{})[r];return p===void 0?null:p},[s,r]);x.useEffect(()=>{i(e),!e.allows_multiple&&e.votes&&e.votes[r]!==void 0&&a(e.votes[r]),e.allows_multiple&&e.votes&&Array.isArray(e.votes[r])&&a(e.votes[r])},[e,r]),x.useEffect(()=>{const v=g=>{!g||g.poll_id!==s.poll_id||(g.results&&g.results.votes?i(C=>({...C,_server_counts:g.results.votes,total_votes:g.results.total_votes})):g.poll&&i(g.poll))},p=g=>{!g||g.poll_id!==s.poll_id||i(g.poll||g)};return xe.on("poll_updated",v),xe.on("new_poll",p),()=>{xe.off("poll_updated",v),xe.off("new_poll",p)}},[s.poll_id]);const m=v=>{c(null),s.allows_multiple?a(p=>Array.isArray(p)?p.includes(v)?p.filter(g=>g!==v):[...p,v]:[v]):a(v)},w=async()=>{var v,p;if(c(null),o===null||Array.isArray(o)&&o.length===0){c("Please choose an option to vote.");return}u(!0);try{if(s.allows_multiple){const g=Array.isArray(o)?o:[o];for(const C of g)await Du.votePoll(s.poll_id,C,t);i(C=>{const k={...C.votes||{}};return k[r]=g,{...C,votes:k}})}else{const g=await Du.votePoll(s.poll_id,o,t);g&&g.results&&i(C=>({...C,_server_counts:g.results,total_votes:g.total_votes||C.total_votes})),i(C=>{const k={...C.votes||{}};return k[r]=o,{...C,votes:k}})}u(!1)}catch(g){u(!1),c(((p=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:p.error)||g.message||"Vote failed")}},S=(v,p)=>{const g=p>0?Math.round(v/p*100):0;return f.jsx("div",{className:"w-full bg-[#0b1220] rounded-full h-2 overflow-hidden",children:f.jsx("div",{className:"h-2 rounded-full transition-all",style:{width:`${g}%`,background:"linear-gradient(90deg,#1f6feb,#3b82f6)"}})})};return f.jsxs(Y.div,{initial:{scale:.995,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.18},className:"bg-[#0b1220] border border-[#1f2937] rounded-xl p-4 max-w-xl w-full shadow-md",children:[f.jsxs("div",{className:"flex justify-between items-start gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"text-white text-lg font-semibold",children:s.question}),f.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s.is_anonymous?"Anonymous poll":`Created by ${s.created_by||"someone"}`,s.allows_multiple&&f.jsx("span",{className:"ml-2 text-green-400",children:"  Multiple choice"})]})]}),f.jsx("div",{children:n&&f.jsx("button",{onClick:()=>n(),className:"text-sm text-gray-400 hover:text-white",children:""})})]}),f.jsx("div",{className:"mt-4 space-y-3",children:(s.options||[]).map((v,p)=>{const g=h.counts[p]||0,C=h.total||s.total_votes||0,k=C>0?Math.round(g/C*100):0,E=Array.isArray(y)?y.includes(p):y===p,_=Array.isArray(o)?o.includes(p):o===p;return f.jsx("div",{className:"space-y-2",children:f.jsxs("button",{onClick:()=>m(p),disabled:!s.allows_multiple&&y!==null,className:`w-full flex items-center justify-between gap-3 p-3 rounded-lg transition
                  ${_||E?"bg-[#111827] border border-[#1f2937]":"bg-[#080a0f] hover:bg-[#0f1724]"}
                `,"aria-pressed":_||E,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold
                      ${_||E?"bg-gradient-to-br from-[#1f6feb] to-[#3b82f6] text-white":"bg-[#0b1220] text-gray-300 border border-[#1f2937]"}`,children:_||E?"":p+1}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-sm text-gray-100",children:v}),f.jsxs("div",{className:"text-[11px] text-gray-400",children:[g," votes  ",k,"%"]})]})]}),f.jsx("div",{className:"w-36 ml-2",children:S(g,C)})]})},p)})}),f.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[!s.allows_multiple&&y!==null?f.jsx("div",{className:"text-sm text-green-400",children:"You voted "}):f.jsx("button",{onClick:w,disabled:l,className:"px-4 py-2 rounded-lg bg-gradient-to-br from-[#1f6feb] to-[#3b82f6] hover:from-[#2563eb] text-white font-semibold shadow-sm",children:l?"Voting...":s.allows_multiple?"Submit votes":"Vote"}),f.jsxs("div",{className:"text-sm text-gray-400 ml-auto",children:[h.total," votes"]})]}),d&&f.jsx("div",{className:"mt-2 text-sm text-rose-400",children:d})]})}function cT({parentMessage:e,token:t,isOpen:n,onClose:r,socket:s}){var y;const{user:i}=x.useContext(oa),[o,a]=x.useState([]),[l,u]=x.useState(""),d=x.useRef(null),c=()=>{setTimeout(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},100)};x.useEffect(()=>{!n||!e||(async()=>{const m=await Ut.getThreadMessages(e._id||e.id,t);a(m.thread||[]),c()})()},[n,e,t]),x.useEffect(()=>{const m=w=>{w.parent_id===e._id&&(a(S=>[...S,w.message]),c())};return s.on("thread_message",m),()=>s.off("thread_message",m)},[s,e]);const h=async()=>{if(!l.trim())return;const m=e._id||e.id,w=await Ut.createThreadMessage(m,l,t);a(S=>[...S,{id:w.thread_id,content:l,username:i.username,user_id:i.user_id,timestamp:new Date().toISOString()}]),u(""),c()};return n?f.jsx(Kt,{children:f.jsxs(Y.div,{initial:{x:60,opacity:0},animate:{x:0,opacity:1},exit:{x:60,opacity:0},transition:{duration:.2},className:"absolute top-0 right-0 w-[360px] h-full bg-[#0D1117] border-l border-[#1f2937] shadow-lg z-50 flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-[#1f2937] flex justify-between items-center bg-[#0d1117b3] backdrop-blur-md",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-white text-lg font-semibold",children:"Thread"}),f.jsxs("p",{className:"text-gray-400 text-xs truncate max-w-[260px]",children:["Replying to: ",(y=e.content)==null?void 0:y.slice(0,40)]})]}),f.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition",children:""})]}),f.jsxs("div",{className:"p-4 border-b border-[#1f2937] bg-[#111827] text-gray-300",children:[f.jsx("div",{className:"text-sm font-medium",children:e.username}),f.jsx("div",{className:"mt-1",children:e.content})]}),f.jsx("div",{ref:d,className:"flex-1 overflow-y-auto p-4 space-y-3 bg-[#0D1117]",children:o.map((m,w)=>{const S=m.user_id===i.user_id;return f.jsxs(Y.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:`max-w-[85%] px-3 py-2 rounded-xl shadow 
                  ${S?"bg-[#1f6feb] text-white ml-auto":"bg-[#111827] text-gray-200"}
                `,children:[f.jsx("div",{className:"text-xs opacity-80 mb-1",children:m.username}),f.jsx("div",{children:m.content}),f.jsx("div",{className:"text-[10px] opacity-50 text-right mt-1",children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},m.id||w)})}),f.jsxs("div",{className:"p-3 border-t border-[#1f2937] bg-[#0d1117bb] backdrop-blur-md flex items-center gap-2",children:[f.jsx("input",{value:l,onChange:m=>u(m.target.value),onKeyDown:m=>m.key==="Enter"&&h(),placeholder:"Reply to thread",className:"flex-1 px-4 py-2 bg-[#111827] border border-[#1f2937] rounded-full text-sm text-gray-200 focus:ring-1 focus:ring-[#2563eb] outline-none"}),f.jsx("button",{onClick:h,className:"px-4 py-2 bg-[#1f6feb] rounded-full hover:bg-[#2563eb] transition active:scale-95",children:"Send"})]})]},"thread-panel")}):null}function U0({roomId:e,token:t,onClose:n}){const[r,s]=x.useState(""),[i,o]=x.useState([]),[a,l]=x.useState(!1);x.useEffect(()=>{r.length>2?u():o([])},[r]);const u=async()=>{l(!0);try{const c=await Ut.searchMessages(r,e,t);o(c.results||[])}catch(c){console.error("Search error:",c)}l(!1)},d=c=>{if(!r)return c;const h=new RegExp(`(${r})`,"gi");return c.replace(h,"<mark>$1</mark>")};return f.jsx(Kt,{children:f.jsx(Y.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsxs(Y.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},transition:{duration:.2},className:"w-[90%] max-w-xl bg-[#0d1117] border border-[#1f2937] rounded-2xl shadow-xl p-5 text-white",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-[#1f2937] pb-3 mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Search Messages"}),f.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),f.jsx("input",{value:r,onChange:c=>s(c.target.value),placeholder:"Search messages...",autoFocus:!0,className:"w-full px-4 py-2 rounded-xl bg-[#111827] border border-[#1f2937] focus:ring-1 focus:ring-[#2563eb] text-gray-200 mb-4 outline-none"}),f.jsxs("div",{className:"max-h-[400px] overflow-y-auto space-y-3 pr-1",children:[a&&f.jsx("div",{className:"text-center text-gray-400 py-4",children:"Searching"}),!a&&i.length===0&&r.length>2&&f.jsx("div",{className:"text-center text-gray-500 py-4",children:"No messages found"}),i.map((c,h)=>f.jsxs(Y.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},className:"p-3 rounded-xl bg-[#111827] border border-[#1f2937] shadow-sm hover:bg-[#1a2333] transition cursor-pointer",children:[f.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[f.jsx("span",{children:c.username}),f.jsx("span",{children:new Date(c.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),f.jsx("div",{className:"text-gray-200 text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:d(c.content)}})]},c.id||h))]})]})})})}function $0({roomId:e,onClose:t,onSend:n}){const[r,s]=x.useState(null),i=x.useRef(null),o=c=>{s(c.target.files[0])},a=()=>{r&&(n(r),s(null),t())},l=()=>{if(!r)return null;const c=r.type;return c.startsWith("image/")?f.jsx(F_,{className:"w-6 h-6 text-blue-400"}):c.startsWith("video/")?f.jsx(I_,{className:"w-6 h-6 text-purple-400"}):f.jsx(B_,{className:"w-6 h-6 text-gray-300"})},u=c=>{c.preventDefault();const h=c.dataTransfer.files[0];h&&s(h)},d=c=>c.preventDefault();return f.jsx(Kt,{children:f.jsx(Y.div,{className:"fixed inset-0 bg-black/40 backdrop-blur-md flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:f.jsxs(Y.div,{onClick:c=>c.stopPropagation(),initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{duration:.2},className:"w-[90%] max-w-md bg-[#0D1117] text-white border border-[#1f2937] rounded-2xl shadow-xl p-5",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Upload File"}),f.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-[#1f2937] transition",children:f.jsx(rT,{size:22,className:"text-gray-300"})})]}),f.jsxs("div",{ref:i,className:"border-2 border-dashed border-[#1f2937] rounded-xl p-6 text-center bg-[#111827] hover:bg-[#1a2333] transition cursor-pointer",onDragOver:d,onDragEnter:d,onDrop:u,children:[f.jsx(Y_,{className:"w-12 h-12 mx-auto mb-3 text-blue-500"}),f.jsx("p",{className:"text-gray-300 mb-2",children:"Drag & drop a file here, or click to select."}),f.jsx("input",{type:"file",onChange:o,className:"hidden",id:"fileSelector"}),f.jsx("label",{htmlFor:"fileSelector",className:"cursor-pointer px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-full text-sm",children:"Browse Files"})]}),r&&f.jsxs("div",{className:"mt-5 p-4 rounded-xl bg-[#111827] border border-[#1f2937]",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[l(),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium",children:r.name}),f.jsxs("p",{className:"text-xs text-gray-400",children:[(r.size/1024).toFixed(1)," KB"]})]})]}),f.jsx("button",{onClick:a,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 rounded-full py-2 transition font-medium",children:"Send File"})]})]})})})}const dT=(e,t)=>e.sender_id===t||e.user_id===t;function fd({chat:e}){const{token:t,user:n}=x.useContext(oa),[r,s]=x.useState([]),[i,o]=x.useState([]),[a,l]=x.useState(""),[u,d]=x.useState(null),[c,h]=x.useState(!1),[y,m]=x.useState(!1),w=x.useRef(null),S=x.useRef(null),v=()=>setTimeout(()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)},60);x.useEffect(()=>{e&&(async()=>{const E=await Ut.getMessages(e._id,t);s(E.messages||[]),v()})()},[e,t]),x.useEffect(()=>{const E=({message:_})=>{_.chat_id===e._id&&(s(T=>[...T,_]),v())};return xe.on("message:new",E),()=>xe.off("message:new",E)},[e]),x.useEffect(()=>(xe.on("typing:started",({user_id:E})=>{E!==n.user_id&&o([E])}),xe.on("typing:stopped",({user_id:E})=>{o(_=>_.filter(T=>T!==E))}),()=>{xe.off("typing:started"),xe.off("typing:stopped")}),[n.user_id]);const p=E=>{const _=E.target.value;l(_),xe.emit("typing:start",{chat_id:e._id,user_id:n.user_id}),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{xe.emit("typing:stop",{chat_id:e._id,user_id:n.user_id})},1200)},g=()=>{a.trim()&&(xe.emit("message:send",{chat_id:e._id,message:{sender_id:n.user_id,content:a,message_type:"text"}}),l(""),xe.emit("typing:stop",{chat_id:e._id,user_id:n.user_id}))},C=async E=>{try{const _=await D_.uploadFile(e._id,E,t);xe.emit("message:send",{chat_id:e._id,message:_.file_message})}catch(_){console.error("File upload failed:",_)}},k=E=>d(E);return f.jsxs("div",{className:"h-full w-full flex relative bg-[#0D1117] text-white",children:[u&&f.jsx(cT,{isOpen:!!u,parentMessage:u,socket:xe,token:t,onClose:()=>d(null)}),c&&f.jsx(U0,{roomId:e._id,token:t,onClose:()=>h(!1)}),y&&f.jsx($0,{roomId:e._id,onSend:C,onClose:()=>m(!1)}),f.jsxs("div",{className:"flex flex-col flex-1",children:[f.jsxs("div",{className:"sticky top-0 z-40 px-4 py-3 bg-[#0d1117e8] backdrop-blur-md border-b border-[#1f2937] flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#1f6feb] to-[#3b82f6] flex items-center justify-center text-lg font-bold shadow-lg",children:(e.title||"D")[0]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h3",{className:"font-semibold text-[17px]",children:e.title}),i.length>0?f.jsx("span",{className:"text-xs text-green-400",children:"Typing"}):f.jsx("span",{className:"text-xs text-gray-400",children:"Active now"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(q_,{className:"cursor-pointer text-gray-300 hover:text-white",size:20,onClick:()=>h(!0)}),f.jsx(U_,{className:"cursor-pointer text-gray-300 hover:text-white",size:22,onClick:()=>m(!0)}),f.jsx(z0,{className:"text-gray-300 hover:text-white cursor-pointer",size:22}),f.jsx(Ou,{className:"text-gray-300 hover:text-white cursor-pointer",size:22})]})]}),f.jsxs("div",{ref:w,className:"flex-1 overflow-y-auto px-4 py-4 space-y-5",children:[r.map((E,_)=>{const T=dT(E,n.user_id),N=E.encrypted_content&&!E.content;return E.message_type==="poll"?f.jsx(uT,{poll:E.extra,token:t,currentUserId:n.user_id},E._id||_):f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"active:scale-[0.98] transition-transform",onDoubleClick:()=>k(E),children:f.jsx(sT,{msg:E,isSent:T,encrypted:N})}),f.jsx(aT,{messageId:E._id,chatId:e._id,token:t,currentUserId:n.user_id,existingReactions:E.reactions||[]})]},E._id||_)}),f.jsx(iT,{isTyping:i.length>0})]}),f.jsx(lT,{contextMessages:r,token:t,onSelectReply:E=>l(E)}),f.jsxs("div",{className:"p-3 border-t border-[#1f2937] bg-[#0d1117cc] backdrop-blur-md flex items-center gap-3",children:[f.jsx("input",{value:a,onChange:p,onKeyDown:E=>E.key==="Enter"&&g(),placeholder:"Message",className:`flex-1 px-4 py-2 bg-[#111827] border border-[#1f2937] rounded-full text-sm text-gray-200 \r
              focus:outline-none focus:ring-1 focus:ring-[#2563eb] placeholder-gray-500`}),f.jsx("button",{onClick:g,className:"px-4 py-2 bg-[#1f6feb] rounded-full hover:bg-[#2563eb] transition active:scale-95",children:"Send"})]})]})]})}function fT(){const{sidebarChats:e,activeChat:t,activeChatId:n,openChat:r,messages:s,typingUsers:i}=ca(),{socket:o,emit:a}=$r(),{decryptedMessages:l,sendText:u,sendFile:d,sendReaction:c,markAsSeen:h}=gC(n),[y,m]=x.useState(!1),[w,S]=x.useState(!1);x.useEffect(()=>{n&&h()},[n,s]);const[v,p]=x.useState(!0),g=C=>{r(C),p(!1)};return f.jsxs("div",{className:"flex h-screen bg-[#0D1117] text-white",children:[f.jsx("div",{className:`${v?"w-80":"w-0 lg:w-80"} transition-all bg-[#111827] border-r border-[#1f2937] overflow-hidden`,children:f.jsx(L_,{chats:e,activeChatId:n,onSelect:g})}),f.jsx("div",{className:"flex-1 relative",children:t?f.jsx(fd,{chat:t,messages:l,onSendMessage:u,onSendFile:()=>S(!0),onSearch:()=>m(!0),typingUsers:i,sendReaction:c}):f.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:" Select a chat to start messaging"})}),y&&t&&f.jsx(U0,{roomId:n,onClose:()=>m(!1)}),w&&t&&f.jsx($0,{roomId:n,onClose:()=>S(!1),onSend:C=>{d(C),S(!1)}})]})}function hT(){const{userId:e}=ea(),{socket:t,safeEmit:n}=$r(),{activeChatId:r,openChat:s}=ua(),{activeChat:i}=ca(),[o,a]=x.useState(!0);return x.useEffect(()=>{if(!e)return;const l=localStorage.getItem("access_token");n("dm:open",{peer_id:e}),fetch(`http://localhost:5050/dm/open/${e}`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).then(u=>u.json()).then(u=>{var d;(d=u==null?void 0:u.chat)!=null&&d._id&&s(u.chat._id)}).finally(()=>a(!1))},[e,n,s]),o||!r?f.jsx("div",{className:"h-screen w-full flex items-center justify-center text-gray-400",children:"Opening chat"}):f.jsx("div",{className:"h-screen w-full bg-[#0D1117] text-white",children:f.jsx(fd,{chat:i})})}function pT(){const{groupId:e}=ea(),{groups:t}=py(),{activeChat:n}=ca(),{openChat:r,activeChatId:s,messages:i}=ua(),[o,a]=x.useState(!0),l=t.find(u=>u._id===e);return x.useEffect(()=>{e&&(r(e),setTimeout(()=>a(!1),150))},[e,r]),o||!l?f.jsx("div",{className:"h-screen w-full flex items-center justify-center text-gray-400 bg-[#0D1117]",children:"Loading group"}):f.jsx("div",{className:"h-screen w-full bg-[#0D1117] text-white",children:f.jsx(fd,{chat:n})})}const ai=()=>({headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});async function mT(e,t,n="video"){var r;try{return(await L.post(`${re}/calls/start`,{chat_id:e,receiver_id:t,call_type:n},ai())).data.data}catch(s){return console.error("startCall error:",((r=s.response)==null?void 0:r.data)||s),{error:"Failed to start call."}}}async function gT(e){var t;try{return(await L.post(`${re}/calls/${e}/accept`,{},ai())).data.data}catch(n){return console.error("acceptCall error:",((t=n.response)==null?void 0:t.data)||n),{error:"Failed to accept call."}}}async function yT(e){var t;try{return(await L.post(`${re}/calls/${e}/reject`,{},ai())).data.data}catch(n){return console.error("rejectCall error:",((t=n.response)==null?void 0:t.data)||n),{error:"Failed to reject call."}}}async function vT(e){var t;try{return(await L.post(`${re}/calls/${e}/end`,{},ai())).data.data}catch(n){return console.error("endCall error:",((t=n.response)==null?void 0:t.data)||n),{error:"Failed to end call."}}}async function xT(e){var t;try{return(await L.get(`${re}/calls/history/${e}`,ai())).data.data}catch(n){return console.error("getCallHistory error:",((t=n.response)==null?void 0:t.data)||n),{error:"Failed to load history."}}}const wT={startCall:mT,acceptCall:gT,rejectCall:yT,endCall:vT,getCallHistory:xT};function ST({callId:e,isIncoming:t,callerName:n,socket:r,token:s,onClose:i}){const o=x.useRef(null),a=x.useRef(null),l=x.useRef(null),[u,d]=x.useState(null),[c,h]=x.useState(null),[y,m]=x.useState(!1),[w,S]=x.useState(!0),[v,p]=x.useState(!0),g=()=>{const P=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return P.ontrack=R=>{if(!c){const D=new MediaStream;h(D),a.current.srcObject=D}a.current.srcObject.addTrack(R.track)},P.onicecandidate=R=>{R.candidate&&_e.sendICECandidate(r,e,R.candidate)},l.current=P,P},C=async()=>{const P=await navigator.mediaDevices.getUserMedia({audio:!0,video:{facingMode:"user"}});return d(P),o.current.srcObject=P,P},k=async()=>{const P=l.current,R=await P.createOffer();await P.setLocalDescription(R),_e.sendWebRTCOffer(r,e,R)},E=async P=>{const R=l.current;await R.setRemoteDescription(new RTCSessionDescription(P));const D=await R.createAnswer();await R.setLocalDescription(D),_e.sendWebRTCAnswer(r,e,D)},_=()=>{_e.endCallViaSocket(r,e,"call_ended"),u&&u.getTracks().forEach(P=>P.stop()),l.current&&l.current.close(),i()};x.useEffect(()=>(g(),C().then(P=>{P.getTracks().forEach(R=>l.current.addTrack(R,P))}),r.on("webrtc_offer",async({offer:P})=>{await E(P)}),r.on("webrtc_answer",async({answer:P})=>{await l.current.setRemoteDescription(new RTCSessionDescription(P)),p(!1)}),r.on("webrtc_ice_candidate",async({candidate:P})=>{try{await l.current.addIceCandidate(new RTCIceCandidate(P))}catch{}}),r.on("call_accepted",()=>{k()}),r.on("call_ended",()=>{_()}),()=>{r.off("webrtc_offer"),r.off("webrtc_answer"),r.off("webrtc_ice_candidate"),r.off("call_accepted"),r.off("call_ended")}),[]);const T=()=>{_e.acceptCallViaSocket(r,e),p(!0)},N=()=>{_e.rejectCallViaSocket(r,e,"rejected"),_()};return f.jsx(Kt,{children:f.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black text-white flex flex-col z-50",children:[f.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),f.jsx(Y.video,{ref:o,autoPlay:!0,muted:!0,playsInline:!0,className:"absolute bottom-6 right-6 w-36 h-60 rounded-xl shadow-lg object-cover border border-gray-700",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1}}),f.jsxs("div",{className:"absolute top-6 w-full text-center",children:[f.jsx("div",{className:"text-lg font-semibold",children:n||"Video Call"}),f.jsx("div",{className:"text-sm text-gray-300 mt-1",children:t?"Incoming video call":v?"Connecting":"Connected"})]}),f.jsxs("div",{className:"absolute bottom-10 w-full flex items-center justify-center gap-6",children:[f.jsx("button",{onClick:()=>{m(!y),u.getAudioTracks()[0].enabled=y},className:"p-4 rounded-full bg-[#111827] hover:bg-[#1f2937] border border-[#1f2937]",children:y?f.jsx(B0,{}):f.jsx(I0,{})}),f.jsx("button",{onClick:()=>{S(!w),u.getVideoTracks()[0].enabled=!w},className:"p-4 rounded-full bg-[#111827] hover:bg-[#1f2937] border border-[#1f2937]",children:w?f.jsx(Ou,{}):f.jsx(Z_,{})}),f.jsx("button",{className:"p-4 rounded-full bg-[#111827] hover:bg-[#1f2937] border border-[#1f2937]",children:f.jsx(K_,{})}),f.jsx("button",{onClick:_,className:"p-5 rounded-full bg-red-600 hover:bg-red-700 text-white shadow-xl",children:f.jsx(Mo,{className:"w-6 h-6"})})]}),t&&f.jsxs("div",{className:"absolute bottom-32 w-full flex justify-center gap-10",children:[f.jsx("button",{onClick:N,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 shadow-xl",children:f.jsx(Mo,{})}),f.jsx("button",{onClick:T,className:"p-4 rounded-full bg-green-600 hover:bg-green-700 shadow-xl",children:f.jsx(Ou,{})})]})]})})}function CT({callId:e,isIncoming:t,callerName:n,socket:r,token:s,onClose:i}){const o=x.useRef(null),a=x.useRef(null),l=x.useRef(null),[u,d]=x.useState(!1),[c,h]=x.useState(!0),[y,m]=x.useState(!0),[w,S]=x.useState(0),v=x.useRef(null),p=()=>{const R=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return R.ontrack=D=>{l.current&&(l.current.srcObject=D.streams[0])},R.onicecandidate=D=>{D.candidate&&_e.sendICECandidate(r,e,D.candidate)},o.current=R,R},g=async()=>{const R=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});return a.current=R,R.getTracks().forEach(D=>o.current.addTrack(D,R)),R},C=async()=>{const R=o.current,D=await R.createOffer();await R.setLocalDescription(D),_e.sendWebRTCOffer(r,e,D)},k=async R=>{const D=o.current;await D.setRemoteDescription(new RTCSessionDescription(R));const W=await D.createAnswer();await D.setLocalDescription(W),_e.sendWebRTCAnswer(r,e,W)},E=()=>{_e.endCallViaSocket(r,e,"ended"),a.current&&a.current.getTracks().forEach(R=>R.stop()),o.current&&o.current.close(),clearInterval(v.current),i()},_=()=>{v.current=setInterval(()=>{S(R=>R+1)},1e3)},T=R=>{const D=Math.floor(R/60),W=R%60;return`${D}:${W.toString().padStart(2,"0")}`};x.useEffect(()=>(p(),g(),r.on("webrtc_offer",async({offer:R})=>{await k(R),m(!1),_()}),r.on("webrtc_answer",async({answer:R})=>{await o.current.setRemoteDescription(new RTCSessionDescription(R)),m(!1),_()}),r.on("webrtc_ice_candidate",async({candidate:R})=>{try{await o.current.addIceCandidate(new RTCIceCandidate(R))}catch{}}),r.on("call_accepted",()=>{C()}),r.on("call_rejected",()=>{E()}),r.on("call_ended",()=>{E()}),()=>{r.off("webrtc_offer"),r.off("webrtc_answer"),r.off("webrtc_ice_candidate"),r.off("call_accepted"),r.off("call_rejected"),r.off("call_ended")}),[]);const N=()=>{_e.acceptCallViaSocket(r,e),m(!0)},P=()=>{_e.rejectCallViaSocket(r,e),E()};return f.jsx(Kt,{children:f.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-[#0D1117] text-white z-50 flex flex-col items-center justify-center",children:[f.jsx(Y.div,{initial:{opacity:0,scale:.7},animate:{opacity:1,scale:1},className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#1f6feb] to-[#3b82f6] flex items-center justify-center text-4xl font-bold shadow-xl",children:(n==null?void 0:n[0])||"U"}),f.jsx("div",{className:"mt-5 text-2xl font-semibold",children:n}),f.jsx("div",{className:"mt-1 text-gray-400",children:t?"Incoming voice call":y?"Connecting":`Call in progress (${T(w)})`}),f.jsx("audio",{ref:l,autoPlay:!0}),t?f.jsxs("div",{className:"flex gap-10 mt-12",children:[f.jsx("button",{onClick:P,className:"p-5 bg-red-600 rounded-full hover:bg-red-700 transition shadow-xl",children:f.jsx(Mo,{className:"w-7 h-7"})}),f.jsx("button",{onClick:N,className:"p-5 bg-green-600 rounded-full hover:bg-green-700 transition shadow-xl",children:f.jsx(z0,{className:"w-7 h-7"})})]}):f.jsxs("div",{className:"absolute bottom-16 flex justify-center gap-6",children:[f.jsx("button",{onClick:()=>{d(!u),a.current.getAudioTracks()[0].enabled=u},className:"p-4 rounded-full bg-[#111827] border border-[#1f2937] hover:bg-[#1f2937] transition",children:u?f.jsx(B0,{}):f.jsx(I0,{})}),f.jsx("button",{onClick:()=>{h(!c),l.current.muted=!c},className:"p-4 rounded-full bg-[#111827] border border-[#1f2937] hover:bg-[#1f2937] transition",children:c?f.jsx(eT,{}):f.jsx(tT,{})}),f.jsx("button",{onClick:E,className:"p-5 bg-red-600 hover:bg-red-700 rounded-full shadow-xl",children:f.jsx(Mo,{className:"w-7 h-7"})})]})]},"voicecall")})}function kT(){var d;const{chatId:e}=ea(),{activeChat:t}=ca(),{inCall:n,callInfo:r,startCall:s,endCall:i}=lC(),[o,a]=x.useState([]);x.useEffect(()=>{(async()=>{if(!e)return;const h=localStorage.getItem("access_token"),y=await wT.getCallHistory(e,h);y!=null&&y.calls&&Array.isArray(y.calls)?a(y.calls):a([])})()},[e]);const l=localStorage.getItem("uid"),u=t&&t.chat_type==="private"?(d=t.participants)==null?void 0:d.find(c=>c!==l):null;return n?(r==null?void 0:r.call_type)==="video"?f.jsx(ST,{endCall:i}):f.jsx(CT,{endCall:i}):f.jsxs("div",{className:"w-full px-6 py-6 text-white bg-[#0D1117] h-screen overflow-y-auto",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Calls"}),!u&&f.jsx("p",{className:"text-red-400 mb-4",children:"Cannot start a call  this is a group chat."}),f.jsxs("div",{className:"flex gap-4 mb-6",children:[f.jsx("button",{disabled:!u,onClick:()=>s(e,u,"video"),className:"px-5 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-40",children:"Start Video Call"}),f.jsx("button",{disabled:!u,onClick:()=>s(e,u,"audio"),className:"px-5 py-2 bg-green-600 rounded-lg hover:bg-green-700 disabled:opacity-40",children:"Start Voice Call"})]}),f.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Call History"}),o.length===0?f.jsx("p",{className:"text-gray-400",children:"No call history available."}):f.jsx("ul",{className:"space-y-3",children:o.map(c=>{const h=c.started_at?new Date(c.started_at):null,y=c.ended_at?new Date(c.ended_at):null;return f.jsxs("li",{className:"p-3 bg-[#111827] border border-[#1f2937] rounded-lg",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsxs("span",{className:"font-semibold capitalize",children:[c.call_type," call"]}),f.jsx("span",{className:"text-xs opacity-70",children:h?h.toLocaleString():"Unknown time"})]}),f.jsxs("p",{className:"text-gray-400",children:["Status: ",c.status]}),c.duration_seconds&&f.jsxs("p",{className:"text-gray-500 mt-1",children:["Duration: ",Math.floor(c.duration_seconds/60),"m"," ",c.duration_seconds%60,"s"]}),y&&f.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:["Ended at: ",y.toLocaleString()]})]},c._id||c.id)})})]})}function ET(){var d,c;const{user:e,logout:t}=vt(),[n,r]=x.useState(!1),[s,i]=x.useState((e==null?void 0:e.username)||""),[o,a]=x.useState((e==null?void 0:e.email)||""),l=()=>r(h=>!h),u=()=>{console.log("Updated Profile:",{username:s,email:o}),r(!1)};return f.jsxs("div",{className:"min-h-screen w-full bg-[#0D1117] text-white px-6 py-10",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),f.jsx("p",{className:"text-gray-400",children:"Manage your personal information"})]}),f.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-[#111827] border border-[#1f2937] rounded-xl p-6 max-w-xl mx-auto shadow-xl",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-600 to-blue-400 flex items-center justify-center text-3xl font-bold shadow-lg",children:((c=(d=e==null?void 0:e.username)==null?void 0:d[0])==null?void 0:c.toUpperCase())||"U"}),f.jsx("button",{onClick:l,className:"mt-4 px-4 py-1 bg-blue-600 rounded-lg text-sm hover:bg-blue-700 transition",children:n?"Cancel":"Edit Profile"})]}),f.jsxs("div",{className:"mt-8 space-y-5",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-sm mb-1 flex items-center gap-2",children:[f.jsx(J_,{size:16})," Username"]}),f.jsx("input",{type:"text",className:"w-full bg-[#0D1117] border border-[#1f2937] rounded-lg px-4 py-2 focus:ring-1 focus:ring-blue-500 outline-none",value:s,onChange:h=>i(h.target.value),disabled:!n})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-sm mb-1 flex items-center gap-2",children:[f.jsx(W_,{size:16})," Email"]}),f.jsx("input",{type:"email",className:"w-full bg-[#0D1117] border border-[#1f2937] rounded-lg px-4 py-2 focus:ring-1 focus:ring-blue-500 outline-none",value:o,onChange:h=>a(h.target.value),disabled:!n})]})]}),n&&f.jsx("button",{onClick:u,className:"w-full mt-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition active:scale-95",children:"Save Changes"})]}),f.jsxs("div",{className:"max-w-xl mx-auto mt-12 space-y-6",children:[f.jsx(hn,{to:"/security",className:"block bg-[#111827] border border-[#1f2937] rounded-xl p-5 hover:bg-[#1f2937] transition",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Q_,{size:22,className:"text-blue-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:"Security Center"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"2FA, devices, sessions, audit logs"})]})]})}),f.jsx(hn,{to:"/devices",className:"block bg-[#111827] border border-[#1f2937] rounded-xl p-5 hover:bg-[#1f2937] transition",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Lu,{size:22,className:"text-green-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:"Logged-in Devices"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Manage active devices"})]})]})}),f.jsx(hn,{to:"/change-password",className:"block bg-[#111827] border border-[#1f2937] rounded-xl p-5 hover:bg-[#1f2937] transition",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx($_,{size:22,className:"text-red-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:"Change Password"}),f.jsx("p",{className:"text-gray-400 text-sm",children:"Update your login credentials"})]})]})}),f.jsxs("button",{onClick:t,className:"w-full py-3 mt-4 bg-red-600 hover:bg-red-700 rounded-xl font-semibold flex items-center justify-center gap-2",children:[f.jsx(H_,{size:20})," Log Out"]})]})]})}const Zn="http://localhost:5050",er=()=>({Authorization:`Bearer ${localStorage.getItem("access_token")}`}),rp={async setup2FA(){return(await L.post(`${Zn}/security/setup-2fa`,{},{headers:er()})).data},async verify2FA(e){return(await L.post(`${Zn}/security/verify-2fa`,{code:e},{headers:er()})).data},async getAuditLogs(){return(await L.get(`${Zn}/security/audit-logs`,{headers:er()})).data},async getDevices(){return(await L.get(`${Zn}/security/devices`,{headers:er()})).data},async removeDevice(e){return(await L.delete(`${Zn}/security/devices/${e}`,{headers:er()})).data},async getSessionKeys(){return(await L.get(`${Zn}/security/session-keys`,{headers:er()})).data}};function bT(){const[e,t]=x.useState([]),[n,r]=x.useState(!0),s=async()=>{r(!0);try{const a=await rp.getDevices();t(a.devices||[])}catch(a){console.error("Error loading devices:",a)}r(!1)},i=async a=>{try{await rp.removeDevice(a),t(l=>l.filter(u=>u.id!==a))}catch(l){console.error("Failed to remove device:",l)}};x.useEffect(()=>{s()},[]);const o=a=>new Date(a).toLocaleString([],{hour:"2-digit",minute:"2-digit",day:"numeric",month:"short",year:"numeric"});return f.jsxs("div",{className:"min-h-screen bg-[#0D1117] text-white p-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Your Devices"}),f.jsx("p",{className:"text-gray-400",children:"Manage the devices logged into your account."})]}),n&&f.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>f.jsx("div",{className:"h-20 bg-[#111827] border border-[#1f2937] rounded-xl animate-pulse"},a))}),!n&&e.length===0&&f.jsxs("div",{className:"text-center text-gray-400 pt-10",children:[f.jsx(Lu,{className:"mx-auto mb-4 text-gray-500",size:48}),"No active devices found."]}),f.jsx(Kt,{children:!n&&e.map(a=>f.jsxs(Y.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-5 mb-4 rounded-xl bg-[#111827] border border-[#1f2937] flex justify-between items-center",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsx(Lu,{size:38,className:"text-blue-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-lg font-semibold",children:a.device_name||"Unknown Device"}),f.jsxs("div",{className:"text-gray-400 text-sm",children:["Last active: ",o(a.last_active)]}),f.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 mt-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(z_,{size:14}),a.browser||"Unknown Browser"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(nT,{size:14}),a.ip_address||"Unknown IP"]})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[a.is_active&&f.jsx("span",{className:"px-3 py-1 bg-green-600/20 text-green-400 rounded-lg text-xs mb-2",children:"Active"}),f.jsxs("button",{onClick:()=>i(a.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 transition rounded-lg text-sm",children:[f.jsx(X_,{size:16}),"Remove"]})]})]},a.id))})]})}function _T({size:e=45}){return f.jsx("div",{className:"w-full flex justify-center items-center py-6",children:f.jsx(Y.div,{animate:{rotate:360},transition:{repeat:1/0,duration:.8,ease:"linear"},className:"border-4 border-transparent border-t-blue-500 rounded-full",style:{width:e,height:e}})})}const tr=({children:e})=>{const{user:t,loading:n}=vt();return console.log(" ProtectedRoute check - loading:",n,"user:",t),n?f.jsx(_T,{}):t?(console.log(" User authenticated, rendering protected content"),e):(console.log(" No user, redirecting to /login"),f.jsx(_g,{to:"/login",replace:!0}))};function TT(){return f.jsx(e2,{children:f.jsx(eC,{children:f.jsx(G2,{children:f.jsx(oC,{children:f.jsx(aC,{children:f.jsx(uC,{children:f.jsx(ww,{children:f.jsxs(hw,{children:[f.jsx(We,{path:"/login",element:f.jsx(cC,{})}),f.jsx(We,{path:"/register",element:f.jsx(dC,{})}),f.jsx(We,{path:"/2fa",element:f.jsx(fC,{})}),f.jsx(We,{path:"/forgot-password",element:f.jsx(hC,{})}),f.jsx(We,{path:"/reset-password/:token",element:f.jsx(pC,{})}),f.jsx(We,{path:"/",element:f.jsx(tr,{children:f.jsx(fT,{})})}),f.jsx(We,{path:"/dm/:userId",element:f.jsx(tr,{children:f.jsx(hT,{})})}),f.jsx(We,{path:"/group/:groupId",element:f.jsx(tr,{children:f.jsx(pT,{})})}),f.jsx(We,{path:"/calls/:chatId",element:f.jsx(tr,{children:f.jsx(kT,{})})}),f.jsx(We,{path:"/profile",element:f.jsx(tr,{children:f.jsx(ET,{})})}),f.jsx(We,{path:"/devices",element:f.jsx(tr,{children:f.jsx(bT,{})})}),f.jsx(We,{path:"*",element:f.jsx(_g,{to:"/",replace:!0})})]})})})})})})})})}function PT({error:e,onReset:t}){return f.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full h-full flex flex-col justify-center items-center bg-[#0D1117] text-white p-6",children:f.jsxs("div",{className:"bg-[#111827] border border-red-600/40 shadow-xl rounded-xl p-8 max-w-lg w-full text-center",children:[f.jsx("h2",{className:"text-2xl font-semibold text-red-400 mb-3",children:"Something went wrong"}),f.jsx("p",{className:"text-gray-400 mb-6",children:(e==null?void 0:e.message)||"An unexpected error occurred."}),f.jsx("button",{onClick:t,className:"px-5 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition text-white font-medium shadow",children:"Reload Component"}),f.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Error logged for diagnostics."})]})})}const jT="http://localhost:5050",NT=()=>{const e=navigator.connection||navigator.webkitConnection||null;return{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,online:navigator.onLine,connection:e?{type:e.effectiveType,downlink:e.downlink,rtt:e.rtt}:null}},sp=e=>{try{return JSON.stringify(e)}catch{return String(e)}};let hl=!1;const RT={async logError(e){if(!hl)try{hl=!0,setTimeout(()=>hl=!1,3e3);const t={...e,timestamp:new Date().toISOString(),device:NT()};await L.post(`${jT}/security/log-client-error`,t,{headers:{"Content-Type":"application/json",...localStorage.getItem("access_token")?{Authorization:`Bearer ${localStorage.getItem("access_token")}`}:{}}})}catch(t){console.warn("Client error logging failed:",(t==null?void 0:t.message)||t)}},async logException(e,t={}){await this.logError({type:"exception",message:e==null?void 0:e.message,stack:e==null?void 0:e.stack,raw:sp(e),...t})},async logPromiseRejection(e){await this.logError({type:"unhandled_rejection",reason:e instanceof Error?e.message:sp(e),stack:e==null?void 0:e.stack})},attachGlobalHandlers(){window.onerror=(e,t,n,r,s)=>{this.logException(s||e,{source:t,line:n,col:r})},window.onunhandledrejection=e=>{this.logPromiseRejection(e.reason)}}};class AT extends qs.Component{constructor(n){super(n);hd(this,"resetError",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}async componentDidCatch(n,r){console.error("ErrorBoundary caught:",n,r);try{await RT.logError({message:(n==null?void 0:n.message)||"Unknown error",stack:n==null?void 0:n.stack,componentStack:r==null?void 0:r.componentStack})}catch(s){console.warn("Failed to send client error to server:",s)}}render(){return this.state.hasError?f.jsx(PT,{error:this.state.error,onReset:this.resetError}):this.props.children}}console.log("VITE_API_BASE =","http://localhost:5050");console.log("VITE_SOCKET_URL =","http://localhost:5050");console.log("VITE_WEBSOCKET_URL =","ws://localhost:5050");const LT=pl.createRoot(document.getElementById("root"));LT.render(f.jsx(qs.StrictMode,{children:f.jsx(AT,{children:f.jsx(TT,{})})}));
